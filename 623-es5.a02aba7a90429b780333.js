!function(){function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[623],{66623:function(t,r,i){"use strict";i.r(r),i.d(r,{DejaCircularPickerDemoModule:function(){return ae}});var o=i(61511),s=i(16073),f=i(27439),g=i(55109),p=i(33104),d=i(31572),h=i(19861),v=i(27312),m=i(87254),b=i(55959),C=i(31906),_=i(43835),x=i(47701),y=i(44689),T=i(90611),k=i(66599),w=i(25416),O=i(96673),M=i(48569),P=function(){function e(t,n){u(this,e),this.period=t,this.scheduler=n}return c(e,[{key:"call",value:function(e,t){return t.subscribe(new Z(e,this.period,this.scheduler))}}]),e}(),Z=function(e){n(r,e);var t=a(r);function r(e,n,a){var i;return u(this,r),(i=t.call(this,e)).period=n,i.scheduler=a,i.hasValue=!1,i.add(a.schedule(A,n,{subscriber:l(i),period:n})),i}return c(r,[{key:"_next",value:function(e){this.lastValue=e,this.hasValue=!0}},{key:"notifyNext",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}]),r}(O.L);function A(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}var I=["labelTemplate"],j=["cursorTemplate"],V=["picker"];function D(e,t){}var q=function(e){return{$implicit:e}};function L(e,t){if(1&e&&d.YNc(0,D,0,0,"ng-template",9),2&e){var n=d.oxw(2);d.Q6J("ngTemplateOutlet",n.cursorTemplate)("ngTemplateOutletContext",d.VKq(2,q,n.cursor.value))}}function J(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var n=d.oxw(2);d.xp6(1),d.Oqu(n.cursor.value)}}function E(e,t){if(1&e&&(d.TgZ(0,"div",6),d.YNc(1,L,1,4,void 0,7),d.YNc(2,J,2,1,"ng-template",null,8,d.W1O),d.qZA()),2&e){var n=d.MAs(3),r=d.oxw();d.Udp("top",r.cursor.position.top,"px")("left",r.cursor.position.left,"px"),d.xp6(1),d.Q6J("ngIf",r.cursorTemplate)("ngIfElse",n)}}function N(e,t){}var R=function(e,t){return{$implicit:e,index:t}};function Q(e,t){if(1&e&&d.YNc(0,N,0,0,"ng-template",9),2&e){var n=d.oxw(),r=n.$implicit,a=n.index,i=d.oxw();d.Q6J("ngTemplateOutlet",i.labelTemplate)("ngTemplateOutletContext",d.WLB(2,R,r.value,a))}}function U(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.Oqu(n.value)}}function Y(e,t){if(1&e&&(d.TgZ(0,"div",10),d.YNc(1,Q,1,5,void 0,11),d.YNc(2,U,2,1,"span",11),d.qZA()),2&e){var n=t.$implicit,r=d.oxw();d.Udp("top",n.position.top,"px")("left",n.position.left,"px"),d.uIk("value",n.value),d.xp6(1),d.Q6J("ngIf",r.labelTemplate),d.xp6(1),d.Q6J("ngIf",!r.labelTemplate)}}var S=function(e){return{transform:e}},H=function(e){return e[e.clockwise=-1]="clockwise",e[e.counterClockwise=1]="counterClockwise",e}({}),F=function(){var t=function(t){n(i,t);var r=a(i);function i(t,n,a){var o;u(this,i),(o=r.call(this)).changeDetectorRef=n,o.control=a,o.clockwiseFactor=H.clockwise,o.fullDiameter=310,o.labelsDiameter=43,o._outerLabels=!1,o._disabled=!1,o.twoPi=2*Math.PI,o._radius=0,o.configs=[],o._circularValues=[],o.onChangeCallback=function(e){},o.onTouchedCallback=function(){};var s=t.nativeElement;o.control&&(o.control.valueAccessor=l(o));var c=(0,m.R)(s.ownerDocument,"mouseup");return(0,m.R)(s,"mousedown").pipe((0,_.h)(function(e){return!o.disabled&&1===e.buttons}),(0,x.b)(100),(0,_.h)(function(e){o.clickedTime=Date.now();var t=o.getHtmlElement(e.target,"cursor"),n=o.getHtmlElement(e.target,"value");return t?o.cursorElement=t:n&&(o.value=+n.getAttribute("value")),!!t||!!n}),(0,y.w)(function(){var t=new b.xQ;s.ownerDocument.body.className.match(/noselect/)||s.ownerDocument.body.classList.add("noselect");var n=(0,C.T)(t,c).pipe((0,T.q)(1),(0,k.b)(function(){delete o.cursorElement,delete o.clickedTime,s.ownerDocument.body.className=s.ownerDocument.body.className.replace(/\bnoselect\b/,"")})),r=o.picker.nativeElement.getBoundingClientRect();return(0,m.R)(s.ownerDocument,"mousemove").pipe((0,w.R)(n),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.P;return function(n){return n.lift(new P(e,t))}}(10),(0,k.b)(function(n){if(1===n.buttons){var a=v.Cd.fromOuterRect(r);if(o.outerLabels){a=a.inflate(o.labelsDiameter);var i,l=e(o.configs);try{for(l.s();!(i=l.n()).done;){var u=i.value;if(a.containsPoint(new v.Ly(n.pageX,n.pageY))){o.selectedConfig=u;break}a=a.inflate(o.labelsDiameter)}}catch(f){l.e(f)}finally{l.f()}}else{a=a.inflate(-o.labelsDiameter*(o.configs.length-1));for(var s=o.configs.length;s>0;s--){if(a.containsPoint(new v.Ly(n.pageX,n.pageY))){o.selectedConfig=o.configs[s-1];break}a=a.inflate(o.labelsDiameter)}}var c=o.pointToValue(n.pageX-r.left,n.pageY-r.top,o.selectedConfig);c!==o.value&&(o.value=c)}else t.next()}))}),(0,w.R)(o.destroyed$)).subscribe(),o}return c(i,[{key:"outerLabels",get:function(){return this._outerLabels},set:function(e){this._outerLabels=(0,h.Ig)(e)||null}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,h.Ig)(e),this.changeDetectorRef.markForCheck()}},{key:"cursorHand",get:function(){return this._cursorHand}},{key:"cursor",get:function(){return this._cursor}},{key:"radius",get:function(){return this._radius}},{key:"circularValues",get:function(){return this._circularValues}},{key:"ngOnInit",value:function(){var e=this;this._radius=(this.fullDiameter-this.labelsDiameter)/2,this.ranges.forEach(function(t){t.interval=t.interval?t.interval:1,t.labelInterval=t.labelInterval?t.labelInterval:1,t.beginOffset=t.beginOffset?t.beginOffset:Math.PI/2,e.configs.push({range:t,stepAngle:e.twoPi/Math.floor((t.max-t.min+1)/t.interval),steps:Math.floor((t.max-t.min+1)/t.interval)})}),this.selectedConfig=this.configs[0],this.bind(),this.updateCursor()}},{key:"value",get:function(){return this._value},set:function(e){e!==this._value&&(this.writeValue(e),this.onChangeCallback(e))}},{key:"writeValue",value:function(e){e!==this._value&&(this._value=e,this.updateCursor())}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"pointToValue",value:function(e,t,n){var r=this.pointToAngle(e-this._radius,t-this._radius,n),a=n.steps-Math.ceil(r/n.stepAngle);return a<0&&(a=n.steps),n.range.min+a*n.range.interval}},{key:"valueToPoint",value:function(e,t,n){var r=new v.Ly,a=this.valueToAngle(e,n);return r.left=this._radius+(this._radius+t)*Math.cos(a),r.top=this._radius-(this._radius+t)*Math.sin(a),r}},{key:"pointToAngle",value:function(e,t,n){return(-Math.atan2(t,e)-n.range.beginOffset-n.stepAngle/2+this.twoPi)%this.twoPi}},{key:"valueToAngle",value:function(e,t){return Math.floor((e-t.range.min)/t.range.interval)*t.stepAngle*this.clockwiseFactor+t.range.beginOffset}},{key:"bind",value:function(){var e=this;this._circularValues=[],this.configs.forEach(function(t,n){for(var r=t.range.min;r<=t.range.max;r+=t.range.labelInterval*t.range.interval){var a={value:r},i=e.labelsDiameter/2,l=e.labelsDiameter*n,o=e.valueToPoint(r,e.outerLabels?i+l:-i-l,t);a.position=new v.Ly(o.left-i,o.top-i),e._circularValues.push(a)}})}},{key:"updateCursor",value:function(){var e=this;if(this._circularValues&&this._circularValues.length){null==this._value&&(this._value=this._circularValues[0].value),this.selectedConfig=this.configs.find(function(t){return e._value>=t.range.min&&e._value<=t.range.max}),this.selectedConfig||(this.selectedConfig=this.configs[0]);var t=this.configs.indexOf(this.selectedConfig),n=this.labelsDiameter/2,r=this.valueToPoint(this._value,this.outerLabels?n+this.labelsDiameter*t:-n-this.labelsDiameter*t,this.selectedConfig);this._cursor={position:new v.Ly(r.left-n,r.top-n),value:this._value},this._cursorHand={angle:this.valueToAngle(this._value,this.selectedConfig),width:this.outerLabels?this._radius+this.labelsDiameter*t:this._radius-this.labelsDiameter-this.labelsDiameter*t},this.changeDetectorRef.markForCheck()}}},{key:"getHtmlElement",value:function(e,t){for(var n=e;n&&!n.hasAttribute(t);)n=n.parentElement;if(n)return n}}]),i}(v.yl);return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(s.a5,10))},t.\u0275cmp=d.Xpm({type:t,selectors:[["deja-circular-picker"]],contentQueries:function(e,t,n){var r;(1&e&&(d.Suo(n,I,5),d.Suo(n,j,5)),2&e)&&(d.iGM(r=d.CRH())&&(t.labelTemplate=r.first),d.iGM(r=d.CRH())&&(t.cursorTemplate=r.first))},viewQuery:function(e,t){var n;(1&e&&d.Gf(V,7),2&e)&&(d.iGM(n=d.CRH())&&(t.picker=n.first))},inputs:{clockwiseFactor:"clockwiseFactor",fullDiameter:"fullDiameter",labelsDiameter:"labelsDiameter",ranges:"ranges",outerLabels:"outerLabels",disabled:"disabled"},features:[d.qOj],decls:6,vars:13,consts:[[1,"circular-picker"],["picker",""],[1,"cursor-container"],["class","cursor","cursor","",3,"top","left",4,"ngIf"],[1,"cursorHand",3,"ngStyle"],["class","value",3,"top","left",4,"ngFor","ngForOf"],["cursor","",1,"cursor"],[4,"ngIf","ngIfElse"],["valueTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"value"],[4,"ngIf"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0,1),d.TgZ(2,"div",2),d.YNc(3,E,4,6,"div",3),d._UZ(4,"div",4),d.qZA(),d.YNc(5,Y,3,7,"div",5),d.qZA()),2&e&&(d.Udp("width",2*t.radius,"px")("height",2*t.radius,"px"),d.ekj("disabled",t.disabled),d.xp6(3),d.Q6J("ngIf",void 0!==t.cursor.value),d.xp6(1),d.Udp("width",t.cursorHand.width+2,"px"),d.Q6J("ngStyle",d.VKq(11,S,"translateY(-50%) rotate("+-t.cursorHand.angle+"rad)")),d.xp6(1),d.Q6J("ngForOf",t.circularValues))},directives:[o.O5,o.PC,o.sg,o.tP],styles:["[_nghost-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative}[_nghost-%COMP%]   .circular-picker[_ngcontent-%COMP%]{border-radius:50%;position:relative}[_nghost-%COMP%]   .circular-picker[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;height:43px;line-height:43px;position:absolute;text-align:center;width:43px}[_nghost-%COMP%]   .circular-picker[_ngcontent-%COMP%]   .cursor-container[_ngcontent-%COMP%]   .cursor[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;height:43px;line-height:43px;position:absolute;text-align:center;width:43px;z-index:5}[_nghost-%COMP%]   .circular-picker[_ngcontent-%COMP%]   .cursor-container[_ngcontent-%COMP%]   .cursorHand[_ngcontent-%COMP%]{border-radius:2px;height:4px;left:50%;position:absolute;top:50%;transform-origin:left center}"],changeDetection:0}),t}(),B=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[o.ez,s.u5]]}),e}(),$=i(7631),X=i(71398),z=i(50246);function G(e,t){1&e&&(d.TgZ(0,"mat-card",5),d._UZ(1,"deja-markdown",6),d.qZA()),2&e&&(d.xp6(1),d.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/circular-picker/readme.md"))}function W(e,t){if(1&e&&d._uU(0),2&e){var n=t.$implicit,r=d.oxw(2);d.hij(" ",r.getLabelForValue(n)," ")}}function K(e,t){if(1&e&&d._uU(0),2&e){var n=t.$implicit;d.hij(" ",24===n?0:n," ")}}function ee(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"mat-card",7),d.TgZ(2,"mat-toolbar",8),d._uU(3,"Complex Circular-picker width custom labels"),d.qZA(),d.TgZ(4,"mat-card-content",9),d._UZ(5,"deja-circular-picker",10),d.TgZ(6,"deja-circular-picker",11),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().sm=e})("ngModelChange",function(e){return d.CHM(n),d.oxw().range42Changed(e)}),d.YNc(7,W,1,1,"ng-template",null,12,d.W1O),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"mat-card",7),d.TgZ(11,"mat-toolbar",8),d._uU(12,"Circular-picker demo simple - Range 1 to 20 (inside and outside labels)"),d.qZA(),d.TgZ(13,"mat-card-content",13),d.TgZ(14,"div"),d._UZ(15,"deja-circular-picker",14),d.qZA(),d.TgZ(16,"div"),d._UZ(17,"deja-circular-picker",15),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"mat-card",7),d.TgZ(19,"mat-toolbar",8),d._uU(20,"Circular-picker demo multiple range (inside labels)"),d.qZA(),d.TgZ(21,"mat-card-content",13),d.TgZ(22,"deja-circular-picker",16),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().sms=e}),d.YNc(23,K,1,1,"ng-template",null,12,d.W1O),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var r=d.oxw();d.xp6(5),d.Q6J("ranges",r.ranges41)("outerLabels",!0),d.xp6(1),d.Q6J("ngModel",r.sm)("ranges",r.ranges42),d.xp6(9),d.Q6J("ranges",r.ranges1),d.xp6(2),d.Q6J("ranges",r.ranges2)("outerLabels",!0),d.xp6(5),d.Q6J("ngModel",r.sms)("ranges",r.ranges3)}}var te,ne,re=X.Bz.forChild([{path:"",component:(te=function(){function e(){u(this,e),this.tabIndex=1,this.sm=3,this.sms=10,this.ranges1=[{min:1,max:20,labelInterval:2}],this.ranges2=[{min:1,max:20}],this.ranges3=[{min:1,max:12,beginOffset:Math.PI/3},{min:13,max:24,beginOffset:Math.PI/3}],this.ranges41=[{labelInterval:5,max:59,min:0}],this.ranges42=[{max:11,min:0},{max:111,min:100}],this.myModel=[{value:0,label:"T0"},{value:1,label:"T1"},{value:2,label:"T2"},{value:3,label:"T3"},{value:4,label:"T4"},{value:5,label:"T5"},{value:6,label:"T6"},{value:7,label:"T7"},{value:8,label:"T8"},{value:9,label:"T9"},{value:10,label:"T10"},{value:11,label:"T11"},{value:100,label:"T-1",realValue:-1},{value:101,label:"T-2",realValue:-2},{value:102,label:"T-3",realValue:-3},{value:103,label:"T-4",realValue:-4},{value:104,label:"T-5",realValue:-5},{value:105,label:"T-6",realValue:-6},{value:106,label:"T-7",realValue:-7},{value:107,label:"T-8",realValue:-8},{value:108,label:"T-9",realValue:-9},{value:109,label:"T-10",realValue:-10},{value:110,label:"T-11",realValue:-11},{value:111,label:"T-12",realValue:-12}]}return c(e,[{key:"range42Changed",value:function(e){console.log("Selected model ".concat(this.getLabelForValue(e)))}},{key:"getLabelForValue",value:function(e){var t=this.myModel.find(function(t){return t.value===e});return(null==t?void 0:t.label)||(null==e?void 0:e.toString())||""}}]),e}(),te.\u0275fac=function(e){return new(e||te)},te.\u0275cmp=d.Xpm({type:te,selectors:[["deja-circular-picker-demo"]],decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["class","demo-card demo-basic",4,"ngIf"],[4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],[1,"demo-card"],["color","primary"],["id","complex-wrapper",1,"listContainer"],["id","outside",3,"ranges","outerLabels"],["id","inside",3,"ngModel","ranges","ngModelChange"],["cursorTemplate","","labelTemplate",""],[1,"listContainer"],[3,"ranges"],[3,"ranges","outerLabels"],[3,"ngModel","ranges","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"mat-tab-group",0),d.NdJ("selectedTabChange",function(e){return t.tabIndex=e.index}),d._UZ(1,"mat-tab",1),d._UZ(2,"mat-tab",2),d.qZA(),d.YNc(3,G,2,1,"mat-card",3),d.YNc(4,ee,26,9,"div",4)),2&e&&(d.Q6J("selectedIndex",t.tabIndex),d.xp6(3),d.Q6J("ngIf",0===t.tabIndex),d.xp6(1),d.Q6J("ngIf",1===t.tabIndex))},directives:[g.SP,g.uX,o.O5,f.a8,z.F,p.Ye,f.dn,F,s.JJ,s.On],styles:["[_nghost-%COMP%]   .listContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px;padding:2rem 0}[_nghost-%COMP%]   .listContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 auto}[_nghost-%COMP%]   .listContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   deja-circular-picker[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center}[_nghost-%COMP%]   .listContainer#complex-wrapper[_ngcontent-%COMP%]{position:relative;height:333px}[_nghost-%COMP%]   .listContainer#complex-wrapper[_ngcontent-%COMP%]   #inside[_ngcontent-%COMP%], [_nghost-%COMP%]   .listContainer#complex-wrapper[_ngcontent-%COMP%]   #outside[_ngcontent-%COMP%]{left:50%;position:absolute!important;top:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .listContainer#complex-wrapper[_ngcontent-%COMP%]   #inside[_ngcontent-%COMP%]   .circular-picker[_ngcontent-%COMP%]{background:transparent;border:none}"]}),te)},{path:"**",redirectTo:"",pathMatch:"full"}]),ae=((ne=function e(){u(this,e)}).\u0275fac=function(e){return new(e||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({providers:[],imports:[[o.ez,s.u5,f.QW,g.Nh,p.g0,B,$.O,re]]}),ne)}}])}();