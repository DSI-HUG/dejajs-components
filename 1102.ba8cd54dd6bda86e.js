"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[1102],{9809:(W,k,l)=>{l.d(k,{K:()=>L,c:()=>R});var M=l(8767),b=l(4004),F=l(9646),P=l(4782),q=l(5e3),N=l(520),U=l(9009);class R{constructor(){this.displayName=void 0,this.naqme=void 0,this.code=void 0,this.color=void 0}}let L=(()=>{class S{constructor(I,e){this.httpClient=I,this.countriesDic={},this.materialColors=e.getPalet("700")}getCountryByIndex$(I){return this.getCountries$().pipe((0,b.U)(e=>e[I%e.length]))}getCountryByCode$(I){return(0,F.of)(this.countriesDic[I])}getCountries$(I,e){let h=e||0;return this.httpClient.get("assets/datas/countries.json",{}).pipe((0,b.U)(j=>M.cV.deserializeArray(R,j.data)),(0,b.U)(j=>{let x=0;return j.forEach(v=>{v.displayName=v.naqme,v.color=this.materialColors[x].toHex(),this.countriesDic[v.code]=v,++x>=this.materialColors.length&&(x=0)}),j}),(0,P.d)({bufferSize:1,refCount:!1}),(0,b.U)(j=>{if(I){const x=new RegExp(`^${I}`,"i"),v=new RegExp(`^(?!${I}).*(${I})`,"i"),C=j.filter(g=>x.test(g.naqme));return j.forEach(g=>{v.test(g.naqme)&&C.push(g)}),C}return j}),(0,b.U)(j=>{let x=j;if(h)for(;h>0;)x=x.concat(j),h-=j.length;return x}))}}return S.\u0275fac=function(I){return new(I||S)(q.LFG(N.eN),q.LFG(U.ZD))},S.\u0275prov=q.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},1102:(W,k,l)=>{l.r(k),l.d(k,{DejaTreeListDemoModule:()=>wt});var M=l(9808),b=l(3075),F=l(7423),P=l(9224),q=l(7446),N=l(7322),U=l(5245),R=l(7531),L=l(3251),S=l(4594),A=l(2729),I=l(5395),e=l(5e3),h=l(7916),j=l(4968),x=l(9300),v=l(3900),C=l(5698),g=l(2722),y=l(8505),O=l(2181),E=l(3191);let le=(()=>{class r extends h.yl{constructor(t,i,n){super(),this.clipboardService=i,this.draggable=null,this.draginfokey="draginfos",this.objectKey="object",this.elementKey="element",this.uuidKey="uuid";const s=t.nativeElement;(0,j.R)(s,"dragstart").pipe((0,x.h)(()=>!!this.context),(0,v.w)(d=>{var u,f;if(!i)throw new Error("To use the DejaDraggableDirective, please import and provide the DejaClipboardService in your application.");const o={};this.dragdropid=n.generate(),o[this.uuidKey]=this.dragdropid;const c=(null===(u=this.context)||void 0===u?void 0:u.object)||s;o[this.objectKey]=c,o[this.elementKey]=s,this.clipboardService.set(this.draginfokey,o);let p="notavailable";if(c&&(c.dragged=!0,p=JSON.stringify(p)),null!==(f=this.context)&&void 0!==f&&f.dragstartcallback){const m=d;m.dragInfo=o,m.dragObject=this.context.object,m.dragElement=s,this.context.dragstartcallback(m),d.dataTransfer.setData("text/plain",p),m.defaultPrevented&&d.preventDefault()}return(0,j.R)(s,"dragend").pipe((0,C.q)(1))}),(0,g.R)(this.destroyed$)).subscribe(d=>{var u;const f=this.clipboardService.get(this.draginfokey),o=null==f?void 0:f[this.objectKey];if(o&&delete o.dragged,(null===(u=this.context)||void 0===u?void 0:u.dragendcallback)&&f){const c=d;c.dragInfo=f,c.dragObject=o,c.dragElement=f[this.elementKey],this.context.dragendcallback(c),c.defaultPrevented&&d.stopPropagation()}this.clipboardService.clear(),this.dragdropid=void 0})}set context(t){this._context=t,this.draggable=!!t||null}get context(){return this._context}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(h.ST,8),e.Y36(h.KM))},r.\u0275dir=e.lG2({type:r,selectors:[["","deja-draggable",""]],hostVars:2,hostBindings:function(t,i){2&t&&e.uIk("draggable",i.draggable)("dragdropid",i.dragdropid)},inputs:{context:["deja-draggable","context"]},features:[e.qOj]}),r})(),B=(()=>{class r extends h.yl{constructor(t,i){super(),this.clipboardService=i,this.droppable=null,this.draginfokey="draginfos",this.objectKey="object",this.droppedKey="dropped",this.elementKey="element",this._allEvents=!1;let n=!1;const s=t.nativeElement,d=(0,j.R)(s,"dragenter").pipe((0,y.b)(()=>{if(!i)throw new Error("To use the DejaDroppableDirective, please import and provide the DejaClipboardService in your application.")}),(0,x.h)(()=>!(n||!this.context||!this.context.dragentercallback||!this.clipboardService.get(this.draginfokey))),(0,y.b)(()=>n=!0)),u=(0,j.R)(s,"dragleave").pipe((0,x.h)(()=>n&&!!this.context&&!!this.clipboardService.get(this.draginfokey)),(0,x.h)(p=>{const m=s.getBoundingClientRect();return!(p.x>=m.left&&p.x<=m.right&&p.y>=m.top&&p.y<=m.bottom)})),f=(0,j.R)(s,"drop").pipe((0,x.h)(()=>n&&!!this.context&&!!this.clipboardService.get(this.draginfokey))),o=(0,j.R)(s,"dragover").pipe((0,x.h)(()=>n)),c=d.pipe((0,O.b)(u,f),(0,y.b)(()=>n=!1));d.pipe((0,v.w)(p=>{const m=this.clipboardService.get(this.draginfokey),_=p;_.dragInfo=m,_.dragObject=p[this.objectKey],_.dragElement=s,_.itsMe=p[this.elementKey]===s,this.context.dragentercallback(_),_.defaultPrevented?(p.preventDefault(),p.dataTransfer.dropEffect="copy"):p.dataTransfer.dropEffect="none";const D=u.pipe((0,C.q)(1),(0,x.h)(()=>!!this.context.dragleavecallback),(0,y.b)($=>{const Z=new CustomEvent("DejaDragLeave",{cancelable:!0});this.context.dragleavecallback(Z),Z.defaultPrevented&&$.preventDefault()})),H=f.pipe((0,C.q)(1),(0,x.h)(()=>!!this.context.dropcallback),(0,y.b)($=>{if(m){const Z=$;Z.dragInfo=m,Z.dragObject=m[this.objectKey],Z.dragElement=s,Z.itsMe=m[this.elementKey]===s,this.context.dropcallback(Z),Z.defaultPrevented?(Z.dragInfo[this.droppedKey]=!0,$.preventDefault(),p.dataTransfer.dropEffect="copy"):p.dataTransfer.dropEffect="none"}})),K=o.pipe((0,g.R)(c),(0,y.b)($=>{if(!this._allEvents&&this.lastTarget&&this.lastTarget===$.target)this.lastAccept?($.preventDefault(),p.dataTransfer.dropEffect="copy"):p.dataTransfer.dropEffect="none";else if(this.context.dragovercallback&&m){const Z=$;Z.dragInfo=m,Z.dragObject=m[this.objectKey],Z.dragElement=s,Z.itsMe=m[this.elementKey]===s,this.context.dragovercallback(Z),this.lastTarget=$.target,this.lastAccept=Z.defaultPrevented,Z.defaultPrevented?($.preventDefault(),p.dataTransfer.dropEffect="copy"):p.dataTransfer.dropEffect="none"}}));return H.pipe((0,O.b)(K,D))}),(0,g.R)(this.destroyed$)).subscribe(p=>{})}set allEvents(t){this._allEvents=(0,E.Ig)(t)}set context(t){this._context=t,this.droppable=!!t||null}get context(){return this._context}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(h.ST,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","deja-droppable",""]],hostVars:1,hostBindings:function(t,i){2&t&&e.uIk("droppable",i.droppable)},inputs:{allEvents:["continous-dragover","allEvents"],context:["deja-droppable","context"]},features:[e.qOj]}),r})(),z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var X=l(9623),V=l(1135),w=l(4004),T=l(9646),J=l(7579),de=l(1884),Q=l(9009);let ee=(()=>{class r extends h.yl{constructor(){super(),this.dragCursor$=new V.X(null),this.dropCursor$=new V.X(null),this.dragging$=new V.X(!1),this._context={},this._isDragging=!1,console.warn("@deja-js/component/mouse-dragdrop is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/mouse-dragdrop."),this.dragging$.pipe((0,y.b)(t=>this._isDragging=t),(0,x.h)(t=>!t),(0,g.R)(this.destroyed$)).subscribe(()=>this._context={})}get isDragging(){return this._isDragging}set context(t){this._context=t}get context(){return this._context}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ce=(()=>{class r extends h.yl{constructor(t,i){super();const n=t.nativeElement,s=(0,j.R)(n,"mouseleave"),d=(0,j.R)(n,"mouseenter"),u=(0,j.R)(n.ownerDocument,"mouseup"),f=(0,j.R)(n,"mousedown"),o=(0,j.R)(n.ownerDocument,"mousemove");d.pipe((0,x.h)(()=>!i.isDragging),(0,v.w)(()=>f.pipe((0,x.h)(c=>1===c.buttons),(0,g.R)(s),(0,v.w)(c=>{let p;const m=_=>_.tagName===this.context.target.toUpperCase()||_.id===this.context.target.substr(1)||_.hasAttribute(this.context.target.substring(1,this.context.target.length-1));if(this.context){if(this.context.target)for(p=c.target;p&&!m(p);)p=p.parentElement;else p=n;if(p&&this.context.dragStart){const _=this.context.dragStart(p);if(_)return _.subscribe?_.pipe((0,C.q)(1),(0,w.U)(H=>(i.context=H,H&&p))):(i.context=_,(0,T.of)(p))}}return(0,T.of)(null)}),(0,x.h)(c=>!!c),(0,v.w)(c=>{i.dragging$.next(!0);const p=new J.x,m=d.pipe((0,x.h)(D=>1!==D.buttons&&i.isDragging)),_=u.pipe((0,O.b)(m,p),(0,C.q)(1),(0,y.b)(()=>{i.dragCursor$.next(null),i.dragging$.next(!1)}));return o.pipe((0,g.R)(_),(0,y.b)(D=>{if(c&&1===D.buttons){const H=new Q.UL(n.getBoundingClientRect()),K=new Q.Ly(D.pageX,D.pageY),$=H.containsPoint(K)?c.innerHTML:void 0;i.dragCursor$.next({position:K,html:$,originalHtml:c.innerHTML,width:c.offsetWidth,height:c.offsetHeight,className:this.context.className,originalEvent:D})}else p.next();return!1}))}))),(0,g.R)(this.destroyed$)).subscribe()}set context(t){this._context=t}get context(){return this._context}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(ee))},r.\u0275dir=e.lG2({type:r,selectors:[["","deja-mouse-draggable",""]],inputs:{context:["deja-mouse-draggable","context"]},features:[e.qOj]}),r})(),ue=(()=>{class r extends h.yl{constructor(t,i){super();const n=t.nativeElement,s=i.dragging$.pipe((0,de.x)()),d=i.dragCursor$.pipe((0,x.h)(u=>!!u),(0,v.w)(u=>s.pipe((0,x.h)(f=>!f),(0,C.q)(1),(0,y.b)(()=>{var f;this._dragContext&&(null===(f=this.context)||void 0===f?void 0:f.drop)&&this.context.drop(this._dragContext,u),this._dragContext=void 0,i.dropCursor$.next(null)}))));s.pipe((0,x.h)(u=>u),(0,v.w)(()=>i.dragCursor$.pipe((0,g.R)(d),(0,v.w)(u=>{var f;const o=new Q.UL(n.getBoundingClientRect());if(this.context&&u){const{pageX:c,pageY:p}=u.originalEvent;if(o.containsPoint(new Q.Ly(c,p))){if(this._dragContext){if(this.context.dragOver){const m=this.context.dragOver(this._dragContext,u);if(m)return(0,T.of)(m)}}else if(this._dragContext=i.context,this.context.dragEnter){const m=this.context.dragEnter(this._dragContext,u);if(m){const _=m;return _.subscribe?_:(0,T.of)(m)}}}else this._dragContext&&(!(null===(f=this.context)||void 0===f)&&f.dragLeave&&this.context.dragLeave(this._dragContext),this._dragContext=void 0,i.dropCursor$.next(null))}return(0,T.of)(null)}))),(0,x.h)(u=>!!u),(0,g.R)(this.destroyed$)).subscribe(u=>i.dropCursor$.next(u))}set context(t){this._context=t}get context(){return this._context}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(ee))},r.\u0275dir=e.lG2({type:r,selectors:[["","deja-mouse-droppable",""]],inputs:{context:["deja-mouse-droppable","context"]},features:[e.qOj]}),r})(),pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[U.Ps]}),r})();var te=l(5365),Y=l(8372),ie=l(2718),me=l(5963);const he=["itemTemplate"],ge=["parentItemTemplate"],fe=["loaderTemplate"],xe=["headerTemplate"],_e=["searchPrefixTemplate"],ve=["searchSuffixTemplate"],je=["inputelement"],Te=["listElement"];function be(r,a){}function Ce(r,a){if(1&r&&(e.TgZ(0,"span",16),e.YNc(1,be,0,0,"ng-template",17),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchPrefixTemplate)}}function De(r,a){}function ye(r,a){if(1&r&&(e.TgZ(0,"span",18),e.YNc(1,De,0,0,"ng-template",17),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchSuffixTemplate)}}function Ze(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-form-field",11)(1,"input",12,13),e.NdJ("input",function(){e.CHM(t);const n=e.MAs(3),s=e.oxw(2);return e.KtG(s.setQuery$.next(n&&n.value))}),e.qZA(),e.YNc(4,Ce,2,1,"span",14),e.YNc(5,ye,2,1,"span",15),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.query)("placeholder",t.placeholder)("disabled",t.disabled),e.xp6(3),e.Q6J("ngIf",t.searchPrefixTemplate),e.xp6(1),e.Q6J("ngIf",t.searchSuffixTemplate)}}function Ie(r,a){if(1&r&&(e.TgZ(0,"div",9),e.YNc(1,Ze,6,5,"mat-form-field",10),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.searchArea)}}function we(r,a){}function Ae(r,a){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,we,0,0,"ng-template",17),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Me(r,a){if(1&r&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.nodataholder)}}function Se(r,a){if(1&r&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.hintLabel)}}function $e(r,a){if(1&r&&e._UZ(0,"div"),2&r){const t=e.oxw();e.Udp("height",t.vpBeforeHeight,"px")}}function Le(r,a){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"arrow_drop_down"),e.qZA())}function Ue(r,a){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(i.getTextValue(t))}}function Ee(r,a){}const ne=function(r,a,t){return{$implicit:r,query:a,flatindex:t}};function qe(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Ee,0,0,"ng-template",26),e.BQk()),2&r){const t=e.oxw(),i=t.$implicit,n=t.index,s=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",s.parentItemTemplate)("ngTemplateOutletContext",e.kEZ(2,ne,i,s.query,s.vpStartRow+n))}}function Ne(r,a){}function Re(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Ne,0,0,"ng-template",26),e.BQk()),2&r){const t=e.oxw(),i=t.$implicit,n=t.index,s=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",e.kEZ(2,ne,i,s.query,s.vpStartRow+n))}}function Fe(r,a){if(1&r&&(e.TgZ(0,"div",23,24)(2,"span",25),e.YNc(3,Le,2,0,"mat-icon",7),e.qZA(),e.YNc(4,Ue,2,1,"ng-container",7),e.YNc(5,qe,2,6,"ng-container",7),e.YNc(6,Re,2,6,"ng-container",7),e.qZA()),2&r){const t=a.$implicit,i=a.index,n=e.oxw(2);e.Udp("width",n.itemsWidth,"px")("height",n.getItemHeight(t),"px"),e.Q6J("deja-draggable",n.getDragContext(n.vpStartRow+i)),e.uIk("class",n.getItemClass(t))("current",n.vpStartRow+i===n.currentItemIndex||null)("depth",n.depthMax?t.depth:null)("id",t.id||null)("flat",n.vpStartRow+i),e.xp6(3),e.Q6J("ngIf",null==t.$items?null:t.$items.length),e.xp6(1),e.Q6J("ngIf",(!t.$items||!n.parentItemTemplate)&&(t.$items||!n.itemTemplate)),e.xp6(1),e.Q6J("ngIf",t.$items&&n.parentItemTemplate),e.xp6(1),e.Q6J("ngIf",!t.$items&&n.itemTemplate)}}function Pe(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Fe,7,14,"div",22),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.treeItemList)}}function Je(r,a){if(1&r&&e._UZ(0,"div"),2&r){const t=e.oxw();e.Udp("height",t.vpAfterHeight,"px")}}function ke(r,a){1&r&&e._UZ(0,"deja-list-loader",27)}function Oe(r,a){}function Qe(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Oe,0,0,"ng-template",17),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.loaderTemplate)}}let He=(()=>{class r extends A.ZE{constructor(t,i,n,s,d){super(t,i),this.viewPort=i,this.elementRef=n,this.control=s,this.clipboardService=d,this.scroll=new e.vpe,this.query="",this.itemsWidth=null,this.itemDragEnd=new e.vpe,this.itemDragStart=new e.vpe,this.selectedChange=new e.vpe,this.viewPortChanged=new e.vpe,this._disabled=null,this.setQuery$=new J.x,this._keyboardNavigation=!1,this.rangeStartIndex=0,this.filterExpression="",this._searchArea=!1,this._sortable=!1,this._itemsDraggable=!1,this.hasCustomService=!1,this.hasLoadingEvent=!1,this._modelIsValue=!1,this.keyboardNavigation$=new J.x,this.clearFilterExpression$=new V.X(null),this.writeValue$=new J.x,this.selectItems$=new J.x,this.contentInitialized$=new J.x,this.onTouchedCallback=()=>{},this.onChangeCallback=o=>{},console.warn("@deja-js/component/deja-tree-list is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/tree-list instead."),this.control&&(this.control.valueAccessor=this),this.clearFilterExpression$.pipe((0,Y.b)(400),(0,g.R)(this.destroyed$)).subscribe(()=>this.filterExpression=""),this.keyboardNavigation$.pipe((0,y.b)(()=>this._keyboardNavigation=!0),(0,Y.b)(1e3),(0,g.R)(this.destroyed$)).subscribe(()=>{this._keyboardNavigation=!1,this.changeDetectorRef.markForCheck()}),(0,j.R)(window,"resize").pipe((0,Y.b)(5),(0,g.R)(this.destroyed$)).subscribe(()=>{this.viewPort.deleteSizeCache(),this.viewPort.refresh(),this.changeDetectorRef.markForCheck()}),this.setQuery$.pipe((0,Y.b)(250),(0,v.w)(o=>(this.query=o,this.setCurrentItem(void 0),this.calcViewList$())),(0,g.R)(this.destroyed$)).subscribe();const u=this.selectItems$.pipe((0,ie.V)(this.contentInitialized$),(0,w.U)(([o])=>o),(0,w.U)(o=>this.getVirtualSelectedEntities(o)),(0,w.U)(o=>o instanceof Array&&o||o&&[o]||[]),(0,y.b)(o=>super.setSelectedItems(o)));this.writeValue$.pipe((0,ie.V)(this.contentInitialized$),(0,w.U)(([o])=>{if(void 0===this.modelIsValue)if(o instanceof Array){const c=o||[],p=c.length&&typeof c[0];this.modelIsValue="string"===p||"number"===p}else{const c=typeof o;this.modelIsValue=""===o||"string"===c||"number"===c}return this.modelIsValue&&(this.query=""),o}),(0,w.U)(o=>this.getVirtualSelectedEntities(o)),(0,y.b)(o=>super.setSelectedModels(!o||this._multiSelect||o instanceof Array?o:[o]))).pipe((0,O.b)(u),(0,g.R)(this.destroyed$)).subscribe(()=>{super.getItemListService().ensureSelection(),this.changeDetectorRef.markForCheck()}),this._viewPortChanged=this.viewPortChanged,this.maxHeight=0}set minSearchlength(t){this._minSearchLength=(0,E.su)(t)}get minSearchlength(){return this._minSearchLength}set listElememtRef(t){this.listElement=t.nativeElement}keyboardNavigation(){return this._keyboardNavigation}set searchArea(t){this._searchArea=(0,E.Ig)(t)}get searchArea(){return this._searchArea||this.minSearchlength>0}set modelIsValue(t){this._modelIsValue=(0,E.Ig)(t)}get modelIsValue(){return this._modelIsValue}set sortable(t){this._sortable=(0,E.Ig)(t)}get sortable(){return this._sortable}set itemsDraggable(t){this._itemsDraggable=(0,E.Ig)(t)}get itemsDraggable(){return this._itemsDraggable}set pageSize(t){this._pageSize=(0,E.su)(t)}get pageSize(){if(0===this._pageSize){const t=this.getViewPortRowHeight(),i=this.getMaxHeight()||this.listElement.clientHeight;return Math.floor(i/t)}return this._pageSize}set hintLabel(t){this.setHintLabel(t)}get hintLabel(){return this._hintLabel}set viewPortRowHeight(t){this.setViewPortRowHeight(t)}set viewportMode(t){this.setViewportMode(t)}set childrenField(t){super.setChildrenField(t)}get childrenField(){return this._childrenField}set textField(t){super.setTextField(t)}set valueField(t){super.setValueField(t)}set searchField(t){super.setSearchField(t)}get searchField(){return this._searchField}set maxHeight(t){super.setMaxHeight(t)}get maxHeight(){return this.getMaxHeight()}set currentItem(t){super.setCurrentItem(t),t&&this.ensureItemVisible(t)}get currentItem(){return super.getCurrentItem()}get depthMax(){return this._depthMax}set multiSelect(t){super.setMultiSelect((0,E.Ig)(t))}get multiSelect(){return this._multiSelect}set selectedItems(t){void 0!==t&&this.selectItems$.next(t)}get selectedItems(){return super.getSelectedItems()}set selectedItem(t){void 0!==t&&this.selectItems$.next(t)}get selectedItem(){const t=super.getSelectedItems();return null==t?void 0:t[0]}set selectedModel(t){void 0!==t&&this.writeValue(t)}get selectedModel(){const t=super.getSelectedModels();return null==t?void 0:t[0]}set selectedModels(t){void 0!==t&&this.writeValue(t)}get selectedModels(){return super.getSelectedModels()}set itemListService(t){void 0!==t&&(this.hasCustomService=!0,this.setItemListService(t),null!=t&&t.lastQuery&&(this.query=t.lastQuery.toString()))}get itemListService(){return this.getItemListService()}set sortingService(t){this.setSortingService(t)}set groupingService(t){this.setGroupingService(t)}set items(t){delete this.hintLabel,super.setItems$(t).pipe((0,v.w)(i=>this.minSearchlength>0&&!this.query?(this._itemList=[],this.changeDetectorRef.markForCheck(),(0,T.of)(i)):this.calcViewList$().pipe((0,w.U)(()=>i))),(0,g.R)(this.destroyed$)).subscribe()}set loadingItems(t){this.hasLoadingEvent=!!t,super.setLoadingItems(t)}set selectingItem(t){super.setSelectingItem(t)}set unselectingItem(t){super.setUnselectingItem(t)}set expandingItem(t){super.setExpandingItem(t)}set collapsingItem(t){super.setCollapsingItem(t)}set models(t){super.setModels$(t).pipe((0,C.q)(1),(0,v.w)(()=>this.calcViewList$()),(0,g.R)(this.destroyed$)).subscribe()}set disabled(t){const i=(0,E.Ig)(t);this._disabled=i||null,this.changeDetectorRef.markForCheck()}get disabled(){return this._disabled}set waiter(t){this._waiter=(0,E.Ig)(t)}get waiter(){return this._waiter}set inputValidatorDirective(t){t&&(t.parentControl=this.control)}set currentItemIndex(t){super.setCurrentItemIndex(t),this.changeDetectorRef.markForCheck()}get currentItemIndex(){return this.getCurrentItemIndex()}get itemTemplate(){return this.itemTemplateExternal||this.itemTemplateInternal}get parentItemTemplate(){return this.parentItemTemplateExternal||this.parentItemTemplateInternal}get loaderTemplate(){return this.loaderTemplateExternal||this.loaderTemplateInternal}get headerTemplate(){return this.headerTemplateExternal||this.headerTemplateInternal}get searchPrefixTemplate(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal}get searchSuffixTemplate(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal}get value(){return this._multiSelect?this.selectedItems:this.selectedItem}set value(t){this.writeValue(t),this.onChangeCallback(t),this.onTouchedCallback()}writeValue(t){this.writeValue$.next(t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}toggleAll$(t){return super.toggleAll$(t).pipe((0,v.w)(i=>this.calcViewList$().pipe((0,C.q)(1),(0,w.U)(()=>i))))}toggleAll(t){this.toggleAll$(t).pipe((0,C.q)(1),(0,g.R)(this.destroyed$)).subscribe()}ensureItemVisible(t){super.ensureItemVisible(t)}clearViewPort(){super.clearViewPort()}ngAfterContentInit(){var t;if(!this.items&&(null===(t=this.options)||void 0===t?void 0:t.length)){const i=[];this.valueField="value",this.textField="text";const n=this.options.map(s=>{const d={text:s.text,value:s.value};return s.selected&&i.push(d),d});this.models=n,i.length&&(this.selectedModels=i),n.length>100&&console.error("Select options with more than 100 items can have performance options. Please bind directly the items in code behind with items or models input.")}this.contentInitialized$.next(!0)}ngAfterViewInit(){0===this._itemList.length&&(this.hasCustomService||this.hasLoadingEvent)&&(0,me.H)(1).pipe((0,C.q)(1),(0,v.w)(()=>this.calcViewList$()),(0,g.R)(this.destroyed$)).subscribe(),(0,j.R)(this.listElement,"scroll").pipe((0,w.U)(n=>{const s=n.target;return this.scroll.emit({originalEvent:n,scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),s.scrollTop}),(0,g.R)(this.destroyed$)).subscribe(n=>this.viewPort.scrollPosition$.next(n));let t=(0,j.R)(this.listElement,"keydown");if(this.input){const n=(0,j.R)(this.input.nativeElement,"keydown");t=t.pipe((0,O.b)(n))}t.pipe((0,x.h)(()=>!this.disabled),(0,x.h)(n=>{const s=n.code;return s===h.mW.Home||s===h.mW.End||s===h.mW.PageUp||s===h.mW.PageDown||s===h.mW.UpArrow||s===h.mW.DownArrow||s===h.mW.Space||s===h.mW.Enter}),(0,v.w)(n=>this.ensureListCaches$().pipe((0,v.w)(()=>{if(!this.rowsCount)return(0,T.of)(null);const s=D=>{this.currentItemIndex=D,this.ensureItemVisible(this.currentItemIndex),this.viewPort.refresh()},d=this.rangeStartIndex>=0?this.rangeStartIndex:this.rangeStartIndex=this.currentItemIndex;let u,f,o,c,p,m,_;switch(n.code){case h.mW.Home:return s(0),n.shiftKey?this.selectRange$(d,0):n.ctrlKey?(0,T.of)(-1):(this.rangeStartIndex=0,this.selectRange$(this.rangeStartIndex));case h.mW.End:return s(this.rowsCount-1),n.shiftKey?this.selectRange$(d,this.rowsCount-1):n.ctrlKey?(0,T.of)(-1):(this.rangeStartIndex=this.rowsCount-1,this.selectRange$(this.rangeStartIndex));case h.mW.PageUp:return u=Math.max(0,this.currentItemIndex-this._pageSize),s(u),n.shiftKey?this.selectRange$(d,u):n.ctrlKey?(0,T.of)(-1):(this.rangeStartIndex=u,this.selectRange$(this.rangeStartIndex));case h.mW.PageDown:return f=Math.min(this.rowsCount-1,this.currentItemIndex+this._pageSize),s(f),n.shiftKey?this.selectRange$(d,f):n.ctrlKey?(0,T.of)(-1):(this.rangeStartIndex=f,this.selectRange$(this.rangeStartIndex));case h.mW.UpArrow:if(o=Math.max(0,this.currentItemIndex-1),-1!==o){if(s(o),n.shiftKey)return this.selectRange$(d,o);if(!n.ctrlKey)return this.rangeStartIndex=o,this.selectRange$(this.rangeStartIndex)}return(0,T.of)(-1);case h.mW.DownArrow:if(c=Math.min(this.rowsCount-1,this.currentItemIndex+1),-1!==c){if(s(c),n.shiftKey)return this.selectRange$(d,c);if(!n.ctrlKey)return this.rangeStartIndex=c,this.selectRange$(this.rangeStartIndex)}return(0,T.of)(-1);case h.mW.Space:return p=n.target,"INPUT"!==p.tagName||n.ctrlKey||n.shiftKey?(_=this.currentItem,_?this.isCollapsible(_)?this.toggleCollapse$(d,!_.collapsed):_.selected?this.toggleSelect$([_],!1):this.multiSelect&&n.ctrlKey?this.toggleSelect$([_],!_.selected):this.unselectAll$().pipe((0,v.w)(()=>this.toggleSelect$([_],!0))):(0,T.of)(-1)):(0,T.of)(null);case h.mW.Enter:if(m=this.currentItem,m){if(this.isCollapsible(m))return this.toggleCollapse$(d,!m.collapsed);if(this.isSelectable(m))return this.unselectAll$().pipe((0,v.w)(()=>this.toggleSelect$([m],!0)))}return(0,T.of)(-1);default:return(0,T.of)(null)}}),(0,w.U)(s=>{if(null!==s)return this.keyboardNavigation$.next(),this.changeDetectorRef.markForCheck(),n.preventDefault(),!1}))),(0,g.R)(this.destroyed$)).subscribe();let i=(0,j.R)(this.listElement,"keyup");if(this.input){const n=(0,j.R)(this.input.nativeElement,"keyup"),s=(0,j.R)(this.input.nativeElement,"drop");i=i.pipe((0,O.b)(n,s))}i.pipe((0,x.h)(()=>!this.disabled),(0,y.b)(()=>{(this.query||"").length<this.minSearchlength&&(this._itemList=[])}),(0,x.h)(n=>{const s=n.code;return s>=h.mW.Key0||s===h.mW.Backspace||s===h.mW.Space||s===h.mW.Delete}),(0,v.w)(n=>{if(this.searchArea)this.keyboardNavigation$.next();else if(/[a-zA-Z0-9]/.test(n.key)){this.clearFilterExpression$.next(null),this.filterExpression+=n.key;const s=new RegExp(`^${this.filterExpression}`,"i");return this.findNextMatch$(d=>{if(d&&this.isSelectable(d)){const u=this.getTextValue(d);if(s.test(u))return!0}return n.preventDefault(),!1},this.currentItemIndex)}return(0,T.of)(null)}),(0,x.h)(n=>(null==n?void 0:n.index)>=0),(0,g.R)(this.destroyed$)).subscribe(n=>{this.currentItemIndex=n.index,this.ensureItemVisible(this.currentItemIndex)}),this.viewPort.element$.next(this.listElement)}mousedown(t){if(this.mouseUp$sub&&(this.mouseUp$sub.unsubscribe(),this.mouseUp$sub=void 0),this.disabled)return;const i=t.target,n=this.getItemIndexFromHTMLElement(i);if(void 0===n)return;const s=u=>"expandbtn"===u.id||"expandbtn"===u.parentElement.id,d=this._itemList[n-this.vpStartRow];if(this.clickedItem=d,(!s(i)||!this.isCollapsible(d))&&this.isSelectable(d)&&(!t.ctrlKey||!this.multiSelect)&&(0===t.button||!d.selected)){if(t.shiftKey&&this.multiSelect)return this.selectRange$(n,this.currentItemIndex).pipe((0,C.q)(1),(0,g.R)(this.destroyed$)).subscribe(()=>this.changeDetectorRef.markForCheck()),!1;if(!t.ctrlKey){if(!this.multiSelect&&d.selected)return;this.unselectAll$().pipe((0,C.q)(1),(0,v.w)(()=>(this.currentItemIndex=n,this.toggleSelect$([d],!0))),(0,C.q)(1),(0,g.R)(this.destroyed$)).subscribe(()=>this.changeDetectorRef.markForCheck())}}this.mouseUp$sub=(0,j.R)(this.listElement,"mouseup").pipe((0,C.q)(1),(0,x.h)(()=>!this.disabled),(0,v.w)(u=>{this.mouseUp$sub=void 0;const f=u.target,o=this.getItemIndexFromHTMLElement(f);if(void 0===o)return(0,T.of)(null);const c=this._itemList[o-this.vpStartRow];return this.clickedItem&&c!==this.clickedItem||u.shiftKey||0!==u.button?(0,T.of)(null):!this.isCollapsible(c)||!s(f)&&this.isSelectable(c)?u.ctrlKey?this.multiSelect?this.toggleSelect$([c],!c.selected).pipe((0,w.U)(()=>o)):(this.selectedItem&&this.selectedItem!==c?this.toggleSelect$([this.selectedItem],!1).pipe((0,v.w)(()=>this.toggleSelect$([c],!0))):this.toggleSelect$([c],!c.selected)).pipe((0,w.U)(()=>o)):(this.rangeStartIndex=-1,(0,T.of)(null)):this.toggleCollapse$(o,!c.collapsed).pipe((0,w.U)(()=>o))}),(0,x.h)(u=>null!==u),(0,g.R)(this.destroyed$)).subscribe(u=>{this.currentItemIndex=u,this.changeDetectorRef.markForCheck()})}getDragContext(t){return this.clipboardService&&(this.sortable||this.itemsDraggable)?{dragendcallback:i=>{this.itemDragEnd.emit(i),delete this._ddStartIndex,delete this._ddTargetIndex,this.calcViewList$().pipe((0,C.q)(1),(0,g.R)(this.destroyed$)).subscribe()},dragstartcallback:i=>{const n=this.getItemIndexFromHTMLElement(i.target);void 0!==n&&(this._ddStartIndex=t,i.dragObject=this._itemList[n-this.vpStartRow],this.itemDragStart.emit(i))},object:{index:t}}:null}getDropContext(){if(!this.clipboardService||!this.sortable)return null;const t=i=>{if(void 0===this._ddStartIndex)return;const n=this.getItemIndexFromHTMLElement(i.target);void 0!==n&&(this.calcDragTargetIndex$(this._ddStartIndex,n).pipe((0,v.w)(s=>void 0!==s&&s!==this._ddTargetIndex?(this._ddTargetIndex=s,this.calcViewList$().pipe((0,C.q)(1),(0,w.U)(()=>s))):(0,T.of)(s)),(0,g.R)(this.destroyed$)).subscribe(),i.preventDefault())};return{dragentercallback:t,dragovercallback:t,dropcallback:i=>{delete this._ddStartIndex,delete this._ddTargetIndex,this.drop$().pipe((0,v.w)(()=>this.calcViewList$().pipe((0,C.q)(1))),(0,g.R)(this.destroyed$)).subscribe(),i.preventDefault()}}}dragLeave(t){const i=this.listElement.getBoundingClientRect();Q.UL.fromLTRB(i.left,i.top,i.right,i.bottom).containsPoint(new Q.Ly(t.pageX,t.pageY))||(this._ddTargetIndex=this._ddStartIndex,this.calcViewList$().pipe((0,C.q)(1),(0,g.R)(this.destroyed$)).subscribe())}onSelectionChange(){let t=null,i=null;if(this.multiSelect){const n=this.selectedModels;if(t={items:this.selectedItems,models:n},this.modelIsValue){const s=this.getValueField();n.find(d=>!!d[s])&&(i=n.map(d=>void 0!==d[s]?d[s]:d))}else i=n}else{const n=this.selectedModel;if(t={item:this.selectedItems[0],model:n},this.modelIsValue){const s=this.getValueField();i=void 0!==n[s]?n[s]:n}else i=n}this.onChangeCallback(i),this.selectedChange.emit(t)}selectRange$(t,i){return super.selectRange$(t,i).pipe((0,y.b)(n=>(n&&this.onSelectionChange(),n)),(0,y.b)(()=>this.changeDetectorRef.markForCheck()))}toggleSelect$(t,i){return this._multiSelect||!t[0].selected!=!i?super.toggleSelect$(t,i).pipe((0,y.b)(()=>{this.onSelectionChange()})):(0,T.of)(t)}calcViewList$(){return super.calcViewList$(this.query).pipe((0,y.b)(()=>this.changeDetectorRef.markForCheck()))}getItemClass(t){var i;const n=["listitem"];return t.className&&n.push(t.className),(t.collapsing||t.expanding)&&n.push("hide"),t.depth<this.depthMax&&n.push("parent"),t.collapsed&&n.push("collapsed"),t.selected&&n.push("selected"),!(null!==(i=t.selectable)&&void 0!==i)||i||n.push("unselectable"),t.depth===this._depthMax&&t.odd&&n.push("odd"),n.join(" ")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(A.Z2),e.Y36(e.SBq),e.Y36(b.a5,10),e.Y36(h.ST,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["deja-tree-list"]],contentQueries:function(t,i,n){if(1&t&&(e.Suo(n,he,5),e.Suo(n,ge,5),e.Suo(n,fe,5),e.Suo(n,xe,5),e.Suo(n,_e,5),e.Suo(n,ve,5),e.Suo(n,A.ZV,4)),2&t){let s;e.iGM(s=e.CRH())&&(i.itemTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.parentItemTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.loaderTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.headerTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.searchPrefixTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.searchSuffixTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.options=s)}},viewQuery:function(t,i){if(1&t&&(e.Gf(je,5),e.Gf(Te,7),e.Gf(h.TW,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.input=n.first),e.iGM(n=e.CRH())&&(i.listElememtRef=n.first),e.iGM(n=e.CRH())&&(i.inputValidatorDirective=n.first)}},hostVars:1,hostBindings:function(t,i){2&t&&e.uIk("disabled",i._disabled)},inputs:{placeholder:"placeholder",nodataholder:"nodataholder",query:"query",itemTemplateExternal:"itemTemplateExternal",parentItemTemplateExternal:"parentItemTemplateExternal",loaderTemplateExternal:"loaderTemplateExternal",headerTemplateExternal:"headerTemplateExternal",searchPrefixTemplateExternal:"searchPrefixTemplateExternal",searchSuffixTemplateExternal:"searchSuffixTemplateExternal",itemsWidth:"itemsWidth",minSearchlength:["min-search-length","minSearchlength"],searchArea:"searchArea",modelIsValue:"modelIsValue",sortable:"sortable",itemsDraggable:"itemsDraggable",pageSize:"pageSize",hintLabel:"hintLabel",viewPortRowHeight:"viewPortRowHeight",viewportMode:"viewportMode",childrenField:"childrenField",textField:"textField",valueField:"valueField",searchField:"searchField",maxHeight:"maxHeight",currentItem:"currentItem",multiSelect:"multiSelect",selectedItems:"selectedItems",selectedItem:"selectedItem",selectedModel:"selectedModel",selectedModels:"selectedModels",itemListService:"itemListService",sortingService:"sortingService",groupingService:"groupingService",items:"items",loadingItems:"loadingItems",selectingItem:"selectingItem",unselectingItem:"unselectingItem",expandingItem:"expandingItem",collapsingItem:"collapsingItem",models:"models",disabled:"disabled",waiter:"waiter"},outputs:{scroll:"scroll",itemDragEnd:"itemDragEnd",itemDragStart:"itemDragStart",selectedChange:"selectedChange",viewPortChanged:"viewPortChanged"},features:[e._Bn([A.Z2]),e.qOj],decls:11,vars:21,consts:[["id","header",4,"ngIf"],["id","listheader",4,"ngIf"],["tabindex","1",1,"deja-listcontainer",3,"id","deja-droppable","dragleave","mousedown"],["listElement",""],["id","nodata-holder",4,"ngIf"],["id","error-hint",4,"ngIf"],[3,"height",4,"ngIf"],[4,"ngIf"],["id","loader",4,"ngIf"],["id","header"],["deja-child-validator","","id","input",4,"ngIf"],["deja-child-validator","","id","input"],["type","text","matInput","","tabindex","0",3,"ngModel","placeholder","disabled","input"],["inputelement","","model","ngModel"],["matPrefix","",4,"ngIf"],["matSuffix","",4,"ngIf"],["matPrefix",""],[3,"ngTemplateOutlet"],["matSuffix",""],["id","listheader"],["id","nodata-holder"],["id","error-hint"],[3,"deja-draggable","width","height",4,"ngFor","ngForOf"],[3,"deja-draggable"],["listitem",""],["id","expandbtn"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","loader"]],template:function(t,i){1&t&&(e.YNc(0,Ie,2,1,"div",0),e.YNc(1,Ae,2,1,"div",1),e.TgZ(2,"div",2,3),e.NdJ("dragleave",function(s){return i.sortable?i.dragLeave(s):null})("mousedown",function(s){return i.mousedown(s)}),e.YNc(4,Me,2,1,"div",4),e.YNc(5,Se,2,1,"div",5),e.YNc(6,$e,1,2,"div",6),e.YNc(7,Pe,2,1,"ng-container",7),e.YNc(8,Je,1,2,"div",6),e.YNc(9,ke,1,0,"deja-list-loader",8),e.YNc(10,Qe,2,1,"ng-container",7),e.qZA()),2&t&&(e.Q6J("ngIf",i.searchArea),e.xp6(1),e.Q6J("ngIf",i.headerTemplate),e.xp6(1),e.Udp("max-height",i.maxHeight||null,"px"),e.ekj("hasheader",i.headerTemplate)("dragover",void 0!==i.ddStartIndex?i.ddStartIndex:null),e.Q6J("id",i.listElementId)("deja-droppable",i.getDropContext()),e.uIk("itemscount",i.itemList&&i.itemList.length)("depth-max",i.depthMax||null)("vp-rowheight",i.getViewPortRowHeight())("keynav",i.keyboardNavigation()),e.xp6(2),e.Q6J("ngIf",!(i.itemList&&0!==i.itemList.length||i.waiter)),e.xp6(1),e.Q6J("ngIf",i.hintLabel),e.xp6(1),e.Q6J("ngIf",i.vpBeforeHeight&&!i.waiter),e.xp6(1),e.Q6J("ngIf",!i.waiter),e.xp6(1),e.Q6J("ngIf",i.vpAfterHeight&&!i.waiter),e.xp6(1),e.Q6J("ngIf",i.waiter&&!i.loaderTemplate),e.xp6(1),e.Q6J("ngIf",i.waiter&&i.loaderTemplate))},dependencies:[M.sg,M.O5,M.tP,h.TW,le,B,te.b,b.Fj,b.JJ,b.On,U.Hw,N.KE,N.qo,N.R9,R.Nt],styles:['deja-tree-list{display:flex;position:relative;flex-direction:column;align-content:stretch;overflow:hidden}deja-tree-list.ng-invalid #input .mat-form-field-wrapper .mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:scaleY(1)}deja-tree-list #input{outline:none}deja-tree-list #header{flex:0 0 auto;align-items:center;display:flex}deja-tree-list #header #input{flex:1 1 auto}deja-tree-list #header button{flex:0 0 auto;margin:16px .5rem 16px 0}deja-tree-list #listheader{flex:0 0 auto;overflow:hidden;box-sizing:border-box}deja-tree-list .deja-listcontainer{flex:1 1 auto;outline:none;overflow:auto}deja-tree-list .deja-listcontainer.hasheader{border-top:0}deja-tree-list .deja-listcontainer[keynav=false]:not(.dragover) div.listitem:not(.unselectable):hover{cursor:pointer}deja-tree-list .deja-listcontainer[valign=bottom]{border-top:none}deja-tree-list .deja-listcontainer #nodata-holder{margin:.5rem}deja-tree-list .deja-listcontainer #error-hint{margin:.5rem}deja-tree-list #loader{position:absolute;left:0;right:0}deja-tree-list .deja-listcontainer{padding:0;margin:0;position:relative}deja-tree-list .deja-listcontainer[vprowheight="0"]>div.listitem{padding:.35rem .1rem}deja-tree-list .deja-listcontainer>div.listitem{opacity:1;margin:0;transition-timing-function:linear;transition-duration:.3s;transition-property:max-height,opacity;display:flex;align-items:center}deja-tree-list .deja-listcontainer>div.listitem.hide{opacity:0!important;max-height:0!important;transition-timing-function:ease-out}deja-tree-list .deja-listcontainer>div.listitem #expandbtn{width:24px;cursor:pointer}deja-tree-list .deja-listcontainer>div.listitem.parent.collapsed #expandbtn>.mat-icon{transform:rotate(-90deg)}deja-tree-list .deja-listcontainer [depth="0"]{padding-left:0rem}deja-tree-list .deja-listcontainer [depth="1"]{padding-left:1rem}deja-tree-list .deja-listcontainer [depth="2"]{padding-left:2rem}deja-tree-list .deja-listcontainer [depth="3"]{padding-left:3rem}deja-tree-list .deja-listcontainer [depth="4"]{padding-left:4rem}deja-tree-list .deja-listcontainer [depth="5"]{padding-left:5rem}deja-tree-list .deja-listcontainer [depth="6"]{padding-left:6rem}deja-tree-list .deja-listcontainer [depth="7"]{padding-left:7rem}deja-tree-list .deja-listcontainer [depth="8"]{padding-left:8rem}deja-tree-list .deja-listcontainer [depth="9"]{padding-left:9rem}deja-tree-list .deja-listcontainer [depth="10"]{padding-left:10rem}deja-tree-list .deja-listcontainer [depth="11"]{padding-left:11rem}deja-tree-list .deja-listcontainer [depth="12"]{padding-left:12rem}deja-tree-list .deja-listcontainer [depth="13"]{padding-left:13rem}deja-tree-list .deja-listcontainer [depth="14"]{padding-left:14rem}deja-tree-list .deja-listcontainer [depth="15"]{padding-left:15rem}deja-tree-list .deja-listcontainer [depth="16"]{padding-left:16rem}deja-tree-list .deja-listcontainer [depth="17"]{padding-left:17rem}deja-tree-list .deja-listcontainer [depth="18"]{padding-left:18rem}deja-tree-list .deja-listcontainer [depth="19"]{padding-left:19rem}deja-tree-list .deja-listcontainer [depth="20"]{padding-left:20rem}deja-tree-list .deja-listcontainer [depth="21"]{padding-left:21rem}deja-tree-list .deja-listcontainer [depth="22"]{padding-left:22rem}deja-tree-list .deja-listcontainer [depth="23"]{padding-left:23rem}deja-tree-list .deja-listcontainer [depth="24"]{padding-left:24rem}deja-tree-list .deja-listcontainer [depth="25"]{padding-left:25rem}deja-tree-list .deja-listcontainer [depth="26"]{padding-left:26rem}deja-tree-list .deja-listcontainer [depth="27"]{padding-left:27rem}deja-tree-list .deja-listcontainer [depth="28"]{padding-left:28rem}deja-tree-list .deja-listcontainer [depth="29"]{padding-left:29rem}deja-tree-list .deja-listcontainer [depth="30"]{padding-left:30rem}deja-tree-list .deja-listcontainer [depth="31"]{padding-left:31rem}deja-tree-list .deja-listcontainer [depth="32"]{padding-left:32rem}deja-tree-list .deja-listcontainer [depth="33"]{padding-left:33rem}deja-tree-list .deja-listcontainer [depth="34"]{padding-left:34rem}deja-tree-list .deja-listcontainer [depth="35"]{padding-left:35rem}deja-tree-list .deja-listcontainer [depth="36"]{padding-left:36rem}deja-tree-list .deja-listcontainer [depth="37"]{padding-left:37rem}deja-tree-list .deja-listcontainer [depth="38"]{padding-left:38rem}deja-tree-list .deja-listcontainer [depth="39"]{padding-left:39rem}deja-tree-list .deja-listcontainer [depth="40"]{padding-left:40rem}deja-tree-list .deja-listcontainer [depth="41"]{padding-left:41rem}deja-tree-list .deja-listcontainer [depth="42"]{padding-left:42rem}deja-tree-list .deja-listcontainer [depth="43"]{padding-left:43rem}deja-tree-list .deja-listcontainer [depth="44"]{padding-left:44rem}deja-tree-list .deja-listcontainer [depth="45"]{padding-left:45rem}deja-tree-list .deja-listcontainer [depth="46"]{padding-left:46rem}deja-tree-list .deja-listcontainer [depth="47"]{padding-left:47rem}deja-tree-list .deja-listcontainer [depth="48"]{padding-left:48rem}deja-tree-list .deja-listcontainer [depth="49"]{padding-left:49rem}deja-tree-list .deja-listcontainer [depth="50"]{padding-left:50rem}\n'],encapsulation:2,changeDetection:0}),r})(),Ve=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[M.ez,h.ET,z,A.tN,te.u,h.sS,b.u5,F.ot,q.p9,U.Ps,R.c]}),r})();var Ye=l(3485),Ke=l(4779),re=l(7010),Ge=l(1865),We=l(2518),G=l(4326),Be=l(5241),se=l(9809),ae=l(706),ze=l(1857),Xe=l(1339),et=l(5857);const tt=["news"],it=["onexpand"],nt=["bigCountries"];function rt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dialogResponse$.next("cancel"))}),e._uU(1,"Cancel"),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.dialogResponse$.next("ok"))}),e._uU(3,"Ok"),e.qZA()}}function st(r,a){1&r&&(e.TgZ(0,"deja-dialog")(1,"deja-message-box",11),e._uU(2," Please confirm your operation! "),e.YNc(3,rt,4,0,"ng-template",null,12,e.W1O),e.qZA()())}function at(r,a){1&r&&(e.TgZ(0,"mat-card",15),e._UZ(1,"deja-markdown",16),e.qZA()),2&r&&(e.xp6(1),e.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/tree-list/readme.md"))}const oe=function(){return["Mango","Apricots","Coconut"]};function ot(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Simple Usage"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div"),e._uU(6,"Just passing an array of objects"),e.qZA(),e.TgZ(7,"div",19)(8,"span",20)(9,"deja-tree-list",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.country=n)}),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"span",22)(12,"h4"),e._uU(13,"Selected country model :"),e.qZA(),e.TgZ(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA()()()()(),e.TgZ(17,"mat-card",17)(18,"mat-toolbar",18),e._uU(19,"Keyboard Navigation"),e.qZA(),e.TgZ(20,"mat-card-content")(21,"div"),e._uU(22,"deja-tree-list has some keyboard navigation feature"),e.qZA(),e.TgZ(23,"div",19)(24,"span",20)(25,"deja-tree-list",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.country=n)}),e.ALo(26,"async"),e.qZA()(),e.TgZ(27,"ul",24)(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"\u2191"),e.qZA(),e._uU(32," to select the previous item"),e.qZA(),e.TgZ(33,"li"),e._uU(34,"Press "),e.TgZ(35,"span",25),e._uU(36,"\u2193"),e.qZA(),e._uU(37," to select the next item"),e.qZA(),e.TgZ(38,"li"),e._uU(39,"Press "),e.TgZ(40,"span",25),e._uU(41,"Ctrl"),e.qZA(),e.TgZ(42,"span",25),e._uU(43,"\u2191"),e.qZA(),e._uU(44," to change the current item to the previous"),e.qZA(),e.TgZ(45,"li"),e._uU(46,"Press "),e.TgZ(47,"span",25),e._uU(48,"Ctrl"),e.qZA(),e.TgZ(49,"span",25),e._uU(50,"\u2193"),e.qZA(),e._uU(51," to change the current item to the next"),e.qZA(),e.TgZ(52,"li"),e._uU(53,"Press "),e.TgZ(54,"span",25),e._uU(55,"Shift"),e.qZA(),e.TgZ(56,"span",25),e._uU(57,"\u2191"),e.qZA(),e._uU(58," to change the current item to the previous"),e.qZA(),e.TgZ(59,"li"),e._uU(60,"Press "),e.TgZ(61,"span",25),e._uU(62,"Shift"),e.qZA(),e.TgZ(63,"span",25),e._uU(64,"\u2193"),e.qZA(),e._uU(65," to change the current item to the next"),e.qZA(),e.TgZ(66,"li"),e._uU(67,"Press "),e.TgZ(68,"span",25),e._uU(69,"PageUp"),e.qZA(),e._uU(70," to select the next page item"),e.qZA(),e.TgZ(71,"li"),e._uU(72,"Press "),e.TgZ(73,"span",25),e._uU(74,"PageDown"),e.qZA(),e._uU(75," to select the previous page item"),e.qZA(),e.TgZ(76,"li"),e._uU(77,"Press "),e.TgZ(78,"span",25),e._uU(79,"Home"),e.qZA(),e._uU(80," to select the first item"),e.qZA(),e.TgZ(81,"li"),e._uU(82,"Press "),e.TgZ(83,"span",25),e._uU(84,"End"),e.qZA(),e._uU(85," to select the last item"),e.qZA(),e.TgZ(86,"li"),e._uU(87,"Press "),e.TgZ(88,"span",25),e._uU(89,"Space"),e.qZA(),e._uU(90," to collapse/expand a group header or to select/unselect the current item"),e.qZA(),e.TgZ(91,"li"),e._uU(92,"Press "),e.TgZ(93,"span",25),e._uU(94,"A"),e.qZA(),e._uU(95,".. "),e.TgZ(96,"span",25),e._uU(97,"Z"),e.qZA(),e.TgZ(98,"span",25),e._uU(99,"0"),e.qZA(),e._uU(100,".. "),e.TgZ(101,"span",25),e._uU(102,"9"),e.qZA(),e._uU(103," to select the next item started with the pressed key"),e.qZA()()()()(),e.TgZ(104,"mat-card",17)(105,"mat-toolbar",18),e._uU(106,"Treelist with options"),e.qZA(),e.TgZ(107,"mat-card-content")(108,"div"),e._uU(109,"These treelists has a list coming from html options"),e.qZA(),e.TgZ(110,"span",19)(111,"deja-tree-list",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.fruct=n)}),e._UZ(112,"deja-item",27)(113,"deja-item",28)(114,"deja-item",29)(115,"deja-item",30)(116,"deja-item",31)(117,"deja-item",32)(118,"deja-item",33)(119,"deja-item",34)(120,"deja-item",35)(121,"deja-item",36)(122,"deja-item",37)(123,"deja-item",38),e.qZA(),e.TgZ(124,"deja-tree-list",39),e._UZ(125,"deja-item",40)(126,"deja-item",41)(127,"deja-item",42)(128,"deja-item",43)(129,"deja-item",44)(130,"deja-item",45)(131,"deja-item",46)(132,"deja-item",47)(133,"deja-item",48)(134,"deja-item",49)(135,"deja-item",50)(136,"deja-item",51),e.qZA()()()(),e.TgZ(137,"mat-card",17)(138,"mat-toolbar",18),e._uU(139,"String Array Model"),e.qZA(),e.TgZ(140,"mat-card-content")(141,"span",52)(142,"deja-tree-list",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.fruct=n)}),e.qZA(),e.TgZ(143,"span",54),e._uU(144),e.qZA()()()(),e.TgZ(145,"mat-card",17)(146,"mat-toolbar",18),e._uU(147,"Disabled tree-list"),e.qZA(),e.TgZ(148,"mat-card-content")(149,"div")(150,"mat-checkbox",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.disabled=n)}),e._uU(151,"Check me to disable tree-list below"),e.qZA()(),e.TgZ(152,"div",19)(153,"span",20)(154,"deja-tree-list",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.deepCountry=n)}),e.ALo(155,"async"),e.qZA()(),e.TgZ(156,"span",22)(157,"h4"),e._uU(158,"Selected deep country model :"),e.qZA(),e.TgZ(159,"pre"),e._uU(160),e.ALo(161,"json"),e.qZA()()()()(),e.TgZ(162,"mat-card",17)(163,"mat-toolbar",18),e._uU(164,"Multi level"),e.qZA(),e.TgZ(165,"mat-card-content")(166,"div",19)(167,"span",20),e._UZ(168,"deja-tree-list",57),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.country)("models",e.lcZ(10,16,t.countries$)),e.xp6(6),e.Oqu(e.lcZ(16,18,t.country)),e.xp6(10),e.Q6J("ngModel",t.country)("models",e.lcZ(26,20,t.countries$)),e.xp6(86),e.Q6J("ngModel",t.fruct),e.xp6(13),e.Q6J("selectedModels",e.DdM(26,oe)),e.xp6(18),e.Q6J("ngModel",t.fruct)("models",t.fructs),e.xp6(2),e.hij("Selected fruct model is: ",t.fruct,""),e.xp6(6),e.Q6J("ngModel",t.disabled),e.xp6(4),e.Q6J("disabled",t.disabled)("ngModel",t.deepCountry)("models",e.lcZ(155,22,t.deepCountries$)),e.xp6(6),e.Oqu(e.lcZ(161,24,t.deepCountry)),e.xp6(8),e.Q6J("models",t.folders)}}function lt(r,a){if(1&r&&(e.TgZ(0,"li")(1,"span"),e._uU(2),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.naqme)}}function dt(r,a){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.uIk("ddid",t.model.code),e.xp6(1),e.Oqu(t.model.naqme)}}function ct(r,a){if(1&r&&(e.TgZ(0,"mat-icon",69),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&r){const t=a.$implicit;e.xp6(4),e.Oqu(t.groupName)}}const ut=function(r,a,t){return{dragovercallback:r,dragentercallback:a,dropcallback:t}};function pt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Multi selection"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div"),e._uU(6,"Multi selection example"),e.qZA(),e.TgZ(7,"div",19)(8,"span",20)(9,"deja-tree-list",58),e.NdJ("itemDragStart",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onItemDragStart(n))})("selectedChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.multiselectModelChange(n.items))}),e.qZA()(),e.TgZ(10,"span",59)(11,"h4"),e._uU(12,"Multi selection shortcuts :"),e.qZA(),e.TgZ(13,"ul",60)(14,"li"),e._uU(15,"Press "),e.TgZ(16,"span",25),e._uU(17,"Ctrl"),e.qZA(),e.TgZ(18,"span",25),e._uU(19,"Space"),e.qZA(),e._uU(20," to add/remove the current item to the selection"),e.qZA(),e.TgZ(21,"li"),e._uU(22,"Press "),e.TgZ(23,"span",25),e._uU(24,"Shift"),e.qZA(),e.TgZ(25,"span",25),e._uU(26,"\u2191"),e.qZA(),e._uU(27," to select a range orf items"),e.qZA(),e.TgZ(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"Shift"),e.qZA(),e.TgZ(32,"span",25),e._uU(33,"\u2193"),e.qZA(),e._uU(34," to select a range orf items"),e.qZA()(),e.TgZ(35,"h4"),e._uU(36,"Selected country model :"),e.qZA(),e.TgZ(37,"ul"),e.YNc(38,lt,3,1,"li",61),e.qZA()()()(),e.TgZ(39,"mat-toolbar",18),e._uU(40,"Grouping and Drag Drop"),e.qZA(),e.TgZ(41,"mat-card-content")(42,"div"),e._uU(43,"Grouping example"),e.qZA(),e.TgZ(44,"div",19)(45,"span",20)(46,"deja-tree-list",62),e.YNc(47,dt,2,2,"ng-template",null,63,e.W1O),e.YNc(49,ct,5,1,"ng-template",null,64,e.W1O),e.qZA()(),e.TgZ(51,"span",22)(52,"div"),e._uU(53,"You can drag and drop items the the area bellow (That will display a JSON representation of the dropped model) :"),e.qZA(),e._UZ(54,"div",65,66),e.qZA()()(),e.TgZ(56,"mat-toolbar",18),e._uU(57,"Autocomplete"),e.qZA(),e.TgZ(58,"mat-card-content")(59,"div"),e._uU(60,"Autocomplete 2 characters minimum"),e.qZA(),e._UZ(61,"deja-tree-list",67),e.qZA(),e.TgZ(62,"mat-toolbar",18),e._uU(63,"Variable Row Size"),e.qZA(),e.TgZ(64,"mat-card-content")(65,"div"),e._uU(66,"Variable Row height example"),e.qZA(),e.TgZ(67,"div",19)(68,"span",20),e._UZ(69,"deja-tree-list",68),e.qZA()()()()()}if(2&r){const t=e.MAs(55),i=e.oxw();e.xp6(9),e.Q6J("selectedItems",i.multiselectModel)("items",i.countriesForMultiselect),e.xp6(29),e.Q6J("ngForOf",i.multiselectModel),e.xp6(8),e.Q6J("items",i.groupedCountries)("deja-mouse-draggable",i.getDragContext()),e.xp6(8),e.Q6J("deja-mouse-droppable",i.getDropContext(t))("deja-droppable",e.kEZ(9,ut,i.onDivDragOver,i.onDivDragOver,i.onDivDropEvent)),e.xp6(7),e.Q6J("itemListService",i.countriesListService),e.xp6(8),e.Q6J("items",i.loremList)}}function mt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"news-card",80),e.NdJ("imageLoaded",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.imageLoaded(s))}),e.qZA()}2&r&&e.Q6J("item",a.$implicit.model)}function ht(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"span",81),e.NdJ("click",function(){e.CHM(t),e.oxw();const n=e.MAs(20);return e.KtG(n.sort())}),e.TgZ(1,"span",82),e._uU(2," This is a header template, click to sort the list. "),e.qZA(),e._UZ(3,"deja-sort-indicator",83),e.qZA()}if(2&r){e.oxw();const t=e.MAs(20);e.xp6(3),e.Q6J("sort-infos",t.sortInfos)}}function gt(r,a){if(1&r&&(e.TgZ(0,"mat-icon",69),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&r){const t=a.$implicit;e.xp6(4),e.Oqu(t.groupName)}}function ft(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-icon",84),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.onFilterTemplateClicked("Prefix"))}),e._uU(1,"public"),e.qZA()}}function xt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-icon",84),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.onFilterTemplateClicked("Suffix"))}),e._uU(1,"more_vert"),e.qZA()}}function _t(r,a){if(1&r&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Templating Examples"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"Item Template"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"An exemple with auto sized item template"),e.qZA(),e.TgZ(9,"deja-tree-list",70,71),e.YNc(11,mt,1,1,"ng-template",null,63,e.W1O),e.qZA(),e.TgZ(13,"h1"),e._uU(14,"Header Template and Group Template"),e.qZA(),e.TgZ(15,"div"),e._uU(16,"Treelist with an header template"),e.qZA(),e.TgZ(17,"div",19)(18,"span",20)(19,"deja-tree-list",72,73),e.ALo(21,"async"),e.YNc(22,ht,4,1,"ng-template",null,74,e.W1O),e.qZA()(),e.TgZ(24,"span",75)(25,"deja-tree-list",76),e.YNc(26,gt,5,1,"ng-template",null,64,e.W1O),e.qZA()()(),e.TgZ(28,"h1"),e._uU(29,"Search Prefix and Suffix Templates"),e.qZA(),e.TgZ(30,"div",19)(31,"span",20)(32,"deja-tree-list",77),e.ALo(33,"async"),e.YNc(34,ft,2,0,"ng-template",null,78,e.W1O),e.YNc(36,xt,2,0,"ng-template",null,79,e.W1O),e.qZA()()()()()()),2&r){const t=e.oxw();e.xp6(9),e.Q6J("models",t.news$),e.xp6(10),e.Q6J("models",e.lcZ(21,4,t.countries$)),e.xp6(6),e.Q6J("items",t.groupedCountries),e.xp6(7),e.Q6J("items",e.lcZ(33,6,t.countries$))}}function vt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Pre-Selections from html inputs"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div",19)(6,"div",85)(7,"div"),e._uU(8,"Preselection with the input selectedModel"),e.qZA(),e._UZ(9,"deja-tree-list",86),e.qZA(),e.TgZ(10,"div",87)(11,"div"),e._uU(12,"Preselections with the input selectedModels"),e.qZA(),e._UZ(13,"deja-tree-list",88),e.qZA()(),e.TgZ(14,"div",19)(15,"div",85)(16,"div"),e._uU(17,"Preselection with the input selectedItem"),e.qZA(),e._UZ(18,"deja-tree-list",89),e.qZA(),e._UZ(19,"div",90),e.qZA()(),e.TgZ(20,"mat-toolbar",18),e._uU(21,"Pre-Selections from javascript"),e.qZA(),e.TgZ(22,"mat-card-content")(23,"div"),e._uU(24,"The collection fructItemsWithPreSelection has a pre-selected item"),e.qZA(),e._UZ(25,"deja-tree-list",91),e.qZA()()()),2&r){const t=e.oxw();e.xp6(9),e.Q6J("models",t.fructs),e.xp6(4),e.Q6J("selectedModels",e.DdM(5,oe))("models",t.fructs),e.xp6(5),e.Q6J("items",t.fructItems),e.xp6(7),e.Q6J("items",t.fructItemsWithPreSelection)}}function jt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Pre-Events and on Demand"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"On Demand Loading "),e.qZA(),e.TgZ(7,"div"),e._uU(8,"The items are loaded from the loading event"),e.qZA(),e._UZ(9,"deja-tree-list",92,93),e.TgZ(11,"h1"),e._uU(12,"Confirm Selection"),e.qZA(),e.TgZ(13,"div"),e._uU(14,"A dialog will confirm the selection of an item"),e.qZA(),e._UZ(15,"deja-tree-list",94),e.ALo(16,"async"),e.TgZ(17,"h1"),e._uU(18,"Confirm Expand and Collapse "),e.qZA(),e.TgZ(19,"div"),e._uU(20,"A dialog will confirm the expand and collapse or an item if the children are not loaded. The children will be loaded asynchronously after the item expansion."),e.qZA(),e._UZ(21,"deja-tree-list",95,96),e.qZA()()()),2&r){const t=e.oxw();e.xp6(9),e.Q6J("loadingItems",t.loadingItems()),e.xp6(6),e.Q6J("selectingItem",t.confirmDialog())("items",e.lcZ(16,6,t.countries$)),e.xp6(6),e.Q6J("items",t.onDemandGroupedCountries)("expandingItem",t.expandingItems())("collapsingItem",t.collapsingItems())}}function Tt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"news-card",80),e.NdJ("imageLoaded",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.imageLoaded(s))}),e.qZA()}2&r&&e.Q6J("item",a.$implicit.model)}function bt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"span",105),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}function Ct(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Performance Examples"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"10K items with Item Template "),e.qZA(),e.TgZ(7,"div",97)(8,"span",98),e._uU(9,"An exemple with 10000 auto sized templatized items"),e.qZA(),e.TgZ(10,"mat-form-field",99)(11,"input",100),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.ensureIndex=n)}),e.qZA()(),e.TgZ(12,"button",101),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(15),s=e.oxw();return e.KtG(n.ensureItemVisible(s.ensureIndex))}),e._uU(13,"Ensure index"),e.qZA()(),e.TgZ(14,"deja-tree-list",70,71),e.YNc(16,Tt,1,1,"ng-template",null,63,e.W1O),e.qZA(),e.TgZ(18,"h1"),e._uU(19,"Fixed size rows 100K items"),e.qZA(),e.TgZ(20,"div"),e._uU(21,"An exemple with 100000 fixed size items"),e.qZA(),e.TgZ(22,"span",19),e._UZ(23,"deja-tree-list",102,103),e.TgZ(25,"span",22)(26,"h4",104),e._uU(27,"Viewport Infos:"),e.qZA(),e.YNc(28,bt,5,2,"div",61),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.ensureIndex),e.xp6(3),e.Q6J("models",t.bigNews$),e.xp6(9),e.Q6J("items",t.bigCountries$),e.xp6(5),e.Q6J("ngForOf",t.viewPortInfos)}}function Dt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Single selection"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"form",106)(6,"div",19)(7,"span",20),e._UZ(8,"deja-tree-list",107),e.qZA(),e.TgZ(9,"span",22)(10,"h4"),e._uU(11,"Your selection :"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()()()(),e.TgZ(14,"mat-card",17)(15,"mat-toolbar",18),e._uU(16,"Multi selection"),e.qZA(),e.TgZ(17,"mat-card-content")(18,"form",106)(19,"div",19)(20,"span",20),e._UZ(21,"deja-tree-list",108),e.qZA(),e.TgZ(22,"span",22)(23,"h4"),e._uU(24,"Your selection :"),e.qZA(),e.TgZ(25,"span"),e._uU(26),e.qZA()()()()()()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.fruitForm),e.xp6(3),e.Q6J("models",t.fruits$),e.xp6(5),e.Oqu(t.fruitForm.get("fruitName").value),e.xp6(5),e.Q6J("formGroup",t.fruitFormModels),e.xp6(3),e.Q6J("models",t.fruits$),e.xp6(5),e.Oqu(t.fruitFormModels.get("fruitName").value)}}const It=Ge.Bz.forChild([{path:"",component:(()=>{class r extends h.yl{constructor(t,i,n,s,d,u,f){super(),this.changeDetectorRef=t,this.countriesService=i,this.folderService=n,this.countriesListService=s,this.newsService=d,this.groupingService=u,this.fb=f,this.fruct="apricots",this.fructs=[],this.fructItems=[],this.fructItemsWithPreSelection=[],this.tabIndex=1,this.deepCountry={l1:{l2:{name:"Switzerland",value:"CH"}}},this.dialogResponse$=new J.x,this.loremList=[],this._dialogVisible=!1,this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","displayName":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","displayName":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","displayName":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","displayName":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","displayName":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","displayName":"Dominica","depth":0,"odd":false,"selected":true}]'),this.news$=d.getNews$(50),this.bigNews$=d.getNews$(1e4),this.bigCountries$=i.getCountries$(null,1e5);for(let o=0;o<50;o++){const c=Math.floor(38*Math.random())+33;this.loremList[o]={},this.loremList[o].size=c,this.loremList[o].displayName=`${o} - Une ligne de test avec une taille de : ${c}`}u.group$(this.loremList,[{groupByField:"height"}]).pipe((0,g.R)(this.destroyed$)).subscribe(o=>{this.loremList=o}),this.country=new se.c,this.country.code="CH",this.country.displayName="Switzerland",this.country.naqme="Switzerland",this.country.color="rgb(211, 47, 47)",this.countries$=this.countriesService.getCountries$(),this.folders=this.folderService.getFolders(),this.deepCountries$=this.countriesService.getCountries$().pipe((0,v.w)(o=>o),(0,w.U)(o=>({l1:{l2:{name:o.naqme,value:o.code}}})),(0,We.q)()),this.fructs=["Apricots","Banana","Cantaloupe","Cherries","Coconut","Cranberries","Durian","Grapes","Lemon","Mango","Pineapple","Watermelon"],this.fruits$=(0,T.of)(this.fructs),this.fructItems=this.fructs.map(o=>({displayName:o,value:o.toLowerCase()})),this.fructItemsWithPreSelection=this.fructs.map((o,c)=>({displayName:o,value:o.toLowerCase(),selected:1===c})),this.countries$.pipe((0,y.b)(o=>this.countriesForMultiselect=o),(0,G.g)(1),(0,g.R)(this.destroyed$)).subscribe(()=>{this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","displayName":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","displayName":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","displayName":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","displayName":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","displayName":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","displayName":"Dominica","depth":0,"odd":false,"selected":true}]')}),this.countries$.pipe((0,g.R)(this.destroyed$)).subscribe(o=>{const c=[],p=[],m={};c.push({collapsible:!0,collapsed:!0,groupName:"EmptyGroup",items:[],displayName:"Empty Group",selectable:!1}),o.forEach(_=>{const D=`Group ${_.naqme[0]}`;m[D]||(m[D]=[],c.push({collapsible:!0,groupName:D,items:m[D],displayName:D,selectable:!1}),p.push({collapsible:!0,collapsed:!0,groupName:D,items:[{displayName:"loading...",selectable:!1}],displayName:D,selectable:!1,loaded:!1})),m[D].push({model:_})}),this.groupedCountries=c,this.onDemandGroupedCountries=p}),this.fruitForm=this.fb.group({fruitName:["",[Be.p]]}),this.fruitFormModels=this.fb.group({fruitName:[""]})}set dialogVisible(t){this._dialogVisible=t,this.changeDetectorRef.markForCheck()}get dialogVisible(){return this._dialogVisible}loadingItems(){return(t,i)=>this.countriesService.getCountries$().pipe((0,G.g)(3e3))}collapsingItems(){return t=>t.loaded?(0,T.of)(t):this.confirmDialog()(t)}expandingItems(){return t=>{const i=t;return i.loaded?(0,T.of)(t):this.confirmDialog()(t).pipe((0,v.w)(n=>n?((0,T.of)(i).pipe((0,G.g)(2e3),(0,C.q)(1),(0,g.R)(this.destroyed$)).subscribe(s=>{const d=this.groupedCountries.find(u=>u.displayName===s.displayName);s.items=d.items,s.loaded=!0,this.onExpandList.refresh()}),(0,T.of)(n)):(0,T.of)(null)))}}confirmDialog(){return t=>(this.dialogVisible=!0,this.dialogResponse$.pipe((0,C.q)(1),(0,w.U)(i=>(this.dialogVisible=!1,"ok"===i?t:null))))}set bigCountriesList(t){this.viewPortInfos$&&(this.viewPortInfos$.unsubscribe(),this.viewPortInfos=[],delete this.viewPortInfos$),this.viewPortInfos$=null==t?void 0:t.viewPort.viewPort$.subscribe(i=>{var n,s;this.viewPortInfos=[{name:"beforeSize",value:String(i.beforeSize)},{name:"startIndex",value:String(i.startIndex)},{name:"viewPortSize",value:String(i.viewPortSize)},{name:"visibleCount",value:String(null===(n=i.visibleItems)||void 0===n?void 0:n.length)},{name:"endIndex",value:String(i.endIndex)},{name:"afterSize",value:String(i.afterSize)},{name:"itemsCount",value:String(null===(s=i.items)||void 0===s?void 0:s.length)}]})}imageLoaded(t){const i=t;i.loaded||(i.loaded=!0,i.size=void 0,this.newsList.refreshViewPort())}multiselectModelChange(t){this.multiselectModel=t||null}onFilterTemplateClicked(t){alert(`${t} clicked`)}onItemDragStart(t){t.dragInfo.country=t.dragObject}onDivDragOver(t){t.dragInfo.hasOwnProperty("country")&&t.preventDefault()}onDivDropEvent(t){if(t.dragInfo.hasOwnProperty("country")){const i=t.dragInfo.country;t.target.innerText=`The dropped country is ${i.naqme} - the code is: ${i.code}`,t.preventDefault()}}getDragContext(){return{target:"[ddid]",className:"item-base-cursor",dragStart:t=>{const i=null==t?void 0:t.getAttribute("ddid");return i&&this.countriesService.getCountryByCode$(i)}}}getDropContext(t){return{dragEnter:i=>({width:200,height:60,className:"country-target-cursor"}),drop:i=>{t.innerText=`The dropped country is ${i.naqme} - the code is: ${i.code}`}}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(se.K),e.Y36(re.Z),e.Y36(ae.g),e.Y36(ze.Y),e.Y36(A.uC),e.Y36(b.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["deja-tree-list-demo"]],viewQuery:function(t,i){if(1&t&&(e.Gf(tt,5),e.Gf(it,5),e.Gf(nt,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.newsList=n.first),e.iGM(n=e.CRH())&&(i.onExpandList=n.first),e.iGM(n=e.CRH())&&(i.bigCountriesList=n.first)}},features:[e._Bn([ae.g]),e.qOj],decls:18,vars:10,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","SIMPLE EXAMPLES"],["label","ADVANCED EXAMPLES"],["label","TEMPLATING"],["label","PRE-SELECTIONS"],["label","PRE-EVENTS AND ON_DEMAND"],["label","PERFORMANCES"],["label","REACTIVE FORM"],[4,"ngIf"],["class","demo-card demo-basic",4,"ngIf"],["type","primary","title","Confirm"],["actionsTemplate",""],["id","cancelbtn","mat-raised-button","",3,"click"],["id","okbtn","mat-raised-button","","color","primary",3,"click"],[1,"demo-card","demo-basic"],[3,"url"],[1,"deja-treelist-demo","demo-card","demo-basic"],["color","primary"],[1,"flexLayout"],[1,"flex45p","flexLayout","flexColumn"],["textField","naqme","valueField","code",3,"ngModel","models","ngModelChange"],[1,"flex45p","flexOffset5p"],["textField","naqme","valueField","code",1,"flex50p",3,"ngModel","models","ngModelChange"],["id","shortcut-list",1,"flexOffset5p"],[1,"keyboard-key"],[1,"flex45p","demo-half-width","optionstl",3,"ngModel","ngModelChange"],["value","Apricots","text","My preferred fruct is Apricots"],["value","Banana","text","My preferred fruct is Banana"],["value","Cantaloupe","text","My preferred fruct is Cantaloupe"],["value","Cherries","text","My preferred fruct is Cherries"],["value","Coconut","text","My preferred fruct is Coconut"],["value","Cranberries","text","My preferred fruct is Cranberries"],["value","Durian","text","My preferred fruct is Durian"],["value","Grapes","text","My preferred fruct is Grapes"],["value","Lemon","text","My preferred fruct is Lemon"],["value","Mango","text","My preferred fruct is Mango"],["value","Pineapple","text","My preferred fruct is Pineapple"],["value","Watermelon","text","My preferred fruct is Watermelon"],["multiSelect","true",1,"flex45p","flexOffset5p","demo-half-width","optionstl",3,"selectedModels"],["value","apricots","text","Apricots"],["value","banana","text","Banana"],["value","cantaloupe","text","Cantaloupe"],["value","cherries","text","Cherries"],["value","coconut","text","Coconut"],["value","cranberries","text","Cranberries"],["value","durian","text","Durian"],["value","grapes","text","Grapes"],["value","lemon","text","Lemon"],["value","mango","text","Mango"],["value","pineapple","text","Pineapple"],["value","watermelon","text","Watermelon"],[1,"flexLayout","flexAlignCenter","flexJustifyStart"],[1,"demo-half-width",3,"ngModel","models","ngModelChange"],[1,"flex50p","flexOffset5p"],["color","primary",3,"ngModel","ngModelChange"],["searchArea","","nodataholder","No record to display","maxHeight","auto","selectionClearable","","textField","l1.l2.name","valueField","l1.l2.value",3,"disabled","ngModel","models","ngModelChange"],["nodataholder","No record to display","maxHeight","auto","textField","label","childrenField","children",3,"models"],["sortable","","multiSelect","","textField","naqme","valueField","code",3,"selectedItems","items","itemDragStart","selectedChange"],[1,"flexLayout","flexColumn","flex45p","flexOffset5p"],["id","shortcut-list"],[4,"ngFor","ngForOf"],["textField","naqme","valueField","code",3,"items","deja-mouse-draggable"],["itemTemplate",""],["parentItemTemplate",""],[2,"border","1px solid red","min-height","150px",3,"deja-mouse-droppable","deja-droppable"],["dropArea",""],["nodataholder","No record to display","textField","naqme","valueField","code","min-search-length","2",1,"demo-half-width",3,"itemListService"],["multiSelect","","viewportMode","variable","searchArea","","sortable","",3,"items"],["id","placeholder-icon"],["viewportMode","auto","textField","title","searchField","description",1,"news",3,"models"],["news",""],["textField","naqme","valueField","code",3,"models"],["headertreelist",""],["headerTemplate",""],[1,"flex45p","flexLayout","flexColumn","flexOffset5p"],["textField","naqme",3,"items"],["searchArea","","textField","naqme","valueField","code",3,"items"],["searchPrefixTemplate",""],["searchSuffixTemplate",""],[3,"item","imageLoaded"],["id","headerTemplateContent",3,"click"],["id","title"],[3,"sort-infos"],[3,"click"],[1,"flexFixed140px","flexLayout","flexColumn"],["selectedModel","Mango",1,"fixed-height",3,"models"],[1,"flexFixed140px","flexLayout","flexColumn","flexOffset15px"],["multiSelect","true",1,"fixed-height",3,"selectedModels","models"],["selectedItem","mango",1,"fixed-height",3,"items"],[1,"flexFixed140px","flexOffset15px"],[1,"fixed-height",3,"items"],["textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"loadingItems"],["ondemand",""],["multiSelect","","textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"selectingItem","items"],["textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"items","expandingItem","collapsingItem"],["onexpand",""],[1,"flexContainer","flexLayout","flexAlignCenter","flexJustifyStart"],[1,"flexExtendCollapseAuto"],[1,"flexFixedAuto"],["matInput","","type","number","autocomplete","off",3,"ngModel","ngModelChange"],["mat-button","",1,"flexFixedAuto",3,"click"],["id","bigCountries","textField","naqme","valueField","code",1,"flex45p",3,"items"],["bigCountries",""],["id","vptitle"],[1,"vpinfoname"],["novalidate","",3,"formGroup"],["formControlName","fruitName",3,"models"],["multiSelect","","formControlName","fruitName",3,"models"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-tab-group",0),e.NdJ("selectedTabChange",function(s){return i.tabIndex=s.index}),e._UZ(1,"mat-tab",1)(2,"mat-tab",2)(3,"mat-tab",3)(4,"mat-tab",4)(5,"mat-tab",5)(6,"mat-tab",6)(7,"mat-tab",7)(8,"mat-tab",8),e.qZA(),e.YNc(9,st,5,0,"deja-dialog",9),e.YNc(10,at,2,1,"mat-card",10),e.YNc(11,ot,169,27,"div",9),e.YNc(12,pt,70,13,"div",9),e.YNc(13,_t,38,8,"div",9),e.YNc(14,vt,26,6,"div",9),e.YNc(15,jt,23,8,"div",9),e.YNc(16,Ct,29,4,"div",9),e.YNc(17,Dt,27,6,"div",9)),2&t&&(e.Q6J("selectedIndex",i.tabIndex),e.xp6(9),e.Q6J("ngIf",i.dialogVisible),e.xp6(1),e.Q6J("ngIf",0===i.tabIndex),e.xp6(1),e.Q6J("ngIf",1===i.tabIndex),e.xp6(1),e.Q6J("ngIf",2===i.tabIndex),e.xp6(1),e.Q6J("ngIf",3===i.tabIndex),e.xp6(1),e.Q6J("ngIf",4===i.tabIndex),e.xp6(1),e.Q6J("ngIf",5===i.tabIndex),e.xp6(1),e.Q6J("ngIf",6===i.tabIndex),e.xp6(1),e.Q6J("ngIf",7===i.tabIndex))},dependencies:[M.sg,M.O5,I.a,B,A.ZV,Xe.F,X.b,ce,ue,A._h,He,b._Y,b.Fj,b.wV,b.JJ,b.JL,b.On,F.lW,P.a8,P.dn,q.oG,N.KE,U.Hw,R.Nt,L.SP,L.uX,S.Ye,et.H,b.sg,b.u,M.Ov,M.Ts],styles:['deja-tree-list-demo .demo-card{margin:16px}deja-tree-list-demo .demo-card mat-card-content{padding:16px;display:flex;flex-direction:column}deja-tree-list-demo .demo-card mat-card-content deja-tree-list{max-height:400px;position:relative;margin:1rem 0}deja-tree-list-demo .demo-card mat-card-content deja-tree-list.fixed-height{height:400px}deja-tree-list-demo .demo-card mat-card-content deja-tree-list.news{max-height:600px}deja-tree-list-demo .demo-card mat-card-content mat-form-field{flex-basis:auto;flex-grow:0;flex-shrink:0;position:relative;margin-top:.7rem}deja-tree-list-demo .demo-basic{padding:0}deja-tree-list-demo .demo-full-width{width:100%}deja-tree-list-demo .demo-half-width{width:45%}deja-tree-list-demo .demo-icons{font-size:100%;height:inherit;vertical-align:top;width:inherit}deja-tree-list-demo #flight{display:flex;align-items:center}deja-tree-list-demo news-card{width:100%}deja-tree-list-demo news-card .text{overflow-x:hidden}deja-tree-list-demo .vpinfoname{display:inline-block;width:7rem}deja-tree-list-demo #bigCountries{height:400px}deja-tree-list-demo #headerTemplateContent{padding:.4rem;display:block;background-color:#aaa;cursor:pointer;display:flex}deja-tree-list-demo #headerTemplateContent #title{flex:1 0 auto}deja-tree-list-demo #headerTemplateContent step-indicator{flex:0 0 auto}deja-tree-list-demo [matPrefix]{cursor:default;padding:4px}deja-tree-list-demo [matSuffix]{padding:4px;display:flex;justify-content:flex-end;cursor:pointer}deja-tree-list-demo [ddid]{width:100%;height:100%;display:flex;align-items:center}deja-tree-list-demo .optionstl{overflow:visible}deja-tree-list-demo .flexLayout{display:flex}deja-tree-list-demo .flexLayout.flexColumn{flex-direction:column}deja-tree-list-demo .flexLayout.flexJustifyStart{justify-content:start}deja-tree-list-demo .flexLayout.flexAlignCenter{align-items:center}deja-tree-list-demo .flexLayout .flex45p{flex:0 0 45%;overflow:hidden}deja-tree-list-demo .flexLayout .flex50p{flex:0 0 50%;overflow:hidden}deja-tree-list-demo .flexLayout .flexFixedAuto{flex:0 0 auto;overflow:hidden}deja-tree-list-demo .flexLayout .flexFixed140px{flex:0 0 140px;overflow:hidden}deja-tree-list-demo .flexLayout .flexExtendAuto{flex:1 0 auto;overflow:hidden}deja-tree-list-demo .flexLayout .flexExtendCollapseAuto{flex:1 1 auto;overflow:hidden}deja-tree-list-demo .flexOffset15px{margin-left:15px}deja-tree-list-demo .flexOffset5p{margin-left:5%}.item-base-cursor #content,.country-target-cursor #content{background-color:#222!important;color:#fff;opacity:.8;display:flex;align-items:center;cursor:pointer}.item-base-cursor #content:before,.country-target-cursor #content:before{display:block;width:.5rem;content:" "}\n'],encapsulation:2}),r})()},{path:"**",redirectTo:"",pathMatch:"full"}]);let wt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[re.Z],imports:[M.ez,I.W,z,A.tN,Ye.O,X.J,pe,A.NA,Ve,b.u5,F.ot,P.QW,q.p9,N.lN,U.Ps,R.c,L.Nh,S.g0,Ke.NewsCardModule,b.UX,It]}),r})()},2718:(W,k,l)=>{l.d(k,{V:()=>R});var M=l(9841),b=l(4482),F=l(5797),P=l(3268),q=l(9635),N=l(3269);function U(...L){const S=(0,N.jO)(L);return S?(0,q.z)(U(...L),(0,P.Z)(S)):(0,b.e)((A,I)=>{(0,M.l)([A,...(0,F.k)(L)])(I)})}function R(...L){return U(...L)}}}]);