!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,r||e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+iix":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return h}));var i=n("SVse"),l=n("8Y7J"),s=n("CDpB"),d=n("xgIS"),p=n("pLZG"),u=n("1G5W"),f=["okaction"],m=["cancelaction"],g=function(e){o(n,e);var t=c(n);function n(e){var i;r(this,n),(i=t.call(this)).closed=new l.EventEmitter;var a=e.nativeElement;return Object(d.a)(a.ownerDocument,"keyup").pipe(Object(p.a)((function(e){var t,n;return!(e.code!==s.A.Enter||!(null===(t=i.okButton)||void 0===t?void 0:t._elementRef))||!(e.code!==s.A.Escape||!(null===(n=i.cancelButton)||void 0===n?void 0:n._elementRef))})),Object(u.a)(i.destroyed$)).subscribe((function(e){e.code===s.A.Enter?i.okButton._elementRef.nativeElement.click():e.code===s.A.Escape&&i.cancelButton._elementRef.nativeElement.click()})),i}return a(n,[{key:"close",value:function(e){for(var t=!0,n=e.target,r=e.currentTarget;n.parentElement&&n!==r;)"dialog"===n.className&&(t=!1),n=n.parentElement;t&&(this.closed.emit(),e.preventDefault())}}]),n}(s.s);g.\u0275fac=function(e){return new(e||g)(l["\u0275\u0275directiveInject"](l.ElementRef))},g.\u0275cmp=l["\u0275\u0275defineComponent"]({type:g,selectors:[["deja-dialog"]],contentQueries:function(e,t,n){var r;1&e&&(l["\u0275\u0275contentQuery"](n,f,!0),l["\u0275\u0275contentQuery"](n,m,!0)),2&e&&(l["\u0275\u0275queryRefresh"](r=l["\u0275\u0275loadQuery"]())&&(t.okButton=r.first),l["\u0275\u0275queryRefresh"](r=l["\u0275\u0275loadQuery"]())&&(t.cancelButton=r.first))},hostBindings:function(e,t){1&e&&l["\u0275\u0275listener"]("click",(function(e){return t.close(e)}))},outputs:{closed:"closed"},features:[l["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:["*"],decls:2,vars:0,consts:[[1,"dialog"]],template:function(e,t){1&e&&(l["\u0275\u0275projectionDef"](),l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275projection"](1),l["\u0275\u0275elementEnd"]())},styles:["[_nghost-%COMP%]{align-items:center;background-color:rgba(0,0,0,.6);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:999}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{z-index:1000}"]}),g.ctorParameters=function(){return[{type:l.ElementRef}]},g.propDecorators={closed:[{type:l.Output}],okButton:[{type:l.ContentChild,args:["okaction"]}],cancelButton:[{type:l.ContentChild,args:["cancelaction"]}],close:[{type:l.HostListener,args:["click",["$event"]]}]};var h=function e(){r(this,e)};h.\u0275mod=l["\u0275\u0275defineNgModule"]({type:h}),h.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||h)},imports:[[i.c]]})},"650w":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return S}));var i=n("SVse"),o=n("8Y7J"),l=n("Dxy4"),c=n("PDjf"),s=n("Tj54"),d=n("8LU1"),p=["actionsTemplate"];function u(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon",6),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.icon)}}function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span",7),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.title)}}function m(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",8),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"](2).onClose()})),o["\u0275\u0275elementStart"](1,"mat-icon"),o["\u0275\u0275text"](2,"close"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-card-title"),o["\u0275\u0275template"](1,u,2,1,"mat-icon",3),o["\u0275\u0275template"](2,f,2,1,"span",2),o["\u0275\u0275elementStart"](3,"div",4),o["\u0275\u0275template"](4,m,3,0,"button",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.icon),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!n.horizontal),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.showCloseIcon)}}function h(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"h2",7),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.title)}}function b(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().$implicit.action()})),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275attribute"]("data-icon",r.icon),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",r.text," ")}}function y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"](2).$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.icon)}}function v(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",13),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().$implicit.action()})),o["\u0275\u0275template"](1,y,2,1,"mat-icon",1),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275classProp"]("action-button",!r.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",r.icon)}}function j(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275template"](1,b,2,2,"button",10),o["\u0275\u0275template"](2,v,2,3,"button",11),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.text),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.icon&&!n.text)}}function x(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-card-actions"),o["\u0275\u0275template"](1,j,3,2,"span",9),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n.actions)}}function I(e,t){}function O(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-card-actions"),o["\u0275\u0275template"](1,I,0,0,"ng-template",14),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",n.actionsTemplate)}}var w=function(){function e(){r(this,e),this.close=new o.EventEmitter,this._showCloseIcon=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;!this.icon&&this.type&&(this.icon=this.getIconFromType(this.type)),this.actions&&this.actions.forEach((function(t){!t.icon&&t.type&&(t.icon=e.getIconFromType(t.type))}))}},{key:"onClose",value:function(){this.close.emit()}},{key:"getIconFromType",value:function(e){switch(e){case"info":case"primary":return e="primary","info_outline";case"success":return"done";case"warn":return"warning_outline";case"danger":return"error_outline";default:return null}}},{key:"horizontal",set:function(e){this._horizontal=Object(d.b)(e)},get:function(){return this._horizontal}},{key:"showCloseIcon",set:function(e){this._showCloseIcon=Object(d.b)(e)},get:function(){return this._showCloseIcon}}]),e}();w.\u0275fac=function(e){return new(e||w)},w.\u0275cmp=o["\u0275\u0275defineComponent"]({type:w,selectors:[["deja-message-box"]],contentQueries:function(e,t,n){var r;1&e&&o["\u0275\u0275contentQuery"](n,p,!0),2&e&&o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t.actionsTemplate=r.first)},inputs:{horizontal:"horizontal",showCloseIcon:"showCloseIcon",icon:"icon",type:"type",title:"title",actions:"actions"},outputs:{close:"close"},ngContentSelectors:["*"],decls:7,vars:7,consts:[["id","msgbox"],[4,"ngIf"],["id","title",4,"ngIf"],["id","icon",4,"ngIf"],[1,"header-actions"],["mat-icon-button","","type","button","class","close",3,"click",4,"ngIf"],["id","icon"],["id","title"],["mat-icon-button","","type","button",1,"close",3,"click"],[4,"ngFor","ngForOf"],["mat-button","","type","button","class","with-icon",3,"click",4,"ngIf"],["mat-icon-button","","type","button",3,"action-button","click",4,"ngIf"],["mat-button","","type","button",1,"with-icon",3,"click"],["mat-icon-button","","type","button",3,"click"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](),o["\u0275\u0275elementStart"](0,"mat-card",0),o["\u0275\u0275template"](1,g,5,3,"mat-card-title",1),o["\u0275\u0275elementStart"](2,"mat-card-content"),o["\u0275\u0275template"](3,h,2,1,"h2",2),o["\u0275\u0275projection"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](5,x,2,1,"mat-card-actions",1),o["\u0275\u0275template"](6,O,2,1,"mat-card-actions",1),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275classMap"](t.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.icon||t.showCloseIcon),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.horizontal&&t.title),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.actions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.actions&&t.actionsTemplate))},directives:[c.a,i.n,c.c,c.e,s.a,l.b,c.b,i.m,i.s],styles:["deja-message-box{border-radius:3px;display:block}deja-message-box #msgbox{border:0;border-radius:3px;display:block;margin:0;padding:0}deja-message-box #msgbox>.mat-card-title{align-items:center;display:flex;font-size:1rem;margin:0;padding:1rem 0 0 1.2rem;text-transform:uppercase}deja-message-box #msgbox>.mat-card-title #icon{margin-right:.3rem}deja-message-box #msgbox>.mat-card-title .header-actions{position:absolute;right:0;top:0}deja-message-box #msgbox>.mat-card-content{font-weight:300;margin:0;overflow:hidden;padding:.5rem .75rem .75rem 1.3rem}deja-message-box #msgbox>.mat-card-content h2{font-size:1rem;font-weight:500;line-height:1.5rem;margin:0;overflow:hidden;text-overflow:ellipsis;text-transform:uppercase;white-space:nowrap}deja-message-box #msgbox>.mat-card-actions{align-items:center;display:flex;justify-content:flex-end;margin:0;padding:.5rem}deja-message-box[horizontal] #msgbox{align-items:stretch;display:flex;flex-direction:row;padding:0;position:relative}deja-message-box[horizontal] #msgbox>.mat-card-title{align-items:center;display:flex;flex:0 0 auto;justify-content:center;margin:0;padding:.5rem 0 .5rem .8rem;text-align:center}deja-message-box[horizontal] #msgbox>.mat-card-title #icon{margin:0}deja-message-box[horizontal] #msgbox>.mat-card-content{align-self:center;flex:1 1 auto;padding:.75rem}deja-message-box[horizontal] #msgbox>.mat-card-actions{margin:0;padding:0;position:absolute;right:0;top:0}deja-message-box[horizontal] #msgbox>.mat-card-actions [mat-icon-button] mat-icon{font-size:1rem}"],encapsulation:2}),w.propDecorators={close:[{type:o.Output}],type:[{type:o.Input}],title:[{type:o.Input}],icon:[{type:o.Input}],actions:[{type:o.Input}],actionsTemplate:[{type:o.ContentChild,args:["actionsTemplate"]}],horizontal:[{type:o.Input}],showCloseIcon:[{type:o.Input}]};var S=function e(){r(this,e)};S.\u0275mod=o["\u0275\u0275defineNgModule"]({type:S}),S.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||S)},imports:[[i.c,c.d,s.b,l.c]]})},XAGK:function(t,i,l){"use strict";l.d(i,"a",(function(){return he})),l.d(i,"b",(function(){return be}));var s=l("SVse"),u=l("8Y7J"),f=l("s7LF"),m=l("Dxy4"),g=l("pMoy"),h=l("Tj54"),b=l("e6WT"),y=l("CDpB"),v=l("u14H"),j=l("cvwY"),x=l("8LU1"),I=l("XNiG"),O=l("2Vo4"),w=l("Cfvw"),S=l("xgIS"),k=l("itXk"),C=l("VRyK"),E=l("LRne"),T=l("PqYM"),$=l("Kj3r"),_=l("1G5W"),D=l("vkgz"),R=l("eIep"),P=l("lJxs"),V=l("IzEk"),M=l("pLZG"),A=l("Q2Ze"),F=["itemTemplate"],L=["parentItemTemplate"],K=["loaderTemplate"],z=["headerTemplate"],H=["searchPrefixTemplate"],Q=["searchSuffixTemplate"],q=["listElement"],N=["inputelement"];function B(e,t){}function U(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span",16),u["\u0275\u0275template"](1,B,0,0,"ng-template",17),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n.searchPrefixTemplate)}}function Y(e,t){}function G(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span",18),u["\u0275\u0275template"](1,Y,0,0,"ng-template",17),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n.searchSuffixTemplate)}}function J(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field",11),u["\u0275\u0275elementStart"](1,"input",12,13),u["\u0275\u0275listener"]("input",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](3);return u["\u0275\u0275nextContext"](2).setQuery$.next(e&&e.value)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,U,2,1,"span",14),u["\u0275\u0275template"](5,G,2,1,"span",15),u["\u0275\u0275elementEnd"]()}if(2&e){var r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",r.query)("placeholder",r.placeholder)("disabled",r.disabled),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",r.searchPrefixTemplate),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",r.searchSuffixTemplate)}}function W(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",9),u["\u0275\u0275template"](1,J,6,5,"mat-form-field",10),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.searchArea)}}function Z(e,t){}function X(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",19),u["\u0275\u0275template"](1,Z,0,0,"ng-template",17),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n.headerTemplate)}}function ee(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",20),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.nodataholder)}}function te(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",21),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.hintLabel)}}function ne(e,t){if(1&e&&u["\u0275\u0275element"](0,"div"),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275styleProp"]("height",n.vpBeforeHeight,"px")}}function re(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-icon"),u["\u0275\u0275text"](1,"arrow_drop_down"),u["\u0275\u0275elementEnd"]())}function ie(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275text"](1),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](r.getTextValue(n))}}function ae(e,t){}var oe=function(e,t,n){return{$implicit:e,query:t,flatindex:n}};function le(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0,27),u["\u0275\u0275template"](1,ae,0,0,"ng-template",28),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](),r=n.$implicit,i=n.index,a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",a.parentItemTemplate)("ngTemplateOutletContext",u["\u0275\u0275pureFunction3"](2,oe,r,a.query,a.vpStartRow+i))}}function ce(e,t){}function se(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0,27),u["\u0275\u0275template"](1,ce,0,0,"ng-template",28),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](),r=n.$implicit,i=n.index,a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",u["\u0275\u0275pureFunction3"](2,oe,r,a.query,a.vpStartRow+i))}}function de(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",23,24),u["\u0275\u0275elementStart"](2,"span",25),u["\u0275\u0275template"](3,re,2,0,"mat-icon",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,ie,2,1,"ng-container",7),u["\u0275\u0275template"](5,le,2,6,"ng-container",26),u["\u0275\u0275template"](6,se,2,6,"ng-container",26),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=t.index,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275styleProp"]("width",i.itemsWidth,"px")("height",i.getItemHeight(n),"px"),u["\u0275\u0275property"]("deja-draggable",i.getDragContext(i.vpStartRow+r)),u["\u0275\u0275attribute"]("class",i.getItemClass(n))("current",i.vpStartRow+r===i.currentItemIndex||null)("depth",i.depthMax?n.depth:null)("id",n.id||null)("flat",i.vpStartRow+r),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",null==n.$items?null:n.$items.length),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(!n.$items||!i.parentItemTemplate)&&(n.$items||!i.itemTemplate)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.$items&&i.parentItemTemplate),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!n.$items&&i.itemTemplate)}}function pe(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,de,7,14,"div",22),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.treeItemList)}}function ue(e,t){if(1&e&&u["\u0275\u0275element"](0,"div"),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275styleProp"]("height",n.vpAfterHeight,"px")}}function fe(e,t){1&e&&u["\u0275\u0275element"](0,"deja-list-loader",29)}function me(e,t){}function ge(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,me,0,0,"ng-template",17),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n.loaderTemplate)}}var he=function(t){o(l,t);var i=c(l);function l(t,a,o,c,s){var f,m,g,h;r(this,l),(h=i.call(this,t,a)).viewPort=a,h.elementRef=o,h.control=c,h.clipboardService=s,h.scroll=new u.EventEmitter,h.query="",h.itemsWidth=null,h.itemDragEnd=new u.EventEmitter,h.itemDragStart=new u.EventEmitter,h.selectedChange=new u.EventEmitter,h.viewPortChanged=new u.EventEmitter,h._disabled=null,h.setQuery$=new I.a,h._keyboardNavigation=!1,h.rangeStartIndex=0,h.filterExpression="",h._searchArea=!1,h._sortable=!1,h._itemsDraggable=!1,h.hasCustomService=!1,h.hasLoadingEvent=!1,h._modelIsValue=!1,h.keyboardNavigation$=new I.a,h.clearFilterExpression$=new O.a(null),h.writeValue$=new I.a,h.selectItems$=new I.a,h.contentInitialized$=new I.a,h.onTouchedCallback=function(){},h.onChangeCallback=function(e){},h.control&&(h.control.valueAccessor=d(h)),Object(w.a)(h.clearFilterExpression$).pipe(Object($.a)(400),Object(_.a)(h.destroyed$)).subscribe((function(){return h.filterExpression=""})),Object(w.a)(h.keyboardNavigation$).pipe(Object(D.a)((function(){return h._keyboardNavigation=!0})),Object($.a)(1e3),Object(_.a)(h.destroyed$)).subscribe((function(){h._keyboardNavigation=!1,h.changeDetectorRef.markForCheck()})),Object(S.a)(window,"resize").pipe(Object($.a)(5),Object(_.a)(h.destroyed$)).subscribe((function(){h.viewPort.deleteSizeCache(),h.viewPort.refresh(),h.changeDetectorRef.markForCheck()})),Object(w.a)(h.setQuery$).pipe(Object($.a)(250),Object(R.a)((function(e){return h.query=e,h.setCurrentItem(void 0),h.calcViewList$()})),Object(_.a)(h.destroyed$)).subscribe();var b=Object(k.a)([h.selectItems$,h.contentInitialized$]).pipe(Object(P.a)((function(t){return e(t,1)[0]})),Object(P.a)((function(e){return h.getVirtualSelectedEntities(e)})),Object(P.a)((function(e){return e instanceof Array&&e||e&&[e]||[]})),Object(D.a)((function(e){return n((f=d(h),p(l.prototype)),"setSelectedItems",f).call(f,e)}))),y=Object(k.a)([h.writeValue$,h.contentInitialized$]).pipe(Object(P.a)((function(t){var n=e(t,1)[0];if(void 0===h.modelIsValue)if(n instanceof Array){var r=n||[],i=r.length&&typeof r[0];h.modelIsValue="string"===i||"number"===i}else{var a=typeof n;h.modelIsValue=""===n||"string"===a||"number"===a}return h.modelIsValue&&(h.query=""),n})),Object(P.a)((function(e){return h.getVirtualSelectedEntities(e)})),Object(D.a)((function(e){return n((m=d(h),p(l.prototype)),"setSelectedModels",m).call(m,!e||h._multiSelect||e instanceof Array?e:[e])})));return Object(C.a)(y,b).pipe(Object(_.a)(h.destroyed$)).subscribe((function(){n((g=d(h),p(l.prototype)),"getItemListService",g).call(g).ensureSelection(),h.changeDetectorRef.markForCheck()})),h._viewPortChanged=h.viewPortChanged,h.maxHeight=0,h}return a(l,[{key:"keyboardNavigation",value:function(){return this._keyboardNavigation}},{key:"writeValue",value:function(e){this.writeValue$.next(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"toggleAll$",value:function(e){var t=this;return n(p(l.prototype),"toggleAll$",this).call(this,e).pipe(Object(R.a)((function(e){return t.calcViewList$().pipe(Object(V.a)(1),Object(P.a)((function(){return e})))})))}},{key:"toggleAll",value:function(e){this.toggleAll$(e).pipe(Object(V.a)(1),Object(_.a)(this.destroyed$)).subscribe()}},{key:"ensureItemVisible",value:function(e){n(p(l.prototype),"ensureItemVisible",this).call(this,e)}},{key:"clearViewPort",value:function(){n(p(l.prototype),"clearViewPort",this).call(this)}},{key:"ngAfterContentInit",value:function(){var e;if(!this.items&&(null===(e=this.options)||void 0===e?void 0:e.length)){var t=[];this.valueField="value",this.textField="text";var n=this.options.map((function(e){var n={text:e.text,value:e.value};return e.selected&&t.push(n),n}));this.models=n,t.length&&(this.selectedModels=t),n.length>100&&console.error("Select options with more than 100 items can have performance options. Please bind directly the items in code behind with items or models input.")}this.contentInitialized$.next(!0)}},{key:"ngAfterViewInit",value:function(){var e=this;0===this._itemList.length&&(this.hasCustomService||this.hasLoadingEvent)&&Object(T.a)(1).pipe(Object(V.a)(1),Object(R.a)((function(){return e.calcViewList$()})),Object(_.a)(this.destroyed$)).subscribe(),Object(S.a)(this.listElement,"scroll").pipe(Object(P.a)((function(t){var n=t.target;return e.scroll.emit({originalEvent:t,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}),n.scrollTop})),Object(_.a)(this.destroyed$)).subscribe((function(t){return e.viewPort.scrollPosition$.next(t)}));var t=Object(S.a)(this.listElement,"keydown");if(this.input){var n=Object(S.a)(this.input.nativeElement,"keydown");t=Object(C.a)(t,n)}t.pipe(Object(M.a)((function(){return!e.disabled})),Object(M.a)((function(e){var t=e.code;return t===y.A.Home||t===y.A.End||t===y.A.PageUp||t===y.A.PageDown||t===y.A.UpArrow||t===y.A.DownArrow||t===y.A.Space||t===y.A.Enter})),Object(R.a)((function(t){return e.ensureListCaches$().pipe(Object(R.a)((function(){if(!e.rowsCount)return Object(E.a)(null);var n,r,i,a,o,l,c=function(t){e.currentItemIndex=t,e.ensureItemVisible(e.currentItemIndex),e.viewPort.refresh()},s=e.rangeStartIndex>=0?e.rangeStartIndex:e.rangeStartIndex=e.currentItemIndex;switch(t.code){case y.A.Home:return c(0),t.shiftKey?e.selectRange$(s,0):t.ctrlKey?Object(E.a)(-1):(e.rangeStartIndex=0,e.selectRange$(e.rangeStartIndex));case y.A.End:return c(e.rowsCount-1),t.shiftKey?e.selectRange$(s,e.rowsCount-1):t.ctrlKey?Object(E.a)(-1):(e.rangeStartIndex=e.rowsCount-1,e.selectRange$(e.rangeStartIndex));case y.A.PageUp:return c(n=Math.max(0,e.currentItemIndex-e._pageSize)),t.shiftKey?e.selectRange$(s,n):t.ctrlKey?Object(E.a)(-1):(e.rangeStartIndex=n,e.selectRange$(e.rangeStartIndex));case y.A.PageDown:return c(r=Math.min(e.rowsCount-1,e.currentItemIndex+e._pageSize)),t.shiftKey?e.selectRange$(s,r):t.ctrlKey?Object(E.a)(-1):(e.rangeStartIndex=r,e.selectRange$(e.rangeStartIndex));case y.A.UpArrow:if(-1!==(i=Math.max(0,e.currentItemIndex-1))){if(c(i),t.shiftKey)return e.selectRange$(s,i);if(!t.ctrlKey)return e.rangeStartIndex=i,e.selectRange$(e.rangeStartIndex)}return Object(E.a)(-1);case y.A.DownArrow:if(-1!==(a=Math.min(e.rowsCount-1,e.currentItemIndex+1))){if(c(a),t.shiftKey)return e.selectRange$(s,a);if(!t.ctrlKey)return e.rangeStartIndex=a,e.selectRange$(e.rangeStartIndex)}return Object(E.a)(-1);case y.A.Space:return"INPUT"!==t.target.tagName||t.ctrlKey||t.shiftKey?(l=e.currentItem)?e.isCollapsible(l)?e.toggleCollapse$(s,!l.collapsed):l.selected?e.toggleSelect$([l],!1):e.multiSelect&&t.ctrlKey?e.toggleSelect$([l],!l.selected):e.unselectAll$().pipe(Object(R.a)((function(){return e.toggleSelect$([l],!0)}))):Object(E.a)(-1):Object(E.a)(null);case y.A.Enter:if(o=e.currentItem){if(e.isCollapsible(o))return e.toggleCollapse$(s,!o.collapsed);if(e.isSelectable(o))return e.unselectAll$().pipe(Object(R.a)((function(){return e.toggleSelect$([o],!0)})))}return Object(E.a)(-1);default:return Object(E.a)(null)}})),Object(P.a)((function(n){if(null!==n)return e.keyboardNavigation$.next(),e.changeDetectorRef.markForCheck(),t.preventDefault(),!1})))})),Object(_.a)(this.destroyed$)).subscribe();var r=Object(S.a)(this.listElement,"keyup");if(this.input){var i=Object(S.a)(this.input.nativeElement,"keyup"),a=Object(S.a)(this.input.nativeElement,"drop");r=Object(C.a)(r,i,a)}r.pipe(Object(M.a)((function(){return!e.disabled})),Object(D.a)((function(){(e.query||"").length<e.minSearchlength&&(e._itemList=[])})),Object(M.a)((function(e){var t=e.code;return t>=y.A.Key0||t===y.A.Backspace||t===y.A.Space||t===y.A.Delete})),Object(R.a)((function(t){if(e.searchArea)e.keyboardNavigation$.next();else if(/[a-zA-Z0-9]/.test(t.key)){e.clearFilterExpression$.next(null),e.filterExpression+=t.key;var n=new RegExp("^".concat(e.filterExpression),"i");return e.findNextMatch$((function(r){if(r&&e.isSelectable(r)){var i=e.getTextValue(r);if(n.test(i))return!0}return t.preventDefault(),!1}),e.currentItemIndex)}return Object(E.a)(null)})),Object(M.a)((function(e){return(null==e?void 0:e.index)>=0})),Object(_.a)(this.destroyed$)).subscribe((function(t){e.currentItemIndex=t.index,e.ensureItemVisible(e.currentItemIndex)})),this.viewPort.element$.next(this.listElement)}},{key:"mousedown",value:function(e){var t=this;if(this.mouseUp$sub&&(this.mouseUp$sub.unsubscribe(),this.mouseUp$sub=void 0),!this.disabled){var n=e.target,r=this.getItemIndexFromHTMLElement(n);if(void 0!==r){var i=function(e){return"expandbtn"===e.id||"expandbtn"===e.parentElement.id},a=this._itemList[r-this.vpStartRow];if(this.clickedItem=a,(!i(n)||!this.isCollapsible(a))&&this.isSelectable(a)&&(!e.ctrlKey||!this.multiSelect)&&(0===e.button||!a.selected)){if(e.shiftKey&&this.multiSelect)return this.selectRange$(r,this.currentItemIndex).pipe(Object(V.a)(1),Object(_.a)(this.destroyed$)).subscribe((function(){return t.changeDetectorRef.markForCheck()})),!1;if(!e.ctrlKey){if(!this.multiSelect&&a.selected)return;this.unselectAll$().pipe(Object(V.a)(1),Object(R.a)((function(){return t.currentItemIndex=r,t.toggleSelect$([a],!0)})),Object(V.a)(1),Object(_.a)(this.destroyed$)).subscribe((function(){return t.changeDetectorRef.markForCheck()}))}}this.mouseUp$sub=Object(S.a)(this.listElement,"mouseup").pipe(Object(V.a)(1),Object(M.a)((function(){return!t.disabled})),Object(R.a)((function(e){t.mouseUp$sub=void 0;var n=e.target,r=t.getItemIndexFromHTMLElement(n);if(void 0===r)return Object(E.a)(null);var a=t._itemList[r-t.vpStartRow];return t.clickedItem&&a!==t.clickedItem||e.shiftKey||0!==e.button?Object(E.a)(null):!t.isCollapsible(a)||!i(n)&&t.isSelectable(a)?e.ctrlKey?t.multiSelect?t.toggleSelect$([a],!a.selected).pipe(Object(P.a)((function(){return r}))):(t.selectedItem&&t.selectedItem!==a?t.toggleSelect$([t.selectedItem],!1).pipe(Object(R.a)((function(){return t.toggleSelect$([a],!0)}))):t.toggleSelect$([a],!a.selected)).pipe(Object(P.a)((function(){return r}))):(t.rangeStartIndex=-1,Object(E.a)(null)):t.toggleCollapse$(r,!a.collapsed).pipe(Object(P.a)((function(){return r})))})),Object(M.a)((function(e){return null!==e})),Object(_.a)(this.destroyed$)).subscribe((function(e){t.currentItemIndex=e,t.changeDetectorRef.markForCheck()}))}}}},{key:"getDragContext",value:function(e){var t=this;return this.clipboardService&&(this.sortable||this.itemsDraggable)?{dragendcallback:function(e){t.itemDragEnd.emit(e),delete t._ddStartIndex,delete t._ddTargetIndex,t.calcViewList$().pipe(Object(V.a)(1),Object(_.a)(t.destroyed$)).subscribe()},dragstartcallback:function(n){var r=t.getItemIndexFromHTMLElement(n.target);void 0!==r&&(t._ddStartIndex=e,n.dragObject=t._itemList[r-t.vpStartRow],t.itemDragStart.emit(n))},object:{index:e}}:null}},{key:"getDropContext",value:function(){var e=this;if(!this.clipboardService||!this.sortable)return null;var t=function(t){if(void 0!==e._ddStartIndex){var n=e.getItemIndexFromHTMLElement(t.target);void 0!==n&&(e.calcDragTargetIndex$(e._ddStartIndex,n).pipe(Object(R.a)((function(t){return void 0!==t&&t!==e._ddTargetIndex?(e._ddTargetIndex=t,e.calcViewList$().pipe(Object(V.a)(1),Object(P.a)((function(){return t})))):Object(E.a)(t)})),Object(_.a)(e.destroyed$)).subscribe(),t.preventDefault())}};return{dragentercallback:t,dragovercallback:t,dropcallback:function(t){delete e._ddStartIndex,delete e._ddTargetIndex,e.drop$().pipe(Object(R.a)((function(){return e.calcViewList$().pipe(Object(V.a)(1))})),Object(_.a)(e.destroyed$)).subscribe(),t.preventDefault()}}}},{key:"dragLeave",value:function(e){var t=this.listElement.getBoundingClientRect();y.F.fromLTRB(t.left,t.top,t.right,t.bottom).containsPoint(new y.E(e.pageX,e.pageY))||(this._ddTargetIndex=this._ddStartIndex,this.calcViewList$().pipe(Object(V.a)(1),Object(_.a)(this.destroyed$)).subscribe())}},{key:"onSelectionChange",value:function(){var e=null,t=null;if(this.multiSelect){var n=this.selectedModels;if(e={items:this.selectedItems,models:n},this.modelIsValue){var r=this.getValueField();n.find((function(e){return!!e[r]}))&&(t=n.map((function(e){return void 0!==e[r]?e[r]:e})))}else t=n}else{var i=this.selectedModel;if(e={item:this.selectedItems[0],model:i},this.modelIsValue){var a=this.getValueField();t=void 0!==i[a]?i[a]:i}else t=i}this.onChangeCallback(t),this.selectedChange.emit(e)}},{key:"selectRange$",value:function(e,t){var r=this;return n(p(l.prototype),"selectRange$",this).call(this,e,t).pipe(Object(D.a)((function(e){return e&&r.onSelectionChange(),e})),Object(D.a)((function(){return r.changeDetectorRef.markForCheck()})))}},{key:"toggleSelect$",value:function(e,t){var r=this;return this._multiSelect||!e[0].selected!=!t?n(p(l.prototype),"toggleSelect$",this).call(this,e,t).pipe(Object(D.a)((function(){r.onSelectionChange()}))):Object(E.a)(e)}},{key:"calcViewList$",value:function(){var e=this;return n(p(l.prototype),"calcViewList$",this).call(this,this.query).pipe(Object(D.a)((function(){return e.changeDetectorRef.markForCheck()})))}},{key:"getItemClass",value:function(e){var t=["listitem"];return e.className&&t.push(e.className),(e.collapsing||e.expanding)&&t.push("hide"),e.depth<this.depthMax&&t.push("parent"),e.collapsed&&t.push("collapsed"),e.selected&&t.push("selected"),!1===e.selectable&&t.push("unselectable"),e.depth===this._depthMax&&e.odd&&t.push("odd"),t.join(" ")}},{key:"minSearchlength",set:function(e){this._minSearchLength=Object(x.e)(e)},get:function(){return this._minSearchLength}},{key:"listElememtRef",set:function(e){this.listElement=e.nativeElement}},{key:"searchArea",set:function(e){this._searchArea=Object(x.b)(e)},get:function(){return this._searchArea||this.minSearchlength>0}},{key:"modelIsValue",set:function(e){this._modelIsValue=Object(x.b)(e)},get:function(){return this._modelIsValue}},{key:"sortable",set:function(e){this._sortable=Object(x.b)(e)},get:function(){return this._sortable}},{key:"itemsDraggable",set:function(e){this._itemsDraggable=Object(x.b)(e)},get:function(){return this._itemsDraggable}},{key:"pageSize",set:function(e){this._pageSize=Object(x.e)(e)},get:function(){if(0===this._pageSize){var e=this.getViewPortRowHeight(),t=this.getMaxHeight()||this.listElement.clientHeight;return Math.floor(t/e)}return this._pageSize}},{key:"hintLabel",set:function(e){this.setHintLabel(e)},get:function(){return this._hintLabel}},{key:"viewPortRowHeight",set:function(e){this.setViewPortRowHeight(e)}},{key:"viewportMode",set:function(e){this.setViewportMode(e)}},{key:"childrenField",set:function(e){n(p(l.prototype),"setChildrenField",this).call(this,e)},get:function(){return this._childrenField}},{key:"textField",set:function(e){n(p(l.prototype),"setTextField",this).call(this,e)}},{key:"valueField",set:function(e){n(p(l.prototype),"setValueField",this).call(this,e)}},{key:"searchField",set:function(e){n(p(l.prototype),"setSearchField",this).call(this,e)},get:function(){return this._searchField}},{key:"maxHeight",set:function(e){n(p(l.prototype),"setMaxHeight",this).call(this,e)},get:function(){return this.getMaxHeight()}},{key:"currentItem",set:function(e){n(p(l.prototype),"setCurrentItem",this).call(this,e),e&&this.ensureItemVisible(e)},get:function(){return n(p(l.prototype),"getCurrentItem",this).call(this)}},{key:"depthMax",get:function(){return this._depthMax}},{key:"multiSelect",set:function(e){n(p(l.prototype),"setMultiSelect",this).call(this,Object(x.b)(e))},get:function(){return this._multiSelect}},{key:"selectedItems",set:function(e){void 0!==e&&this.selectItems$.next(e)},get:function(){return n(p(l.prototype),"getSelectedItems",this).call(this)}},{key:"selectedItem",set:function(e){void 0!==e&&this.selectItems$.next(e)},get:function(){var e=n(p(l.prototype),"getSelectedItems",this).call(this);return null==e?void 0:e[0]}},{key:"selectedModel",set:function(e){void 0!==e&&this.writeValue(e)},get:function(){var e=n(p(l.prototype),"getSelectedModels",this).call(this);return null==e?void 0:e[0]}},{key:"selectedModels",set:function(e){void 0!==e&&this.writeValue(e)},get:function(){return n(p(l.prototype),"getSelectedModels",this).call(this)}},{key:"itemListService",set:function(e){void 0!==e&&(this.hasCustomService=!0,this.setItemListService(e),(null==e?void 0:e.lastQuery)&&(this.query=e.lastQuery.toString()))},get:function(){return this.getItemListService()}},{key:"sortingService",set:function(e){this.setSortingService(e)}},{key:"groupingService",set:function(e){this.setGroupingService(e)}},{key:"items",set:function(e){var t=this;delete this.hintLabel,n(p(l.prototype),"setItems$",this).call(this,e).pipe(Object(R.a)((function(e){return t.minSearchlength>0&&!t.query?(t._itemList=[],t.changeDetectorRef.markForCheck(),Object(E.a)(e)):t.calcViewList$().pipe(Object(P.a)((function(){return e})))})),Object(_.a)(this.destroyed$)).subscribe()}},{key:"loadingItems",set:function(e){this.hasLoadingEvent=!!e,n(p(l.prototype),"setLoadingItems",this).call(this,e)}},{key:"selectingItem",set:function(e){n(p(l.prototype),"setSelectingItem",this).call(this,e)}},{key:"unselectingItem",set:function(e){n(p(l.prototype),"setUnselectingItem",this).call(this,e)}},{key:"expandingItem",set:function(e){n(p(l.prototype),"setExpandingItem",this).call(this,e)}},{key:"collapsingItem",set:function(e){n(p(l.prototype),"setCollapsingItem",this).call(this,e)}},{key:"models",set:function(e){var t=this;n(p(l.prototype),"setModels$",this).call(this,e).pipe(Object(V.a)(1),Object(R.a)((function(){return t.calcViewList$()})),Object(_.a)(this.destroyed$)).subscribe()}},{key:"disabled",set:function(e){var t=Object(x.b)(e);this._disabled=t||null,this.changeDetectorRef.markForCheck()},get:function(){return this._disabled}},{key:"waiter",set:function(e){this._waiter=Object(x.b)(e)},get:function(){return this._waiter}},{key:"inputValidatorDirective",set:function(e){e&&(e.parentControl=this.control)}},{key:"currentItemIndex",set:function(e){n(p(l.prototype),"setCurrentItemIndex",this).call(this,e),this.changeDetectorRef.markForCheck()},get:function(){return this.getCurrentItemIndex()}},{key:"itemTemplate",get:function(){return this.itemTemplateExternal||this.itemTemplateInternal}},{key:"parentItemTemplate",get:function(){return this.parentItemTemplateExternal||this.parentItemTemplateInternal}},{key:"loaderTemplate",get:function(){return this.loaderTemplateExternal||this.loaderTemplateInternal}},{key:"headerTemplate",get:function(){return this.headerTemplateExternal||this.headerTemplateInternal}},{key:"searchPrefixTemplate",get:function(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal}},{key:"searchSuffixTemplate",get:function(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal}},{key:"value",get:function(){return this._multiSelect?this.selectedItems:this.selectedItem},set:function(e){this.writeValue(e),this.onChangeCallback(e),this.onTouchedCallback()}}]),l}(y.y);he.\u0275fac=function(e){return new(e||he)(u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](y.K),u["\u0275\u0275directiveInject"](u.ElementRef),u["\u0275\u0275directiveInject"](f.NgControl,10),u["\u0275\u0275directiveInject"](y.e,8))},he.\u0275cmp=u["\u0275\u0275defineComponent"]({type:he,selectors:[["deja-tree-list"]],contentQueries:function(e,t,n){var r;1&e&&(u["\u0275\u0275contentQuery"](n,F,!0),u["\u0275\u0275contentQuery"](n,L,!0),u["\u0275\u0275contentQuery"](n,K,!0),u["\u0275\u0275contentQuery"](n,z,!0),u["\u0275\u0275contentQuery"](n,H,!0),u["\u0275\u0275contentQuery"](n,Q,!0),u["\u0275\u0275contentQuery"](n,y.g,!1)),2&e&&(u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.itemTemplateInternal=r.first),u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.parentItemTemplateInternal=r.first),u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.loaderTemplateInternal=r.first),u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.headerTemplateInternal=r.first),u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.searchPrefixTemplateInternal=r.first),u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.searchSuffixTemplateInternal=r.first),u["\u0275\u0275queryRefresh"](r=u["\u0275\u0275loadQuery"]())&&(t.options=r))},viewQuery:function(e,t){var n;1&e&&(u["\u0275\u0275staticViewQuery"](q,!0),u["\u0275\u0275viewQuery"](y.c,!0),u["\u0275\u0275viewQuery"](N,!0)),2&e&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.listElememtRef=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.inputValidatorDirective=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.input=n.first))},hostVars:1,hostBindings:function(e,t){2&e&&u["\u0275\u0275attribute"]("disabled",t._disabled)},inputs:{query:"query",itemsWidth:"itemsWidth",modelIsValue:"modelIsValue",maxHeight:"maxHeight",minSearchlength:["min-search-length","minSearchlength"],searchArea:"searchArea",sortable:"sortable",itemsDraggable:"itemsDraggable",pageSize:"pageSize",hintLabel:"hintLabel",viewPortRowHeight:"viewPortRowHeight",viewportMode:"viewportMode",childrenField:"childrenField",textField:"textField",valueField:"valueField",searchField:"searchField",currentItem:"currentItem",multiSelect:"multiSelect",selectedItems:"selectedItems",selectedItem:"selectedItem",selectedModel:"selectedModel",selectedModels:"selectedModels",itemListService:"itemListService",sortingService:"sortingService",groupingService:"groupingService",items:"items",loadingItems:"loadingItems",selectingItem:"selectingItem",unselectingItem:"unselectingItem",expandingItem:"expandingItem",collapsingItem:"collapsingItem",models:"models",disabled:"disabled",waiter:"waiter",placeholder:"placeholder",nodataholder:"nodataholder",itemTemplateExternal:"itemTemplateExternal",parentItemTemplateExternal:"parentItemTemplateExternal",loaderTemplateExternal:"loaderTemplateExternal",headerTemplateExternal:"headerTemplateExternal",searchPrefixTemplateExternal:"searchPrefixTemplateExternal",searchSuffixTemplateExternal:"searchSuffixTemplateExternal"},outputs:{scroll:"scroll",itemDragEnd:"itemDragEnd",itemDragStart:"itemDragStart",selectedChange:"selectedChange",viewPortChanged:"viewPortChanged"},features:[u["\u0275\u0275ProvidersFeature"]([y.K]),u["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:21,consts:[["id","header",4,"ngIf"],["id","listheader",4,"ngIf"],["tabindex","1",1,"deja-listcontainer",3,"id","deja-droppable","dragleave","mousedown"],["listElement",""],["id","nodata-holder",4,"ngIf"],["id","error-hint",4,"ngIf"],[3,"height",4,"ngIf"],[4,"ngIf"],["id","loader",4,"ngIf"],["id","header"],["deja-child-validator","","id","input",4,"ngIf"],["deja-child-validator","","id","input"],["type","text","matInput","","tabindex","0",3,"ngModel","placeholder","disabled","input"],["inputelement","","model","ngModel"],["matPrefix","",4,"ngIf"],["matSuffix","",4,"ngIf"],["matPrefix",""],[3,"ngTemplateOutlet"],["matSuffix",""],["id","listheader"],["id","nodata-holder"],["id","error-hint"],[3,"deja-draggable","width","height",4,"ngFor","ngForOf"],[3,"deja-draggable"],["listitem",""],["id","expandbtn"],["class","item-content",4,"ngIf"],[1,"item-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","loader"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,W,2,1,"div",0),u["\u0275\u0275template"](1,X,2,1,"div",1),u["\u0275\u0275elementStart"](2,"div",2,3),u["\u0275\u0275listener"]("dragleave",(function(e){return t.sortable?t.dragLeave(e):null}))("mousedown",(function(e){return t.mousedown(e)})),u["\u0275\u0275template"](4,ee,2,1,"div",4),u["\u0275\u0275template"](5,te,2,1,"div",5),u["\u0275\u0275template"](6,ne,1,2,"div",6),u["\u0275\u0275template"](7,pe,2,1,"ng-container",7),u["\u0275\u0275template"](8,ue,1,2,"div",6),u["\u0275\u0275template"](9,fe,1,0,"deja-list-loader",8),u["\u0275\u0275template"](10,ge,2,1,"ng-container",7),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngIf",t.searchArea),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.headerTemplate),u["\u0275\u0275advance"](1),u["\u0275\u0275styleProp"]("max-height",t.maxHeight||null,"px"),u["\u0275\u0275classProp"]("hasheader",t.headerTemplate)("dragover",void 0!==t.ddStartIndex?t.ddStartIndex:null),u["\u0275\u0275property"]("id",t.listElementId)("deja-droppable",t.getDropContext()),u["\u0275\u0275attribute"]("itemscount",t.itemList&&t.itemList.length)("depth-max",t.depthMax||null)("vp-rowheight",t.getViewPortRowHeight())("keynav",t.keyboardNavigation()),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",!(t.itemList&&0!==t.itemList.length||t.waiter)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.hintLabel),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.vpBeforeHeight&&!t.waiter),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.waiter),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.vpAfterHeight&&!t.waiter),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.waiter&&!t.loaderTemplate),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.waiter&&t.loaderTemplate))},directives:[s.n,v.c,A.c,y.c,b.a,f.DefaultValueAccessor,f.NgControlStatus,f.NgModel,A.h,s.s,A.i,s.m,v.b,h.a,j.a],styles:['deja-tree-list{align-content:stretch;display:flex;flex-direction:column;overflow:hidden;position:relative}deja-tree-list.ng-invalid #input .mat-form-field-wrapper .mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:scaleY(1)}deja-tree-list #input{outline:none}deja-tree-list #header{align-items:center;display:flex;flex:0 0 auto}deja-tree-list #header #input{flex:1 1 auto}deja-tree-list #header button{flex:0 0 auto;margin:16px .5rem 16px 0}deja-tree-list #listheader{box-sizing:border-box;flex:0 0 auto;overflow:hidden}deja-tree-list .deja-listcontainer{flex:1 1 auto;outline:none;overflow:auto}deja-tree-list .deja-listcontainer.hasheader{border-top:0}deja-tree-list .deja-listcontainer[keynav=false]:not(.dragover) div.listitem:not(.unselectable):hover{cursor:pointer}deja-tree-list .deja-listcontainer[valign=bottom]{border-top:none}deja-tree-list .deja-listcontainer #error-hint,deja-tree-list .deja-listcontainer #nodata-holder{margin:.5rem}deja-tree-list #loader{left:0;position:absolute;right:0}deja-tree-list .deja-listcontainer{margin:0;padding:0;position:relative}deja-tree-list .deja-listcontainer[vprowheight="0"]>div.listitem{padding:.35rem .1rem}deja-tree-list .deja-listcontainer>div.listitem{align-items:center;display:flex;margin:0;opacity:1;transition-duration:.3s;transition-property:max-height,opacity;transition-timing-function:linear}deja-tree-list .deja-listcontainer>div.listitem.hide{max-height:0!important;opacity:0!important;transition-timing-function:ease-out}deja-tree-list .deja-listcontainer>div.listitem #expandbtn{cursor:pointer;width:24px}deja-tree-list .deja-listcontainer>div.listitem.parent.collapsed #expandbtn>.mat-icon{transform:rotate(-90deg)}deja-tree-list .deja-listcontainer [depth="0"]{padding-left:0}deja-tree-list .deja-listcontainer [depth="1"]{padding-left:1rem}deja-tree-list .deja-listcontainer [depth="2"]{padding-left:2rem}deja-tree-list .deja-listcontainer [depth="3"]{padding-left:3rem}deja-tree-list .deja-listcontainer [depth="4"]{padding-left:4rem}deja-tree-list .deja-listcontainer [depth="5"]{padding-left:5rem}deja-tree-list .deja-listcontainer [depth="6"]{padding-left:6rem}deja-tree-list .deja-listcontainer [depth="7"]{padding-left:7rem}deja-tree-list .deja-listcontainer [depth="8"]{padding-left:8rem}deja-tree-list .deja-listcontainer [depth="9"]{padding-left:9rem}deja-tree-list .deja-listcontainer [depth="10"]{padding-left:10rem}deja-tree-list .deja-listcontainer [depth="11"]{padding-left:11rem}deja-tree-list .deja-listcontainer [depth="12"]{padding-left:12rem}deja-tree-list .deja-listcontainer [depth="13"]{padding-left:13rem}deja-tree-list .deja-listcontainer [depth="14"]{padding-left:14rem}deja-tree-list .deja-listcontainer [depth="15"]{padding-left:15rem}deja-tree-list .deja-listcontainer [depth="16"]{padding-left:16rem}deja-tree-list .deja-listcontainer [depth="17"]{padding-left:17rem}deja-tree-list .deja-listcontainer [depth="18"]{padding-left:18rem}deja-tree-list .deja-listcontainer [depth="19"]{padding-left:19rem}deja-tree-list .deja-listcontainer [depth="20"]{padding-left:20rem}deja-tree-list .deja-listcontainer [depth="21"]{padding-left:21rem}deja-tree-list .deja-listcontainer [depth="22"]{padding-left:22rem}deja-tree-list .deja-listcontainer [depth="23"]{padding-left:23rem}deja-tree-list .deja-listcontainer [depth="24"]{padding-left:24rem}deja-tree-list .deja-listcontainer [depth="25"]{padding-left:25rem}deja-tree-list .deja-listcontainer [depth="26"]{padding-left:26rem}deja-tree-list .deja-listcontainer [depth="27"]{padding-left:27rem}deja-tree-list .deja-listcontainer [depth="28"]{padding-left:28rem}deja-tree-list .deja-listcontainer [depth="29"]{padding-left:29rem}deja-tree-list .deja-listcontainer [depth="30"]{padding-left:30rem}deja-tree-list .deja-listcontainer [depth="31"]{padding-left:31rem}deja-tree-list .deja-listcontainer [depth="32"]{padding-left:32rem}deja-tree-list .deja-listcontainer [depth="33"]{padding-left:33rem}deja-tree-list .deja-listcontainer [depth="34"]{padding-left:34rem}deja-tree-list .deja-listcontainer [depth="35"]{padding-left:35rem}deja-tree-list .deja-listcontainer [depth="36"]{padding-left:36rem}deja-tree-list .deja-listcontainer [depth="37"]{padding-left:37rem}deja-tree-list .deja-listcontainer [depth="38"]{padding-left:38rem}deja-tree-list .deja-listcontainer [depth="39"]{padding-left:39rem}deja-tree-list .deja-listcontainer [depth="40"]{padding-left:40rem}deja-tree-list .deja-listcontainer [depth="41"]{padding-left:41rem}deja-tree-list .deja-listcontainer [depth="42"]{padding-left:42rem}deja-tree-list .deja-listcontainer [depth="43"]{padding-left:43rem}deja-tree-list .deja-listcontainer [depth="44"]{padding-left:44rem}deja-tree-list .deja-listcontainer [depth="45"]{padding-left:45rem}deja-tree-list .deja-listcontainer [depth="46"]{padding-left:46rem}deja-tree-list .deja-listcontainer [depth="47"]{padding-left:47rem}deja-tree-list .deja-listcontainer [depth="48"]{padding-left:48rem}deja-tree-list .deja-listcontainer [depth="49"]{padding-left:49rem}deja-tree-list .deja-listcontainer [depth="50"]{padding-left:50rem}'],encapsulation:2,changeDetection:0}),he.ctorParameters=function(){return[{type:u.ChangeDetectorRef},{type:y.K},{type:u.ElementRef},{type:f.NgControl,decorators:[{type:u.Self},{type:u.Optional}]},{type:y.e,decorators:[{type:u.Optional}]}]},he.propDecorators={options:[{type:u.ContentChildren,args:[y.g]}],scroll:[{type:u.Output}],placeholder:[{type:u.Input}],nodataholder:[{type:u.Input}],query:[{type:u.Input}],itemTemplateExternal:[{type:u.Input}],parentItemTemplateExternal:[{type:u.Input}],loaderTemplateExternal:[{type:u.Input}],headerTemplateExternal:[{type:u.Input}],searchPrefixTemplateExternal:[{type:u.Input}],searchSuffixTemplateExternal:[{type:u.Input}],itemsWidth:[{type:u.Input}],itemDragEnd:[{type:u.Output}],itemDragStart:[{type:u.Output}],selectedChange:[{type:u.Output}],viewPortChanged:[{type:u.Output}],input:[{type:u.ViewChild,args:["inputelement"]}],_disabled:[{type:u.HostBinding,args:["attr.disabled"]}],itemTemplateInternal:[{type:u.ContentChild,args:["itemTemplate"]}],parentItemTemplateInternal:[{type:u.ContentChild,args:["parentItemTemplate"]}],loaderTemplateInternal:[{type:u.ContentChild,args:["loaderTemplate"]}],headerTemplateInternal:[{type:u.ContentChild,args:["headerTemplate"]}],searchPrefixTemplateInternal:[{type:u.ContentChild,args:["searchPrefixTemplate"]}],searchSuffixTemplateInternal:[{type:u.ContentChild,args:["searchSuffixTemplate"]}],minSearchlength:[{type:u.Input,args:["min-search-length"]}],listElememtRef:[{type:u.ViewChild,args:["listElement",{static:!0}]}],searchArea:[{type:u.Input}],modelIsValue:[{type:u.Input}],sortable:[{type:u.Input}],itemsDraggable:[{type:u.Input}],pageSize:[{type:u.Input}],hintLabel:[{type:u.Input}],viewPortRowHeight:[{type:u.Input}],viewportMode:[{type:u.Input}],childrenField:[{type:u.Input}],textField:[{type:u.Input}],valueField:[{type:u.Input}],searchField:[{type:u.Input}],maxHeight:[{type:u.Input}],currentItem:[{type:u.Input}],multiSelect:[{type:u.Input}],selectedItems:[{type:u.Input}],selectedItem:[{type:u.Input}],selectedModel:[{type:u.Input}],selectedModels:[{type:u.Input}],itemListService:[{type:u.Input}],sortingService:[{type:u.Input}],groupingService:[{type:u.Input}],items:[{type:u.Input}],loadingItems:[{type:u.Input}],selectingItem:[{type:u.Input}],unselectingItem:[{type:u.Input}],expandingItem:[{type:u.Input}],collapsingItem:[{type:u.Input}],models:[{type:u.Input}],disabled:[{type:u.Input}],waiter:[{type:u.Input}],inputValidatorDirective:[{type:u.ViewChild,args:[y.c]}]};var be=function e(){r(this,e)};be.\u0275mod=u["\u0275\u0275defineNgModule"]({type:be}),be.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||be)},imports:[[s.c,f.FormsModule,m.c,b.b,g.b,h.b,y.d,j.b,v.a,y.q,y.i]]})},cvwY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var i=n("SVse"),a=n("8Y7J"),o=function e(){r(this,e)};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a["\u0275\u0275defineComponent"]({type:o,selectors:[["deja-list-loader"]],decls:4,vars:0,consts:[[1,"spinner"],[1,"bounce1"],[1,"bounce2"],[1,"bounce3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"div",1),a["\u0275\u0275element"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementEnd"]())},styles:["[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{margin:40px auto 0;text-align:center;width:70px}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:sk-bouncedelay 1.4s ease-in-out infinite both;animation:sk-bouncedelay 1.4s ease-in-out infinite both;border-radius:100%;display:inline-block;height:10px;width:10px}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{-webkit-animation-delay:-.32s;animation-delay:-.32s}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"]});var l=function e(){r(this,e)};l.\u0275mod=a["\u0275\u0275defineNgModule"]({type:l}),l.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||l)},imports:[[i.c]]})},u14H:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y}));var i=n("8Y7J"),l=n("CDpB"),s=n("xgIS"),d=n("VRyK"),p=n("pLZG"),u=n("eIep"),f=n("IzEk"),m=n("1G5W"),g=n("vkgz"),h=n("8LU1"),b=function(e){o(n,e);var t=c(n);function n(e,i){var a;r(this,n),(a=t.call(this)).clipboardService=i,a.draggable=null,a.draginfokey="draginfos",a.objectKey="object",a.elementKey="element",a.uuidKey="uuid";var o=e.nativeElement;return Object(s.a)(o,"dragstart").pipe(Object(p.a)((function(){return!!a.context})),Object(u.a)((function(e){var t,n;if(!i)throw new Error("To use the DejaDraggableDirective, please import and provide the DejaClipboardService in your application.");var r={};a.dragdropid=(new l.I).toString(),r[a.uuidKey]=a.dragdropid;var c=(null===(t=a.context)||void 0===t?void 0:t.object)||o;r[a.objectKey]=c,r[a.elementKey]=o,a.clipboardService.set(a.draginfokey,r);var d="notavailable";if(c&&(c.dragged=!0,d=JSON.stringify(d)),null===(n=a.context)||void 0===n?void 0:n.dragstartcallback){var p=e;p.dragInfo=r,p.dragObject=a.context.object,p.dragElement=o,a.context.dragstartcallback(p),e.dataTransfer.setData("text/plain",d),p.defaultPrevented&&e.preventDefault()}return Object(s.a)(o,"dragend").pipe(Object(f.a)(1))})),Object(m.a)(a.destroyed$)).subscribe((function(e){var t,n=a.clipboardService.get(a.draginfokey),r=null==n?void 0:n[a.objectKey];if(r&&delete r.dragged,(null===(t=a.context)||void 0===t?void 0:t.dragendcallback)&&n){var i=e;i.dragInfo=n,i.dragObject=r,i.dragElement=n[a.elementKey],a.context.dragendcallback(i),i.defaultPrevented&&e.stopPropagation()}a.clipboardService.clear(),a.dragdropid=void 0})),a}return a(n,[{key:"context",set:function(e){this._context=e,this.draggable=!!e||null},get:function(){return this._context}}]),n}(l.s);b.\u0275fac=function(e){return new(e||b)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](l.e,8))},b.\u0275dir=i["\u0275\u0275defineDirective"]({type:b,selectors:[["","deja-draggable",""]],hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("draggable",t.draggable)("dragdropid",t.dragdropid)},inputs:{context:["deja-draggable","context"]},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),b.ctorParameters=function(){return[{type:i.ElementRef},{type:l.e,decorators:[{type:i.Optional}]}]},b.propDecorators={draggable:[{type:i.HostBinding,args:["attr.draggable"]}],dragdropid:[{type:i.HostBinding,args:["attr.dragdropid"]}],context:[{type:i.Input,args:["deja-draggable"]}]};var y=function(e){o(n,e);var t=c(n);function n(e,i){var a;r(this,n),(a=t.call(this)).clipboardService=i,a.droppable=null,a.draginfokey="draginfos",a.objectKey="object",a.droppedKey="dropped",a.elementKey="element",a._allEvents=!1;var o=!1,l=e.nativeElement,c=Object(s.a)(l,"dragenter").pipe(Object(g.a)((function(){if(!i)throw new Error("To use the DejaDroppableDirective, please import and provide the DejaClipboardService in your application.")})),Object(p.a)((function(){return!(o||!a.context||!a.context.dragentercallback||!a.clipboardService.get(a.draginfokey))})),Object(g.a)((function(){return o=!0}))),h=Object(s.a)(l,"dragleave").pipe(Object(p.a)((function(){return o&&!!a.context&&!!a.clipboardService.get(a.draginfokey)})),Object(p.a)((function(e){var t=l.getBoundingClientRect();return!(e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom)}))),b=Object(s.a)(l,"drop").pipe(Object(p.a)((function(){return o&&!!a.context&&!!a.clipboardService.get(a.draginfokey)}))),y=Object(s.a)(l,"dragover").pipe(Object(p.a)((function(){return o}))),v=Object(d.a)(c,h,b).pipe(Object(g.a)((function(){return o=!1})));return c.pipe(Object(u.a)((function(e){var t=a.clipboardService.get(a.draginfokey),n=e;n.dragInfo=t,n.dragObject=e[a.objectKey],n.dragElement=l,n.itsMe=e[a.elementKey]===l,a.context.dragentercallback(n),n.defaultPrevented?(e.preventDefault(),e.dataTransfer.dropEffect="copy"):e.dataTransfer.dropEffect="none";var r=h.pipe(Object(f.a)(1),Object(p.a)((function(){return!!a.context.dragleavecallback})),Object(g.a)((function(e){var t=new CustomEvent("DejaDragLeave",{cancelable:!0});a.context.dragleavecallback(t),t.defaultPrevented&&e.preventDefault()}))),i=b.pipe(Object(f.a)(1),Object(p.a)((function(){return!!a.context.dropcallback})),Object(g.a)((function(n){if(t){var r=n;r.dragInfo=t,r.dragObject=t[a.objectKey],r.dragElement=l,r.itsMe=t[a.elementKey]===l,a.context.dropcallback(r),r.defaultPrevented?(r.dragInfo[a.droppedKey]=!0,n.preventDefault(),e.dataTransfer.dropEffect="copy"):e.dataTransfer.dropEffect="none"}}))),o=y.pipe(Object(m.a)(v),Object(g.a)((function(n){if(!a._allEvents&&a.lastTarget&&a.lastTarget===n.target)a.lastAccept?(n.preventDefault(),e.dataTransfer.dropEffect="copy"):e.dataTransfer.dropEffect="none";else if(a.context.dragovercallback&&t){var r=n;r.dragInfo=t,r.dragObject=t[a.objectKey],r.dragElement=l,r.itsMe=t[a.elementKey]===l,a.context.dragovercallback(r),a.lastTarget=n.target,a.lastAccept=r.defaultPrevented,r.defaultPrevented?(n.preventDefault(),e.dataTransfer.dropEffect="copy"):e.dataTransfer.dropEffect="none"}})));return Object(d.a)(i,o,r)})),Object(m.a)(a.destroyed$)).subscribe((function(e){})),a}return a(n,[{key:"allEvents",set:function(e){this._allEvents=Object(h.b)(e)}},{key:"context",set:function(e){this._context=e,this.droppable=!!e||null},get:function(){return this._context}}]),n}(l.s);y.\u0275fac=function(e){return new(e||y)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](l.e,8))},y.\u0275dir=i["\u0275\u0275defineDirective"]({type:y,selectors:[["","deja-droppable",""]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("droppable",t.droppable)},inputs:{allEvents:["continous-dragover","allEvents"],context:["deja-droppable","context"]},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),y.ctorParameters=function(){return[{type:i.ElementRef},{type:l.e,decorators:[{type:i.Optional}]}]},y.propDecorators={allEvents:[{type:i.Input,args:["continous-dragover"]}],droppable:[{type:i.HostBinding,args:["attr.droppable"]}],context:[{type:i.Input,args:["deja-droppable"]}]};var v=function e(){r(this,e)};v.\u0275mod=i["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)}})}}])}();