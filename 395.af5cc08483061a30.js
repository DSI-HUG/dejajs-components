"use strict";var ki=Object.defineProperty,ee=Object.getOwnPropertySymbols,Zi=Object.prototype.hasOwnProperty,Li=Object.prototype.propertyIsEnumerable,ie=(E,P,p)=>P in E?ki(E,P,{enumerable:!0,configurable:!0,writable:!0,value:p}):E[P]=p,H=(E,P)=>{for(var p in P||(P={}))Zi.call(P,p)&&ie(E,p,P[p]);if(ee)for(var p of ee(P))Li.call(P,p)&&ie(E,p,P[p]);return E};(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[395],{6395:(E,P,p)=>{p.r(P),p.d(P,{DejaPopupDemoModule:()=>Mi});var u=p(6019),A=p(9133),j=p(86),K=p(888),M=p(3660),pt=p(138),oe=p(2605),z=p(8643),X=p(7219),L=p(7497),e=p(3668),dt=p(6731),J=p(8794),ht=p(8290),v=p(348),ut=p(1628),gt=p(6999),T=p(928),I=p(5711),_=p(273),g=p(6263),$=p(9468),b=p(9814);const ne={tooltipState:(0,b.X$)("state",[(0,b.SB)("initial, void, hidden",(0,b.oB)({opacity:0,transform:"scale(0)"})),(0,b.SB)("visible",(0,b.oB)({transform:"scale(1)"})),(0,b.eR)("* => visible",(0,b.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,b.F4)([(0,b.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,b.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,b.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,b.eR)("* => hidden",(0,b.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,b.oB)({opacity:0})))])},_t="tooltip-panel",ft=(0,T.i$)({passive:!0}),mt=new e.OlP("mat-tooltip-scroll-strategy"),le={provide:mt,deps:[X.aV],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},ce=new e.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let de=(()=>{class n{constructor(t,i,s,r,a,l,c,d,h,m,f,R){this._overlay=t,this._elementRef=i,this._scrollDispatcher=s,this._viewContainerRef=r,this._ngZone=a,this._platform=l,this._ariaDescriber=c,this._focusMonitor=d,this._dir=m,this._defaultOptions=f,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new _.x,this._handleKeydown=x=>{this._isTooltipVisible()&&x.keyCode===ut.hY&&!(0,ut.Vb)(x)&&(x.preventDefault(),x.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=h,this._document=R,f&&(f.position&&(this.position=f.position),f.touchGestures&&(this.touchGestures=f.touchGestures)),m.change.pipe((0,g.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),a.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var i;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(i=this._tooltipInstance)||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,v.Ig)(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,g.R)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,s])=>{t.removeEventListener(i,s,ft)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new I.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,g.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe((0,g.R)(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${_t}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,g.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,g.R)(this._destroyed)).subscribe(()=>{var s;return null==(s=this._tooltipInstance)?void 0:s._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,s=this._getOrigin(),r=this._getOverlayPosition();i.withPositions([this._addOffset(H(H({},s.main),r.main)),this._addOffset(H(H({},s.fallback),r.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i||"below"==i?s={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?s={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(s={originX:"end",originY:"center"});const{x:r,y:a}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:r,originY:a}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i?s={overlayX:"center",overlayY:"bottom"}:"below"==i?s={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?s={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(s={overlayX:"start",overlayY:"center"});const{x:r,y:a}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:r,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,$.q)(1),(0,g.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:s,originY:r}=t;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===i&&"top"===r?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const c=`${this._cssClassPrefix}-${_t}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,ft)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,s=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===t||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){e.$Z()},n.\u0275dir=e.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),vt=(()=>{class n extends de{constructor(t,i,s,r,a,l,c,d,h,m,f,R){super(t,i,s,r,a,l,c,d,h,m,f,R),this._tooltipComponent=ue}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.aV),e.Y36(e.SBq),e.Y36(J.mF),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(T.t4),e.Y36(L.$s),e.Y36(L.tE),e.Y36(mt),e.Y36(ht.Is,8),e.Y36(ce,8),e.Y36(u.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[e.qOj]}),n})(),he=(()=>{class n{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new _.x}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const i=t.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n}),n})(),ue=(()=>{class n extends he{constructor(t,i){super(t),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(gt.u3.Handset)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(gt.Yg))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){2&t&&e.Udp("zoom","visible"===i._visibility?1:null)},features:[e.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(r){return i._animationDone(r)}),e.ALo(1,"async"),e._uU(2),e.qZA()),2&t){let s;e.ekj("mat-tooltip-handset",null==(s=e.lcZ(1,5,i._isHandset))?null:s.matches),e.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),e.xp6(2),e.Oqu(i.message)}},directives:[u.mk],pipes:[u.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[ne.tooltipState]},changeDetection:0}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[le],imports:[[L.rt,u.ez,X.U8,dt.BQ],dt.BQ,J.ZD]}),n})();var bt=p(4667),Ct=p(4272),F=p(7908),ge=p(6474),_e=p(5499),Pt=p(8410),yt=p(3719),O=p(4753),xt=p(3970),q=p(7384),wt=p(3067);function tt(n,o,t){for(let i in o)if(o.hasOwnProperty(i)){const s=o[i];s?n.setProperty(i,s,(null==t?void 0:t.has(i))?"important":""):n.removeProperty(i)}return n}function k(n,o){const t=o?"":"none";tt(n.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Tt(n,o,t){tt(n.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},t)}function G(n,o){return o&&"none"!=o?n+" "+o:n}function St(n){const o=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*o}function et(n,o){return n.getPropertyValue(o).split(",").map(i=>i.trim())}function it(n){const o=n.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function ot(n,o,t){const{top:i,bottom:s,left:r,right:a}=n;return t>=i&&t<=s&&o>=r&&o<=a}function N(n,o,t){n.top+=o,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function It(n,o,t,i){const{top:s,right:r,bottom:a,left:l,width:c,height:d}=n,h=c*o,m=d*o;return i>s-m&&i<a+m&&t>l-h&&t<r+h}class Rt{constructor(o,t){this._document=o,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),o.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:it(t)})})}handleScroll(o){const t=(0,T.sA)(o),i=this.positions.get(t);if(!i)return null;const s=i.scrollPosition;let r,a;if(t===this._document){const d=this._viewportRuler.getViewportScrollPosition();r=d.top,a=d.left}else r=t.scrollTop,a=t.scrollLeft;const l=s.top-r,c=s.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&N(d.clientRect,l,c)}),s.top=r,s.left=a,{top:l,left:c}}}function Et(n){const o=n.cloneNode(!0),t=o.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();o.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return"canvas"===i?Mt(n,o):("input"===i||"select"===i||"textarea"===i)&&jt(n,o),Ot("canvas",n,o,Mt),Ot("input, textarea, select",n,o,jt),o}function Ot(n,o,t,i){const s=o.querySelectorAll(n);if(s.length){const r=t.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let me=0;function jt(n,o){"file"!==o.type&&(o.value=n.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${me++}`)}function Mt(n,o){const t=o.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}const At=(0,T.i$)({passive:!0}),kt=(0,T.i$)({passive:!1}),nt=new Set(["position"]);class De{constructor(o,t,i,s,r,a){this._config=t,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _.x,this._pointerMoveSubscription=F.w0.EMPTY,this._pointerUpSubscription=F.w0.EMPTY,this._scrollSubscription=F.w0.EMPTY,this._resizeSubscription=F.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.x,this.started=new _.x,this.released=new _.x,this.ended=new _.x,this.entered=new _.x,this.exited=new _.x,this.dropped=new _.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._handles.find(d=>l.target&&(l.target===d||d.contains(l.target)));c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const R=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),x=this._dropContainer;if(!R)return void this._endDragSequence(l);(!x||!x.isDragging()&&!x.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this._activeTransform;h.x=d.x-this._pickupPositionOnPage.x+this._passiveTransform.x,h.y=d.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(h.x,h.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this.withRootElement(o).withParent(t.parentDragRef||null),this._parentPositions=new Rt(i,r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const t=(0,v.Ig)(o);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>k(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(i=>(0,v.fI)(i)),this._handles.forEach(i=>k(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const t=(0,v.fI)(o);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,kt),t.addEventListener("touchstart",this._pointerDown,At)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,v.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){var o,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null==(o=this._rootElement)||o.remove()),null==(t=this._anchor)||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),k(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),k(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var o,t;null==(o=this._preview)||o.remove(),null==(t=this._previewRef)||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var o,t;null==(o=this._placeholder)||o.remove(),null==(t=this._placeholderRef)||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){U(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Tt(i,!1,nt),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,l).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(o,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),s=U(t),r=!s&&0!==t.button,a=this._rootElement,l=(0,T.sA)(t),c=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=s?(0,L.yG)(t):(0,L.X6)(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||r||c||d)return;if(this._handles.length){const f=a.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=it(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(o,t);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(o){Tt(this._rootElement,!0,nt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),s=this._getPointerPositionOnPage(o),r=this._getDragDistance(s),a=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),t.drop(this,i,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:t},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,o,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,o,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,o,t,this._pointerDirectionDelta),this._applyPreviewTransform(o-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,t=this.previewClass,i=o?o.template:null;let s;if(i&&o){const r=o.matchSize?this._rootElement.getBoundingClientRect():null,a=o.viewContainer.createEmbeddedView(i,o.context);a.detectChanges(),s=Lt(a,this._document),this._previewRef=a,o.matchSize?Ft(s,r):s.style.transform=Q(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=Et(r),Ft(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return tt(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},nt),k(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(r=>s.classList.add(r)):s.classList.add(t)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const t=function(n){const o=getComputedStyle(n),t=et(o,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const s=t.indexOf(i),r=et(o,"transition-duration"),a=et(o,"transition-delay");return St(r[s])+St(a[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{var l;(!a||(0,T.sA)(a)===this._preview&&"transform"===a.propertyName)&&(null==(l=this._preview)||l.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*t);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,t=o?o.template:null;let i;return t?(this._placeholderRef=o.viewContainer.createEmbeddedView(t,o.context),this._placeholderRef.detectChanges(),i=Lt(this._placeholderRef,this._document)):i=Et(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(o,t){const i=this._rootElement.getBoundingClientRect(),s=o===this._rootElement?null:o,r=s?s.getBoundingClientRect():i,a=U(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-l.left),y:r.top-i.top+(a.pageY-r.top-l.top)}}_getPointerPositionOnPage(o){const t=this._getViewportScrollPosition(),i=U(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,s=i.pageX-t.left,r=i.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=s,l.y=r,l.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(o){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(o,this):o;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,l=this._boundaryRect,c=this._previewRect,d=l.top+a,h=l.bottom-(c.height-a);i=Zt(i,l.left+r,l.right-(c.width-r)),s=Zt(s,d,h)}return{x:i,y:s}}_updatePointerDirectionDelta(o){const{x:t,y:i}=o,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-r.x),l=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=t>r.x?1:-1,r.x=t),l>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,k(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,kt),o.removeEventListener("touchstart",this._pointerDown,At)}_applyRootElementTransform(o,t){const i=Q(o,t),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=G(i,this._initialTransform)}_applyPreviewTransform(o,t){var r;const i=(null==(r=this._previewTemplate)?void 0:r.template)?void 0:this._initialTransform,s=Q(o,t);this._preview.style.transform=G(s,i)}_getDragDistance(o){const t=this._pickupPositionOnPage;return t?{x:o.x-t.x,y:o.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:t}=this._passiveTransform;if(0===o&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,a=s.right-i.right,l=i.top-s.top,c=s.bottom-i.bottom;i.width>s.width?(r>0&&(o+=r),a>0&&(o-=a)):o=0,i.height>s.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(o!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:o})}_getDragStartDelay(o){const t=this.dragStartDelay;return"number"==typeof t?t:U(o)?t.touch:t?t.mouse:0}_updateOnScroll(o){const t=this._parentPositions.handleScroll(o);if(t){const i=(0,T.sA)(o);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&N(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const o=this._parentPositions.positions.get(this._document);return o?o.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,T.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,t){const i=this._previewContainer||"global";if("parent"===i)return o;if("global"===i){const s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,v.fI)(i)}}function Q(n,o){return`translate3d(${Math.round(n)}px, ${Math.round(o)}px, 0)`}function Zt(n,o,t){return Math.max(o,Math.min(t,n))}function U(n){return"t"===n.type[0]}function Lt(n,o){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===o.ELEMENT_NODE)return t[0];const i=o.createElement("div");return t.forEach(s=>i.appendChild(s)),i}function Ft(n,o){n.style.width=`${o.width}px`,n.style.height=`${o.height}px`,n.style.transform=Q(o.left,o.top)}function B(n,o){return Math.max(0,Math.min(o,n))}class Ce{constructor(o,t,i,s,r){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.x,this.entered=new _.x,this.exited=new _.x,this.dropped=new _.x,this.sorted=new _.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=F.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,ge.F)(0,_e.Z).pipe((0,g.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=(0,v.fI)(o),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Rt(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,t,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(o):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(o,t,i))):r=s;const a=this._activeDraggables,l=a.indexOf(o),c=o.getPlaceholderElement();let d=a[r];if(d===o&&(d=a[r+1]),!d&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(d=a[0]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),a.splice(r,0,o)}else(0,v.fI)(this.element).appendChild(c),a.push(o);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,t,i,s,r,a,l){this._reset(),this.dropped.next({item:o,currentIndex:t,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:l})}withItems(o){const t=this._draggables;return this._draggables=o,o.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>-1===o.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(o){return this._direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._orientation=o,this}withScrollableParents(o){const t=(0,v.fI)(this.element);return this._scrollableElements=-1===o.indexOf(t)?[t,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,t,i,s){if(this.sortingDisabled||!this._clientRect||!It(this._clientRect,.05,t,i))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(o,t,i,s);if(-1===a&&r.length>0)return;const l="horizontal"===this._orientation,c=r.findIndex(w=>w.drag===o),d=r[a],m=d.clientRect,f=c>a?1:-1,R=this._getItemOffsetPx(r[c].clientRect,m,f),x=this._getSiblingOffsetPx(c,r,f),Z=r.slice();(function(n,o,t){const i=B(o,n.length-1),s=B(t,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let l=i;l!==s;l+=a)n[l]=n[l+a];n[s]=r})(r,c,a),this.sorted.next({previousIndex:c,currentIndex:a,container:this,item:o}),r.forEach((w,Ai)=>{if(Z[Ai]===w)return;const Xt=w.drag===o,ct=Xt?R:x,te=Xt?o.getPlaceholderElement():w.drag.getRootElement();w.offset+=ct,l?(te.style.transform=G(`translate3d(${Math.round(w.offset)}px, 0, 0)`,w.initialTransform),N(w.clientRect,0,ct)):(te.style.transform=G(`translate3d(0, ${Math.round(w.offset)}px, 0)`,w.initialTransform),N(w.clientRect,ct,0))}),this._previousSwap.overlaps=ot(m,t,i),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?s.x:s.y}_startScrollingIfNecessary(o,t){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||i||It(a.clientRect,.05,o,t)&&([s,r]=function(n,o,t,i){const s=Bt(o,i),r=Yt(o,t);let a=0,l=0;if(s){const c=n.scrollTop;1===s?c>0&&(a=1):n.scrollHeight-c>n.clientHeight&&(a=2)}if(r){const c=n.scrollLeft;1===r?c>0&&(l=1):n.scrollWidth-c>n.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,o,t),(s||r)&&(i=l))}),!s&&!r){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};s=Bt(c,t),r=Yt(c,o),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,v.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,v.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_cacheItemPositions(){const o="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:it(i)}}).sort((t,i)=>o?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const o=(0,v.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var s;const i=t.getRootElement();if(i){const r=null==(s=this._itemPositions.find(a=>a.drag===t))?void 0:s.initialTransform;i.style.transform=r||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(o,t,i){const s="horizontal"===this._orientation,r=t[o].clientRect,a=t[o+-1*i];let l=r[s?"width":"height"]*i;if(a){const c=s?"left":"top",d=s?"right":"bottom";-1===i?l-=a.clientRect[c]-r[d]:l+=r[c]-a.clientRect[d]}return l}_getItemOffsetPx(o,t,i){const s="horizontal"===this._orientation;let r=s?t.left-o.left:t.top-o.top;return-1===i&&(r+=s?t.width-o.width:t.height-o.height),r}_shouldEnterAsFirstChild(o,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?o>=a.right:t>=a.bottom}{const a=i[0].clientRect;return s?o<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(o,t,i,s){const r="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>{if(l===o)return!1;if(s){const d=r?s.x:s.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return r?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return-1!==a&&this.sortPredicate(a,o,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(o,t){return null!=this._clientRect&&ot(this._clientRect,o,t)}_getSiblingContainerFromPosition(o,t,i){return this._siblings.find(s=>s._canReceive(o,t,i))}_canReceive(o,t,i){if(!this._clientRect||!ot(this._clientRect,t,i)||!this.enterPredicate(o,this))return!1;const s=this._getShadowRoot().elementFromPoint(t,i);if(!s)return!1;const r=(0,v.fI)(this.element);return s===r||r.contains(s)}_startReceiving(o,t){const i=this._activeSiblings;!i.has(o)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(o),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(o);t&&(this._itemPositions.forEach(({clientRect:i})=>{N(i,t.top,t.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,T.kV)((0,v.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,o))}}function Bt(n,o){const{top:t,bottom:i,height:s}=n,r=.05*s;return o>=t-r&&o<=t+r?1:o>=i-r&&o<=i+r?2:0}function Yt(n,o){const{left:t,right:i,width:s}=n,r=.05*s;return o>=t-r&&o<=t+r?1:o>=i-r&&o<=i+r?2:0}const V=(0,T.i$)({passive:!1,capture:!0});let ye=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new _.x,this.pointerUp=new _.x,this.scroll=new _.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,V)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,V)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:V}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:V}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Pt.y(s=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&s.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,yt.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(u.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ht=(()=>{class n{constructor(t,i,s,r){this._document=t,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(t,i=xe){return new De(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ce(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.K0),e.LFG(e.R0b),e.LFG(J.rL),e.LFG(ye))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const st=new e.OlP("CDK_DRAG_PARENT"),we=new e.OlP("CDK_DRAG_CONFIG"),Te=new e.OlP("CdkDropList"),rt=new e.OlP("CdkDragHandle");let Se=(()=>{class n{constructor(t,i){this.element=t,this._stateChanges=new _.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,v.Ig)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(st,12))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:rt,useExisting:n}])]}),n})();const Ie=new e.OlP("CdkDragPlaceholder"),Re=new e.OlP("CdkDragPreview");let Oe=(()=>{class n{constructor(t,i,s,r,a,l,c,d,h,m,f){this.element=t,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=h,this._selfHandle=m,this._parentDrag=f,this._destroyed=new _.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new Pt.y(R=>{const x=this._dragRef.moved.pipe((0,O.U)(Z=>({source:this,pointerPosition:Z.pointerPosition,event:Z.event,delta:Z.delta,distance:Z.distance}))).subscribe(R);return()=>{x.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:null==l?void 0:l.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),l&&this._assignDefaults(l),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,v.Ig)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,$.q)(1),(0,g.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,s=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var s;const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):null==(s=t.parentElement)?void 0:s.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,v.fI)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:(0,v.su)(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,$.q)(1)).subscribe(()=>{var s;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null==(s=n._dragInstances.find(r=>r.element.nativeElement===i))?void 0:s._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:h}=t;this.disabled=null!=c&&c,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,xt.O)(this._handles),(0,q.b)(t=>{const i=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,wt.w)(t=>(0,yt.T)(...t.map(i=>i._stateChanges.pipe((0,xt.O)(i))))),(0,g.R)(this._destroyed)).subscribe(t=>{const i=this._dragRef,s=t.element.nativeElement;t.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Te,12),e.Y36(u.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(we,8),e.Y36(ht.Is,8),e.Y36(Ht),e.Y36(e.sBO),e.Y36(rt,10),e.Y36(st,12))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,Re,5),e.Suo(s,Ie,5),e.Suo(s,rt,5)),2&t){let r;e.iGM(r=e.CRH())&&(i._previewTemplate=r.first),e.iGM(r=e.CRH())&&(i._placeholderTemplate=r.first),e.iGM(r=e.CRH())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:st,useExisting:n}]),e.TTD]}),n})(),je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Ht],imports:[J.ZD]}),n})();var C=p(5304),zt=p(1312),Jt=p(1574),Y=p(461),Me=p(9417),Ae=p(4499),ke=p(7867),Ze=p(9463),Le=p(5427);function Fe(n,o){if(1&n&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.iconName)}}function Ne(n,o){if(1&n&&(e.TgZ(0,"mat-toolbar",3),e.YNc(1,Fe,2,1,"mat-icon",4),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.Q6J("color",t.color),e.xp6(1),e.Q6J("ngIf",t.iconName),e.xp6(2),e.Oqu(t.title)}}function Ue(n,o){if(1&n&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.iconName)}}function Be(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).doEmit(r,s)}),e.TgZ(1,"mat-icon",12),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("matTooltip",t.label),e.xp6(1),e.Oqu(t.icon)}}function Ye(n,o){}function He(n,o){if(1&n&&e.YNc(0,Ye,0,0,"ng-template",13),2&n){const t=e.oxw().$implicit;e.Q6J("cdkPortalOutlet",t.portal)}}function ze(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Be,3,2,"button",9),e.YNc(2,He,1,1,"ng-template",null,10,e.W1O),e.BQk()),2&n){const t=o.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!t.portal)("ngIfElse",i)}}function Je(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",11),e.NdJ("click",function(s){const a=e.CHM(t).$implicit;return e.oxw(2).doEmit(a,s)}),e.TgZ(2,"mat-icon",14),e._uU(3),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.icon)}}function $e(n,o){if(1&n&&(e.TgZ(0,"mat-toolbar",5),e.TgZ(1,"span",6),e.YNc(2,Ue,2,1,"mat-icon",4),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"span",7),e.YNc(6,ze,4,2,"ng-container",8),e.qZA(),e.TgZ(7,"span",7),e.YNc(8,Je,4,1,"ng-container",8),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.Q6J("color",t.color),e.xp6(2),e.Q6J("ngIf",t.iconName),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Q6J("ngForOf",t.actions),e.xp6(2),e.Q6J("ngForOf",t.defaultActions)}}function qe(n,o){1&n&&e._UZ(0,"div",2),2&n&&e.Q6J("innerHTML",o.$implicit,e.oJD)}function Ge(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qe,1,1,"div",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.content)}}function Qe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"deja-popup-toolbar",4),e.NdJ("actionSelected",function(s){return e.CHM(t),e.oxw().dispatchAction(s)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("config",t.config)}}function Ve(n,o){if(1&n&&e._UZ(0,"deja-popup-content",5),2&n){const t=e.oxw();e.Q6J("config",t.config)}}function We(n,o){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cdkPortalOutlet",t.actionsPortal)}}function Ke(n,o){if(1&n&&(e.TgZ(0,"mat-icon",6),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.icon)}}function Xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().emit(s)}),e.YNc(1,Ke,2,1,"mat-icon",5),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.icon)}}function ti(n,o){if(1&n&&(e.TgZ(0,"mat-icon",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.icon)}}function ei(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().emit(s)}),e.YNc(1,ti,2,1,"mat-icon",8),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("name",t.name),e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(1),e.hij("",t.label," ")}}function ii(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Xe,2,1,"button",2),e.YNc(2,ei,3,3,"button",3),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.label),e.xp6(1),e.Q6J("ngIf",t.label)}}function oi(n,o){1&n&&(e.TgZ(0,"div",8),e._uU(1,"\xa0"),e.qZA())}function ni(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"deja-popup-toolbar",9),e.NdJ("actionSelected",function(s){return e.CHM(t),e.oxw().dispatchAction(s)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("config",t.config)}}function si(n,o){if(1&n&&e._UZ(0,"deja-popup-content",10),2&n){const t=e.oxw();e.Q6J("config",t.config)}}function ri(n,o){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"iframe",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.config.url,e.uOi)}}function ai(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"div",13),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cdkPortalOutlet",t.componentPortal)}}function li(n,o){}function ci(n,o){if(1&n&&(e.ynx(0),e.YNc(1,li,0,0,"ng-template",14),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",null==t.config?null:t.config.contentTemplate.templateRef)("ngTemplateOutletContext",null==t.config?null:t.config.contentTemplate.templateContext)}}function pi(n,o){if(1&n&&(e.TgZ(0,"div",15),e._UZ(1,"div",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("cdkPortalOutlet",t.actionsPortal)}}const di=function(n,o){return{"frame-full":n,"frame-padding":o}};function hi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.doEmit(s.buttonMinimize)}),e.TgZ(1,"mat-icon",7),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.buttonMinimize.icon)}}function ui(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.doEmit(s.buttonFullscreen)}),e.TgZ(1,"mat-icon",8),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.buttonFullscreen.icon)}}function gi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.TgZ(1,"span",3),e.YNc(2,hi,3,1,"button",4),e.YNc(3,ui,3,1,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().doClose()}),e.TgZ(5,"mat-icon",6),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.dialog.componentInstance.isMinified),e.xp6(1),e.Q6J("ngIf",t.dialog.componentInstance.isMinified),e.xp6(3),e.Oqu(t.buttonClose.icon)}}function _i(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"deja-popup-box",6),e.NdJ("action",function(s){return e.CHM(t),e.oxw().doAction(s)}),e.qZA(),e.BQk()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("dialog",t)}}class S{constructor(o,t){this.name=o,this.target=t,this.refreshDrawer=!0,this.isFinalAction=!1,this.icon||(this.icon=o),this.label||(this.label=o)}}class y extends S{constructor(o,t,i,s=!0){super(o),this.name=o,this.label=t,this.icon=i,this.isFinalAction=s}}class fi extends S{constructor(o){super(void 0),this.portal=o}}let $t=(()=>{class n extends Jt.yl{constructor(){super(...arguments),this.isMinified=!1,this.isFullscreen=!1}ngOnInit(){this.aSub=[],this.dialogRef.beforeClosed().pipe((0,$.q)(1),(0,q.b)(()=>{if(this.unlisten&&this.unlisten(),this.destroy(),this.config.dejaPopupCom$){const t=new S("dialog-close","popup-tray");this.config.dejaPopupCom$.next(t)}}),(0,g.R)(this.destroyed$)).subscribe(),this.config.actionComponentRef&&(this.actionsPortal=new I.C5(this.config.actionComponentRef,void 0,this.injector)),this.config.dejaPopupCom$&&this.aSub.push(this.config.dejaPopupCom$.pipe((0,Y.h)(t=>!!(null==t?void 0:t.target)&&t.target===this.config.id),(0,q.b)(t=>this.doAction(t)),(0,q.b)(t=>{this.actionSelected=t,t.isFinalAction&&this.dialogRef.close(t)}),(0,g.R)(this.destroyed$)).subscribe())}dispatchAction(t){var i,s;if(!t)return!1;null==(s=null==(i=this.config)?void 0:i.dejaPopupCom$)||s.next(t)}destroy(){this.aSub.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})(),at=(()=>{class n{constructor(){this.actionSelected=new e.vpe,this.buttonClose={name:"toolbar-close",icon:"close",label:"Close"},this.buttonFullscreen={name:"toolbar-fullscreen",icon:"fullscreen",label:"Fullscreen"},this.buttonFullscreenExit={name:"toolbar-fullscreen-exit",icon:"fullscreen_exit",label:"Exit fullscreen"},this.buttonMinimize={name:"toolbar-minify",icon:"remove",label:"Dock"},this.defaultActions=[this.buttonClose]}set config(t){var i;this.color=t.toolbarColor,this.title=t.title,this.iconName=t.toolbarIconName,this.type=t.toolbarType,this.actions=t.toolbarActions,this.dialogId=t.id,this.isFullScreen=t.fullscreen,t.fullscreen?(null==(i=t.buttonFullscreenExit)||i)&&this.defaultActions.unshift(this.buttonFullscreenExit):this.defaultActions.unshift(this.buttonFullscreen),t.hasBackdrop||this.defaultActions.unshift(this.buttonMinimize)}doEmit(t,i){(t.name===this.buttonFullscreen.name||t.name===this.buttonFullscreenExit.name)&&this.toggleFullScreenButton(),t.target=this.dialogId,this.actionSelected.emit(t),i&&(i.stopPropagation(),i.preventDefault())}toggleFullScreenButton(){let t,i;this.isFullScreen=!this.isFullScreen,this.isFullScreen?(t=this.buttonFullscreen,i=this.buttonFullscreenExit):(t=this.buttonFullscreenExit,i=this.buttonFullscreen);const s=this.defaultActions.findIndex(r=>r.name===t.name);if(-1===s)return!1;this.defaultActions.splice(s,1,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup-toolbar"]],inputs:{config:"config"},outputs:{actionSelected:"actionSelected"},decls:3,vars:2,consts:[["tabindex","0"],["class","deja-popup-toolbar",3,"color",4,"ngIf"],["class","deja-popup-toolbar-mini",3,"color",4,"ngIf"],[1,"deja-popup-toolbar",3,"color"],[4,"ngIf"],[1,"deja-popup-toolbar-mini",3,"color"],[1,"deja-popup-toolbar-spacer","deja-popup-toolbar-content"],[1,"deja-popup-toolbar-actions","deja-popup-toolbar-content"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",3,"click",4,"ngIf","ngIfElse"],["portalTpl",""],["type","button","mat-icon-button","",3,"click"],["aria-label","action.name",3,"matTooltip"],[3,"cdkPortalOutlet"],["aria-label","action.name"]],template:function(t,i){1&t&&(e._UZ(0,"div",0),e.YNc(1,Ne,4,3,"mat-toolbar",1),e.YNc(2,$e,9,5,"mat-toolbar",2)),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.type||"base"===i.type),e.xp6(1),e.Q6J("ngIf",i.type&&"window"===i.type))},directives:[u.O5,z.Ye,M.Hw,u.sg,j.lW,vt,I.Pl],styles:[".deja-popup-toolbar[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{margin-right:4px}.deja-popup-toolbar-mini[_ngcontent-%COMP%]{display:flex;height:auto}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-content[_ngcontent-%COMP%]{font-size:12px}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:4px}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-spacer[_ngcontent-%COMP%]{flex:1;cursor:-webkit-grab;cursor:grab}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-spacer[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:sub;margin-right:4px}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-actions[_ngcontent-%COMP%]{padding-left:1rem}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .deja-popup-toolbar-actions[_ngcontent-%COMP%] ~ .deja-popup-toolbar-actions[_ngcontent-%COMP%]{padding-left:0}.deja-popup-toolbar-mini[_ngcontent-%COMP%]   .actions-hide[_ngcontent-%COMP%]{display:none}"]}),n})(),qt=(()=>{class n{set config(t){this.content=t.content?"string"==typeof t.content?[t.content]:t.content:[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup-content"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,i){1&t&&e.YNc(0,Ge,2,1,"ng-container",0),2&t&&e.Q6J("ngIf",i.content.length)},directives:[u.O5,u.sg],styles:[""]}),n})(),D=(()=>{class n extends C.vA{constructor(){super(),this.positionStart={top:100,left:100},this.dimensionDefault={width:"60vw",height:"65vh"},this.autoFocus=!1,this.fullscreen=!1,this.availableInTray=!0,this.maxWidth="100vw",this.maxHeight="100vh",this.shareActions=!0,this.toolbarColor="primary"}ensureDimension(){this.width||this.setDefaultWidth(),this.height||this.setDefaultHeight()}setDefaultWidth(){this.width=this.dimensionDefault.width}setDefaultHeight(){this.height=this.dimensionDefault.height}getDefaultPosition(){const t=10*n.dialogCount-100*Math.ceil(n.dialogCount/10);return{top:`${this.positionStart.top+t}px`,left:`${this.positionStart.left+t}px`}}getMatDialogConfig(){this.createIds(),this.autoposition&&this.ensurePosition(),this.title||(this.title=`Popup ${n.dialogCount}`);const t=new C.vA;return t.ariaDescribedBy=this.ariaDescribedBy,t.backdropClass=this.backdropClass,t.direction=this.direction,t.disableClose=this.disableClose,t.hasBackdrop=this.hasBackdrop,t.height=this.height,t.id=this.id,t.maxHeight=this.maxHeight,t.maxWidth=this.maxWidth,t.minHeight=this.minHeight,t.minWidth=this.minWidth,t.panelClass=this.panelClass,t.position=this.position,t.role=this.role,t.viewContainerRef=this.viewContainerRef,t.width=this.width,t.data=this,t}addPanelClass(t){this.panelClass?Array.isArray(this.panelClass)?this.panelClass.push(t):this.panelClass=[t,this.panelClass]:this.panelClass=[t]}hasContent(){return!!this.content&&this.content.length>0}hasActions(){return!!this.actions&&!!this.actionComponentRef}ensurePosition(){if(!this.position)return this.position=this.getDefaultPosition(),!0;!this.position.top&&!this.position.bottom&&(this.position.top=`${this.positionStart.top}px`),!this.position.left&&!this.position.right&&(this.position.left=`${this.positionStart.left}px`)}createIds(){this.id||(this.id="deja-popup-"+ ++n.dialogCount);const t=`deja-popup-pane-${n.dialogCount}`;this.addPanelClass(t),this.dialogPanelId=`.${t}`}}return n.dialogCount=0,n})(),Gt=(()=>{class n extends $t{constructor(t,i,s){super(),this.dialogRef=t,this.config=i,this.injector=s,this.isMinified=!1,this.isFullscreen=!1}doAction(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.so),e.Y36(C.WI),e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup"]],features:[e.qOj],decls:4,vars:3,consts:[[3,"config","actionSelected",4,"ngIf"],["mat-dialog-content",""],[3,"config",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[3,"config","actionSelected"],[3,"config"],["mat-dialog-actions",""],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(e.YNc(0,Qe,1,1,"deja-popup-toolbar",0),e.TgZ(1,"div",1),e.YNc(2,Ve,1,1,"deja-popup-content",2),e.qZA(),e.YNc(3,We,2,1,"div",3)),2&t&&(e.Q6J("ngIf",i.config&&i.config.title),e.xp6(2),e.Q6J("ngIf",null==i.config?null:i.config.hasContent()),e.xp6(1),e.Q6J("ngIf",i.config.hasActions()))},directives:[u.O5,C.xY,at,qt,C.H8,I.Pl],styles:["deja-popup .mat-dialog-content{padding:24px;margin:0}deja-popup .mat-dialog-actions:last-child{margin:0 24px!important}\n"],encapsulation:2}),n})(),Qt=(()=>{class n{constructor(t){this.config=t}ngOnInit(){this.config.actions.length&&(this.buttons=this.config.actions)}emit(t){this.config.dejaPopupCom$&&(t.target=this.config.id,this.config.dejaPopupCom$.next(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup-actions"]],decls:3,vars:1,consts:[[1,"deja-popup-spacer"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","primary",3,"name","click",4,"ngIf"],["type","button","mat-icon-button","",3,"click"],["color","primary","role","img","aria-hidden","true",4,"ngIf"],["color","primary","role","img","aria-hidden","true"],["type","button","mat-raised-button","","color","primary",3,"name","click"],["role","img","aria-hidden","true",4,"ngIf"],["role","img","aria-hidden","true"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._uU(1,"\xa0"),e.qZA(),e.YNc(2,ii,3,2,"ng-container",1)),2&t&&(e.xp6(2),e.Q6J("ngForOf",i.buttons))},directives:[u.sg,u.O5,j.lW,M.Hw],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .deja-popup-spacer[_ngcontent-%COMP%]{flex:1 1 auto}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{line-height:18px;font-size:18px;height:18px;width:18px;margin-right:3px}"],changeDetection:0}),n})(),Vt=(()=>{class n extends $t{constructor(t,i,s,r,a,l){super(),this.dialogRef=t,this.config=i,this.injector=s,this.renderer=r,this.elRef=a,this.domSanitizer=l,this.dragstart=!1,this.dragPosition={x:0,y:0},i.url&&"string"==typeof i.url&&(i.url=this.domSanitizer.bypassSecurityTrustResourceUrl(i.url))}ngOnInit(){super.ngOnInit(),this.config.contentComponentRef&&(this.componentPortal=new I.C5(this.config.contentComponentRef,void 0,this.injector))}ngAfterViewInit(){this.left=this.elRef.nativeElement.offsetLeft,this.top=this.elRef.nativeElement.offsetTop,this.config.fullscreen&&(0,Me.H)(0).pipe((0,g.R)(this.destroyed$)).subscribe(()=>this.goFullScreen())}doAction(t){switch(this.actionSelected=t,"string"==typeof t?t:t.name){case"toolbar-close":case"close":t.isFinalAction=!0;break;case"toolbar-fullscreen":this.goFullScreen();break;case"toolbar-fullscreen-exit":this.exitFullScreen();break;case"toolbar-minify":if(this.isMinified=!0,this.config.dejaPopupCom$){const s=new S("do-minify","popup-tray");s.panelClass=this.config.dialogPanelId,this.config.dejaPopupCom$.next(s)}}}goFullScreen(){this.isFullscreen=!0,this.dragPosition={x:0,y:0},this.dialogRef.updateSize("100vw","100vh")}exitFullScreen(){this.isFullscreen=!1;const t=!this.config.width||this.config.width.length<1?"auto":this.config.width,i=!this.config.height||this.config.height.length<1?"auto":this.config.height;this.dialogRef.updatePosition({top:`${this.top}px`,left:`${this.left}px`}),this.dialogRef.updateSize(t,i)}onCdkDragEnded(t){this.dragstart=!1,this.top+=t.source.getFreeDragPosition().y,this.left+=t.source.getFreeDragPosition().x}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.so),e.Y36(C.WI),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Le.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup-advanced"]],features:[e.qOj],decls:9,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container",1,"deja-popup-container",3,"cdkDragFreeDragPosition","cdkDragStarted","cdkDragEnded"],["class","dialog-overlay",4,"ngIf"],["cdkDragHandle","",3,"config","actionSelected",4,"ngIf"],["mat-dialog-content","",3,"ngClass"],[3,"config",4,"ngIf"],["class","iframe-wrapper",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"dialog-overlay"],["cdkDragHandle","",3,"config","actionSelected"],[3,"config"],[1,"iframe-wrapper"],[3,"src"],[3,"cdkPortalOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-dialog-actions",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("cdkDragStarted",function(){return i.dragstart=!0})("cdkDragEnded",function(r){return i.onCdkDragEnded(r)}),e.YNc(1,oi,2,0,"div",1),e.YNc(2,ni,1,1,"deja-popup-toolbar",2),e.TgZ(3,"div",3),e.YNc(4,si,1,1,"deja-popup-content",4),e.YNc(5,ri,2,1,"div",5),e.YNc(6,ai,2,1,"ng-container",6),e.YNc(7,ci,2,2,"ng-container",6),e.qZA(),e.YNc(8,pi,2,1,"div",7),e.qZA()),2&t&&(e.Q6J("cdkDragFreeDragPosition",i.dragPosition),e.xp6(1),e.Q6J("ngIf",i.dragstart),e.xp6(1),e.Q6J("ngIf",i.config&&i.config.toolbarType),e.xp6(1),e.Q6J("ngClass",e.WLB(9,di,!i.config.padding,!!i.config.padding)),e.xp6(1),e.Q6J("ngIf",null==i.config?null:i.config.hasContent()),e.xp6(1),e.Q6J("ngIf",null==i.config?null:i.config.url),e.xp6(1),e.Q6J("ngIf",null==i.config?null:i.config.contentComponentRef),e.xp6(1),e.Q6J("ngIf",null==i.config?null:i.config.contentTemplate),e.xp6(1),e.Q6J("ngIf",i.config.hasActions()))},directives:[Oe,u.O5,C.xY,u.mk,at,Se,qt,I.Pl,u.tP,C.H8],styles:["deja-popup-advanced{width:100%}deja-popup-advanced .deja-popup-container{height:100%;position:relative;display:flex;flex-direction:column}deja-popup-advanced .deja-popup-container .dialog-overlay{height:100%;width:100%;z-index:100;position:absolute;top:0;left:0;cursor:-webkit-grabbing;cursor:grabbing}deja-popup-advanced .deja-popup-container .mat-dialog-content{height:100%;flex:1 1 auto;display:flex;flex-direction:column}deja-popup-advanced .deja-popup-container .mat-dialog-content.frame-padding{padding:24px;margin:0;max-height:100vh}deja-popup-advanced .deja-popup-container .mat-dialog-content.frame-full{padding:0;margin:0;overflow:hidden;max-height:100vh}deja-popup-advanced .deja-popup-container .mat-dialog-content .iframe-wrapper{width:100%;height:100%}deja-popup-advanced .deja-popup-container .mat-dialog-content .iframe-wrapper iframe{border:none;height:100%;width:100%}deja-popup-advanced .deja-popup-container .mat-dialog-actions{flex:1 1 auto;padding-bottom:18px}deja-popup-advanced .deja-popup-container .mat-dialog-actions.mat-dialog-actions:last-child{margin:0 24px!important}\n"],encapsulation:2}),n})(),mi=(()=>{class n{constructor(){this.action=new e.vpe,this.showActions=!1,this.buttonClose={name:"toolbar-close",icon:"close",label:"Close"},this.buttonFullscreen={name:"toolbar-fullscreen",icon:"fullscreen",label:"Fullscreen"},this.buttonMinimize={name:"toolbar-minify",icon:"remove",label:"Minify"}}onMouseEnter(){this.showActions=!0}onMouseLeave(){this.showActions=!1}doEmit(t){t.target="popup-tray",this.dialog.componentInstance.isMinified=!this.dialog.componentInstance.isMinified,t.panelClass=this.dialog.componentInstance.config.dialogPanelId,this.action.emit(t)}doClose(){this.dialog.close();const t=new S("tray-refresh","popup-tray");this.action.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup-box"]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{dialog:"dialog"},outputs:{action:"action"},decls:3,vars:2,consts:[[1,"deja-popup-box-title"],["class","deja-popup-box-actions",4,"ngIf"],[1,"deja-popup-box-actions"],[1,"deja-popup-box-content"],["type","button","mat-icon-button","","tabindex","0",3,"click",4,"ngIf"],["type","button","mat-icon-button","","tabindex","0",3,"click"],["aria-label","buttonClose.label"],["aria-label","buttonMinimize.label"],["aria-label","buttonFullscreen.label"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e.YNc(2,gi,7,3,"span",1)),2&t&&(e.xp6(1),e.Oqu(i.dialog.componentInstance.config.title),e.xp6(1),e.Q6J("ngIf",i.showActions))},directives:[u.O5,j.lW,M.Hw],styles:["[_nghost-%COMP%]{line-height:36px;font-size:.8rem;margin:0 1px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .deja-popup-box-title[_ngcontent-%COMP%]{padding:0 .8rem}[_nghost-%COMP%]   .deja-popup-box-actions[_ngcontent-%COMP%]{position:absolute;width:100%;top:0;left:0;text-align:right}[_nghost-%COMP%]   .deja-popup-box-actions[_ngcontent-%COMP%]   .deja-popup-box-content[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   .deja-popup-box-actions[_ngcontent-%COMP%]   .deja-popup-box-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}[_nghost-%COMP%]   .deja-popup-box-actions[_ngcontent-%COMP%]   .deja-popup-box-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{line-height:18px;font-size:18px;height:18px;width:18px}"],changeDetection:0}),n})();class W{constructor(o,t){this.resp=o,this.componentInstance=t,this.acceptedActionNames=["check","ok","yes","confirm","save"],this.lastAction=(null==t?void 0:t.actionSelected)?this.componentInstance.actionSelected:new S("cancel")}get accepted(){return this.acceptedActionNames.some(o=>"string"==typeof this.lastAction?o===this.lastAction:o===this.lastAction.name)}}let lt=(()=>{class n extends C.uw{constructor(){super(...arguments),this.defaultActionComponent=Qt}get openDialogs(){return super.openDialogs}get dejaPopupCom$(){return this._dialogCom$||(this._dialogCom$=new Ae.X(null)),this._dialogCom$}openInline(t,i,s,r=new D){r.title=t,r.content=i,r.actions=s;const a=this.open(Gt,r);return a.afterClosed().pipe((0,O.U)(l=>new W(l,a.componentInstance)))}openCustom(t,i=new D){const s=this.open(t,i);return s.afterClosed().pipe((0,O.U)(r=>new W(r,s.componentInstance)))}openUrl(t,i=new D){i.url=t,i.ensureDimension();const s=this.open(Vt,i);return s.afterClosed().pipe((0,O.U)(r=>new W(r,s.componentInstance)))}openAdvanced(t=new D){return this.open(Vt,t)}openAdvanced$(t=new D){const i=this.openAdvanced(t);return i.afterClosed().pipe((0,O.U)(s=>new W(s,i.componentInstance)))}openPopUp(t=new D){return t.hasBackdrop=!1,void 0===t.autoposition&&(t.autoposition=!0),void 0===t.toolbarType&&(t.toolbarType="window"),this.openAdvanced$(t)}open(t,i){return i.shareActions&&!i.dejaPopupCom$&&(i.dejaPopupCom$=this.dejaPopupCom$),!i.actionComponentRef&&this.defaultActionComponent&&(i.actionComponentRef=this.defaultActionComponent),super.open(t,i.getMatDialogConfig())}}return n.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),vi=(()=>{class n{constructor(t){this.dialogSrv=t}ngOnInit(){this.dialogs$=(0,ke.D)(this.dialogSrv.afterOpened).pipe((0,wt.w)(()=>this.dialogSrv.dejaPopupCom$.pipe((0,Y.h)(t=>!!t&&"popup-tray"===t.target),(0,O.U)(t=>("do-minify"===t.name&&(this.minify(t),t.refreshDrawer=!1),t)),(0,Y.h)(t=>t.refreshDrawer))),(0,Ze.b)(500),(0,O.U)(()=>this.dialogSrv.openDialogs.filter(t=>{var i;return null==(i=t.componentInstance.config)?void 0:i.availableInTray})))}minify(t){const i=document.querySelector(t.panelClass);if(!i)return!1;i.style.display="none",this.refresh()}maxify(t){const i=document.querySelector(t.panelClass);if(!i)return!1;i.style.display="initial",this.refresh()}doAction(t){"toolbar-minify"===t.name?this.minify(t):"toolbar-fullscreen"===t.name?this.maxify(t):this.dialogSrv.dejaPopupCom$.next(t)}closeAll(){this.dialogSrv.closeAll(),this.refresh()}minimizeAll(){this.dialogSrv.openDialogs.forEach(t=>{const i=new S("minify-all","popup-tray");t.componentInstance.isMinified=!0,i.panelClass=t.componentInstance.config.dialogPanelId,this.minify(i)})}showAll(){this.dialogSrv.openDialogs.forEach(t=>{const i=new S("show-all","popup-tray");t.componentInstance.isMinified=!1,i.panelClass=t.componentInstance.config.dialogPanelId,this.maxify(i)})}refresh(){const t=new S("tray-refresh","popup-tray");this.dialogSrv.dejaPopupCom$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(lt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-popup-tray"]],decls:22,vars:3,consts:[[1,"deja-popup-box-container"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",3,"click"],["posYMenu",""],[1,"deja-menu-content"],[1,"menu-item",3,"click"],[3,"dialog","action"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"span",0),e.YNc(1,_i,2,1,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(a){return e.CHM(s),e.MAs(7).show(a)}),e.TgZ(4,"mat-icon"),e._uU(5,"more_vert"),e.qZA(),e.qZA(),e.TgZ(6,"deja-overlay",null,3),e.TgZ(8,"div",4),e.TgZ(9,"ul"),e.TgZ(10,"li",5),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(7);return i.closeAll(),a.close()}),e.TgZ(11,"mat-icon"),e._uU(12,"close"),e.qZA(),e._uU(13," Close all "),e.qZA(),e.TgZ(14,"li",5),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(7);return i.showAll(),a.close()}),e.TgZ(15,"mat-icon"),e._uU(16,"fullscreen"),e.qZA(),e._uU(17," Show all "),e.qZA(),e.TgZ(18,"li",5),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(7);return i.minimizeAll(),a.close()}),e.TgZ(19,"mat-icon"),e._uU(20,"remove"),e.qZA(),e._uU(21," Dock all "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,i.dialogs$)))},directives:[u.sg,j.lW,M.Hw,zt.j,mi],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0;left:0;width:100%;height:36px;overflow-x:hidden}[_nghost-%COMP%]   .deja-popup-box-container[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden}[_nghost-%COMP%]   .deja-popup-box-container[_ngcontent-%COMP%]   deja-popup-box[_ngcontent-%COMP%]{flex:1;max-width:25%;min-width:36px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px}"],changeDetection:0}),n})(),Di=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[lt],imports:[[u.ez,zt.x,je,j.ot,C.Is,M.Ps,z.g0,Dt,I.eL],I.eL]}),n})();var Wt=p(3348),bi=p(6412),Ci=p(3507),Kt=p(6420);let Pi=(()=>{class n{constructor(t,i){this.config=t,this.materialColors=i,this.selectedColor=new Kt.Il(233,30,99)}onColorPickerChange(t){const i=new S("color-change","ground-control");i.data=t,this.config.dejaPopupCom$.next(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.WI),e.Y36(Kt.ZD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-dummy"]],decls:1,vars:2,consts:[["name","4",3,"colors","ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"deja-color-selector",0),e.NdJ("ngModelChange",function(r){return i.selectedColor=r})("ngModelChange",function(r){return i.onColorPickerChange(r)}),e.qZA()),2&t&&e.Q6J("colors",i.materialColors.colors)("ngModel",i.selectedColor)},directives:[bt.LD,A.JJ,A.On],styles:[""]}),n})();var yi=p(8167);function xi(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function wi(n,o){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"deja-popup-actions"),e.qZA())}let Ti=(()=>{class n extends Gt{constructor(){super(...arguments),this.items=[]}ngOnInit(){super.ngOnInit(),this.content="Some content here.",this.inputparam=this.config.data.test;for(let i=0;i<50;i++)this.items.push(i)}doAction(t){if(!t)return!1;"undo"===(this.actionSelected=t,t.name)?this.inputText="":this.dialogRef.close(t)}}return n.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["custom-dialog"]],features:[e.qOj],decls:13,vars:6,consts:[[3,"config","actionSelected"],["mat-dialog-content","",1,"deja-popup-custom-content"],["matInput","","type","text","placeholder","Input text",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["mat-dialog-actions","","class","deja-popup-custom-actions",4,"ngIf"],["mat-dialog-actions","",1,"deja-popup-custom-actions"]],template:function(t,i){1&t&&(e.TgZ(0,"deja-popup-toolbar",0),e.NdJ("actionSelected",function(r){return i.doAction(r)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5," This is an input parameter: '"),e.TgZ(6,"b"),e._uU(7),e.qZA(),e._uU(8,"'"),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"input",2),e.NdJ("ngModelChange",function(r){return i.inputText=r}),e.qZA(),e.qZA(),e.YNc(11,xi,2,1,"div",3),e.qZA(),e.YNc(12,wi,2,0,"div",4)),2&t&&(e.Q6J("config",i.config),e.xp6(3),e.Oqu(i.content),e.xp6(4),e.Oqu(i.inputparam),e.xp6(3),e.Q6J("ngModel",i.inputText),e.xp6(1),e.Q6J("ngForOf",i.items),e.xp6(1),e.Q6J("ngIf",!!i.config.hasActions()))},directives:[at,yi.KE,pt.Nt,A.Fj,A.JJ,A.On,u.sg,u.O5,Qt],styles:["[_nghost-%COMP%]{overflow:hidden}.deja-popup-custom-content[_ngcontent-%COMP%]{overflow:auto;height:300px;padding:0 1rem}.deja-popup-custom-actions[_ngcontent-%COMP%]{padding:1rem}"]}),n})();const Si=["templateButton"];function Ii(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"deja-snackbar",6),e.NdJ("onAnimationDone",function(){return e.CHM(t),e.oxw().openGate=!1}),e.TgZ(1,"deja-message-box",7),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("duration",2e3),e.xp6(1),e.Q6J("type",t.message.type),e.xp6(1),e.hij(" ",t.message.text," ")}}function Ri(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",8),e.TgZ(1,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickTemplateButton()}),e.TgZ(2,"mat-icon",10),e._uU(3,"help_outline"),e.qZA(),e.qZA(),e.qZA()}}const ji=Ci.Bz.forChild([{path:"",component:(()=>{class n extends Jt.yl{constructor(t,i,s){super(),this.dejaPopupService=t,this.changeDetectorRef=i,this.viewContainerRef=s,this.openGate=!1,this.message={type:"info",text:""},this.dummyPdfUrl="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",this.dummyImgUrl="http://lorempixel.com/800/600/abstract/",this.dejaPopupService.dejaPopupCom$.pipe((0,Y.h)(r=>!!r&&"popup-tray"!==r.target&&!r.isFinalAction),(0,O.U)(r=>{this.message.type="primary",this.message.text=r.label||r.name,this.openGate=!0,"color-change"===r.name&&(this.hoveredColor=r.data),this.changeDetectorRef.markForCheck()}),(0,g.R)(this.destroyed$)).subscribe()}askConfirmation1(){const t=new y("save","Save","save"),i=new y("cancel","Cancel","cancel");this.dejaPopupService.openInline("Inscription \xe0 la formation","Etes-vous sure de vouloir faire cela ?",[t,i]).pipe((0,g.R)(this.destroyed$)).subscribe(s=>{this.showResponse(s)})}askConfirmation2(){const t=new D;t.width="530px",t.position={bottom:"50px",right:"50px"},t.disableClose=!0,t.toolbarColor="danger";const a=new y("yes","Yes","check"),l=new y("no","No","not_interested"),c=new y("cancel","Cancel","cancel");this.dejaPopupService.openInline("System failure!","<p>You don't want to <b>Cancel</b> the operation.<br> Or you don't? </p>",[a,l,c],t).pipe((0,g.R)(this.destroyed$)).subscribe(h=>{this.showResponse(h)})}askConfirmationCustom(){const t=new D;t.data={test:"abcde"},t.toolbarIconName="accessibility",t.toolbarColor="accent",t.title="Dialog custom",t.actions=[new y("confirm","Confirm","done"),new y("undo","Undo","undo"),new y("cancel","Cancel","cancel")],this.dejaPopupService.openCustom(Ti,t).pipe((0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}showUrlImg(){const t=new D;t.height="600px",t.width="800px",this.dejaPopupService.openUrl(this.dummyImgUrl,t).pipe((0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}showUrlPdf(t){t||(t=new D),t.actions=[new y("close","Close","close")],t.toolbarType="window",t.toolbarColor="warn",this.dejaPopupService.openUrl(this.dummyPdfUrl,t).pipe((0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}showUrlPdfFullscreen(){const t=new D;t.fullscreen=!0,this.showUrlPdf(t)}useAdvancedComponent(){const t=new D;t.actions=[new y("close","Close","close")],t.toolbarType="window",t.padding=!0,t.content=["One Line of Content","Two Lines of Content","Many Lines of Content"],this.dejaPopupService.openAdvanced$(t).pipe((0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}showPopUp(){const t=new D;t.title=`Movable ${D.dialogCount+1}`,t.content="<h2>Movable Popup No Modal</h2>",t.content=["<p><h3>First</h3> html line</p>","<p><h3>Second</h3> html line</p><br><div> One More Line</div>"],t.padding=!0,t.actions=[new y("close","Close","close")],t.width="500px",t.height="400px",t.toolbarColor="warn",this.dejaPopupService.openPopUp(t).pipe((0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}showPopUpPdf(){const t=new D;t.title=`Pdf ${D.dialogCount}`,t.url=this.dummyPdfUrl,t.padding=!1,t.toolbarIconName="photo_camera",t.toolbarColor="accent",t.toolbarActions=[new fi(new I.UE(this._templateButton,this.viewContainerRef)),new y("account","User","account_circle",!1),new y("view","Show","visibility",!1)],t.ensureDimension(),this.dejaPopupService.openPopUp(t).pipe((0,Y.h)(i=>!!i),(0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}showComponentInjection(){const t=new D;t.title="Pick a color",t.height="auto",t.width="auto",t.contentComponentRef=Pi,this.dejaPopupService.openPopUp(t).pipe((0,g.R)(this.destroyed$)).subscribe(i=>{this.showResponse(i)})}onClickTemplateButton(){this.showMessage("Click on Template portal button!","success")}showResponse(t){t.lastAction instanceof S&&this.showMessage(t.lastAction.label.length?t.lastAction.label:t.lastAction.name,t.accepted?"success":"warn")}showMessage(t,i){this.message.text=t,this.message.type=i,this.openGate=!0,this.changeDetectorRef.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(lt),e.Y36(e.sBO),e.Y36(e.s_b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["popup-demo"]],viewQuery:function(t,i){if(1&t&&e.Gf(Si,5),2&t){let s;e.iGM(s=e.CRH())&&(i._templateButton=s.first)}},features:[e.qOj],decls:46,vars:3,consts:[["id","demo",1,"demo-card","demo-basic"],["color","primary"],["id","button-container"],["mat-raised-button","",1,"mat-primary",3,"click"],["alignment","bottom",3,"duration","onAnimationDone",4,"ngIf"],["templateButton",""],["alignment","bottom",3,"duration","onAnimationDone"],["horizontal","",3,"type"],[1,"template-button-container"],["type","button","mat-icon-button","",3,"click"],["matTooltip","Template portal"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-toolbar",1),e._uU(2,"Dialogs"),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",2),e.TgZ(5,"div"),e.TgZ(6,"button",3),e.NdJ("click",function(){return i.askConfirmation1()}),e._uU(7,"Save or Cancel"),e.qZA(),e.qZA(),e.TgZ(8,"div"),e.TgZ(9,"button",3),e.NdJ("click",function(){return i.askConfirmation2()}),e._uU(10,"Yes, No, Cancel"),e.qZA(),e.qZA(),e.TgZ(11,"div"),e.TgZ(12,"button",3),e.NdJ("click",function(){return i.askConfirmationCustom()}),e._uU(13,"Custom Dialog"),e.qZA(),e.qZA(),e.TgZ(14,"div"),e.TgZ(15,"button",3),e.NdJ("click",function(){return i.showUrlImg()}),e._uU(16,"Show an image from an url"),e.qZA(),e.qZA(),e.TgZ(17,"div"),e.TgZ(18,"button",3),e.NdJ("click",function(){return i.useAdvancedComponent()}),e._uU(19,"Advanced Dialog"),e.qZA(),e.qZA(),e.TgZ(20,"div"),e.TgZ(21,"button",3),e.NdJ("click",function(){return i.showUrlPdf()}),e._uU(22,"Show a pdf document from an url"),e.qZA(),e.qZA(),e.TgZ(23,"div"),e.TgZ(24,"button",3),e.NdJ("click",function(){return i.showUrlPdfFullscreen()}),e._uU(25,"Show a pdf document starting in fullscreen"),e.qZA(),e.qZA(),e.qZA(),e._UZ(26,"br"),e.qZA(),e.qZA(),e.TgZ(27,"mat-card",0),e.TgZ(28,"mat-toolbar",1),e._uU(29,"Popup"),e.qZA(),e.TgZ(30,"mat-card-content"),e.TgZ(31,"div",2),e.TgZ(32,"div"),e.TgZ(33,"button",3),e.NdJ("click",function(){return i.showPopUp()}),e._uU(34,"Pop Up"),e.qZA(),e.qZA(),e.TgZ(35,"div"),e.TgZ(36,"button",3),e.NdJ("click",function(){return i.showPopUpPdf()}),e._uU(37,"Pop Up Pdf"),e.qZA(),e.qZA(),e.TgZ(38,"div"),e.TgZ(39,"button",3),e.NdJ("click",function(){return i.showComponentInjection()}),e._uU(40,"Component injection"),e.qZA(),e.qZA(),e.qZA(),e._UZ(41,"br"),e.qZA(),e.qZA(),e.YNc(42,Ii,3,3,"deja-snackbar",4),e._UZ(43,"deja-popup-tray"),e.YNc(44,Ri,4,0,"ng-template",null,5,e.W1O)),2&t&&(e.xp6(30),e.Udp("background-color",i.hoveredColor&&i.hoveredColor.toHex()),e.xp6(12),e.Q6J("ngIf",i.openGate))},directives:[K.a8,z.Ye,K.dn,j.lW,u.O5,vi,Wt.w,Ct.b,M.Hw,vt],styles:["[_nghost-%COMP%]   #button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;line-height:3rem}[_nghost-%COMP%]   #button-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   #demo[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{margin-top:2rem}[_nghost-%COMP%]   #demo.demo-card[_ngcontent-%COMP%]{margin:16px}[_nghost-%COMP%]   #demo.demo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column}[_nghost-%COMP%]   #demo.demo-basic[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   #demo.demo-full-width[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   #demo.demo-icons[_ngcontent-%COMP%]{font-size:100%;height:inherit;vertical-align:top;width:inherit}[_nghost-%COMP%]   #demo[_ngcontent-%COMP%]   #flight[_ngcontent-%COMP%]{display:flex;align-items:center}.template-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .template-button-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}.template-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:4px}.template-button-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px}"]}),n})()},{path:"**",redirectTo:"",pathMatch:"full"}]);let Mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,bt.sQ,bi.O,Ct.J,Di,Wt.n,A.u5,j.ot,K.QW,M.Ps,pt.c,oe.Nh,z.g0,Dt,ji]]}),n})()}}]);