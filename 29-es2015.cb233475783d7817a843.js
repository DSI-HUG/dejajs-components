(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{WgOX:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class i{}var d=e("pMnS"),a=e("lzlj"),o=e("igqZ"),u=e("w6M7"),s=e("iss+"),r=e("IheW"),c=e("cUpR"),m=e("FbN9"),b=e("BzsH"),h=e("/HVE"),p=e("SVse"),g=e("Z5h4"),v=e("r0V8"),C=e("5GAg"),f=e("omvX"),_=e("s7LF"),E=e("KCVW"),M=e("fYS1"),j=e("2Vo4"),R=e("xgIS"),x=e("Cfvw"),O=e("PqYM"),k=e("GJmQ"),w=e("pLZG"),N=e("lJxs"),y=e("SxV6"),A=e("vkgz"),I=e("1G5W");const S=()=>{};class L{constructor(l,n){this._control=n,this.onTouchedCallback=S,this.onChangeCallback=S,this._inEdition=!1,this._editMode=!1,this._mandatory=!1,this._multiline=!1,this.edit$=new j.a([!1,!1]),this.isAlive=!0,this._disabled=null,this._control&&(this._control.valueAccessor=this),this.element=l.nativeElement,Object(R.a)(this.element,"mousedown").pipe(Object(k.a)(()=>this.isAlive)).subscribe(l=>this.inEdition||this.disabled?(l.cancelBubble=!0,!1):this.editMode?(this.edit$.next([!0,!0]),l.cancelBubble=!0,!1):void 0);const e=Object(x.a)(this.edit$).pipe(Object(w.a)(([l])=>l!==this._inEdition),Object(N.a)(([l,n])=>(!1!==n&&Object(O.a)(10).pipe(Object(y.a)()).subscribe(()=>{this.selectAll(),this.focus()}),l)),Object(A.a)(l=>{this._inEdition=l,l?this.element.setAttribute("contenteditable","true"):this.element.removeAttribute("contenteditable"),this.refreshView()})),t=e.pipe(Object(w.a)(l=>!l));e.pipe(Object(w.a)(l=>l)).subscribe(()=>{Object(R.a)(this.element.ownerDocument,"mousedown").pipe(Object(y.a)(),Object(I.a)(t),Object(w.a)(l=>!this.isChildElement(l.target))).subscribe(()=>{const l=this.element.innerText.replace(/\n/g,"<br />").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");this.onTouchedCallback(),!l&&this.mandatory||(this.value=l),this.inEdition=!1}),Object(R.a)(this.element,"keydown").pipe(Object(y.a)(),Object(I.a)(t)).subscribe(l=>{if(l.cancelBubble=!0,l.stopPropagation(),l.keyCode===M.j.Enter&&!this.multiline){const l=this.element.innerText;return!l&&this.mandatory||(this.value=l),this.inEdition=!1,!1}return l.keyCode===M.j.Escape&&(this.inEdition=!1,!1)})})}set mandatory(l){this._mandatory=Object(E.b)(l)}get mandatory(){return this._mandatory}set multiline(l){this._multiline=Object(E.b)(l)}get multiline(){return this._multiline}set disabled(l){const n=Object(E.b)(l);this._disabled=n||null,this.disabled&&this.edit$.next([!1,!1])}get disabled(){return this._control&&this._control.disabled||this._disabled}set editMode(l){this._editMode=Object(E.b)(l)}get editMode(){return this._editMode}set inEdition(l){this.disabled||this.edit$.next([Object(E.b)(l),!1])}get inEdition(){return this._inEdition}set value(l){l!==this.model&&(this.writeValue(l),this.onChangeCallback(l))}get value(){return this.model}writeValue(l){this.model=l,this.refreshView()}registerOnChange(l){this.onChangeCallback=l}registerOnTouched(l){this.onTouchedCallback=l}setDisabledState(l){this.disabled=l}ngOnInit(){this.model=this.element.innerHTML}ngOnDestroy(){this.isAlive=!1}focus(){this.element.focus()}selectAll(){const l=document.createRange();l.selectNodeContents(this.element);const n=window.getSelection();n.removeAllRanges(),n.addRange(l)}edit(l){this.edit$.next([!this.disabled,l])}isChildElement(l){let n=l;for(;n&&n!==this.element;)n=n.parentElement;return n===this.element}refreshView(){this.model&&(this.inEdition?this.element.innerText=this.model.replace(/<br\s*[\/]?>/gi,"\n"):this.element.innerHTML=this.model.replace(/\n/g,"<br />"))}}var V=e("Rlre"),T=e("rWV4");class D{constructor(){this.tabIndex=1,this.designMode=!1,this.disabled=!1}}var P=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function F(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"mat-card",[["class","demo-card demo-basic mat-card"]],null,null,null,a.b,a.a)),t["\u0275did"](1,49152,null,0,o.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,1,"deja-markdown",[],null,null,null,u.b,u.a)),t["\u0275did"](3,8503296,null,0,s.a,[t.ChangeDetectorRef,r.c,c.DomSanitizer],{url:[0,"url"]},null)],function(l,n){l(n,3,0,"https://raw.githubusercontent.com/DSI-HUG/dejajs-components/dev/projects/deja-js/component/content-editable/readme.md")},null)}function q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,37,"mat-card",[["class","demo-card demo-basic mat-card"]],null,null,null,a.b,a.a)),t["\u0275did"](1,49152,null,0,o.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,3,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,m.b,m.a)),t["\u0275did"](3,4243456,null,1,b.a,[t.ElementRef,h.a,p.d],{color:[0,"color"]},null),t["\u0275qud"](603979776,6,{_toolbarRows:1}),(l()(),t["\u0275ted"](-1,0,["Content Editable Demo"])),(l()(),t["\u0275eld"](6,0,null,0,15,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),t["\u0275did"](7,16384,null,0,o.c,[],null,null),(l()(),t["\u0275eld"](8,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.designMode=e)&&t),t},g.b,g.a)),t["\u0275did"](9,8568832,null,0,v.b,[t.ElementRef,t.ChangeDetectorRef,C.f,t.NgZone,[8,null],[2,v.a],[2,f.a]],{color:[0,"color"]},null),t["\u0275prd"](1024,null,_.NG_VALUE_ACCESSOR,function(l){return[l]},[v.b]),t["\u0275did"](11,671744,null,0,_.NgModel,[[8,null],[8,null],[8,null],[6,_.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,_.NgControl,null,[_.NgModel]),t["\u0275did"](13,16384,null,0,_.NgControlStatus,[[4,_.NgControl]],null,null),(l()(),t["\u0275ted"](-1,0,["Design Mode\xa0"])),(l()(),t["\u0275eld"](15,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.disabled=e)&&t),t},g.b,g.a)),t["\u0275did"](16,8568832,null,0,v.b,[t.ElementRef,t.ChangeDetectorRef,C.f,t.NgZone,[8,null],[2,v.a],[2,f.a]],{color:[0,"color"]},null),t["\u0275prd"](1024,null,_.NG_VALUE_ACCESSOR,function(l){return[l]},[v.b]),t["\u0275did"](18,671744,null,0,_.NgModel,[[8,null],[8,null],[8,null],[6,_.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,_.NgControl,null,[_.NgModel]),t["\u0275did"](20,16384,null,0,_.NgControlStatus,[[4,_.NgControl]],null,null),(l()(),t["\u0275ted"](-1,0,["Disabled"])),(l()(),t["\u0275eld"](22,0,null,0,15,"mat-card-content",[["class","mat-card-content"],["id","contentEditableContainer"]],null,null,null,null,null)),t["\u0275did"](23,16384,null,0,o.c,[],null,null),(l()(),t["\u0275eld"](24,0,null,null,13,"div",[["multiline",""]],[[1,"disabled",0]],null,null,null,null)),t["\u0275did"](25,212992,null,0,L,[t.ElementRef,[8,null]],{multiline:[0,"multiline"],disabled:[1,"disabled"],editMode:[2,"editMode"]},null),(l()(),t["\u0275ted"](-1,null,[" Lorem ipsum dolor sit amet, consectetur adipiscing elit. "])),(l()(),t["\u0275eld"](27,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Mauris auctor sit amet odio et aliquet. Curabitur auctor eleifend mattis. "])),(l()(),t["\u0275eld"](29,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Nullam sit amet quam tellus. Ut mattis tellus sed erat ultricies ornare. "])),(l()(),t["\u0275eld"](31,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Nulla dictum nisi eu tortor lacinia porttitor. Donec eu arcu et enim cursus viverra. "])),(l()(),t["\u0275eld"](33,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Praesent pulvinar dui nisi, a tincidunt arcu finibus sed. "])),(l()(),t["\u0275eld"](35,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,1,"a",[["href","http://www.google.ch"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Google"]))],function(l,n){var e=n.component;l(n,3,0,"primary"),l(n,9,0,"primary"),l(n,11,0,e.designMode),l(n,16,0,"primary"),l(n,18,0,e.disabled),l(n,25,0,"",e.disabled,e.designMode)},function(l,n){l(n,2,0,t["\u0275nov"](n,3)._toolbarRows.length>0,0===t["\u0275nov"](n,3)._toolbarRows.length),l(n,8,1,[t["\u0275nov"](n,9).id,null,t["\u0275nov"](n,9).indeterminate,t["\u0275nov"](n,9).checked,t["\u0275nov"](n,9).disabled,"before"==t["\u0275nov"](n,9).labelPosition,"NoopAnimations"===t["\u0275nov"](n,9)._animationMode,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending]),l(n,15,1,[t["\u0275nov"](n,16).id,null,t["\u0275nov"](n,16).indeterminate,t["\u0275nov"](n,16).checked,t["\u0275nov"](n,16).disabled,"before"==t["\u0275nov"](n,16).labelPosition,"NoopAnimations"===t["\u0275nov"](n,16)._animationMode,t["\u0275nov"](n,20).ngClassUntouched,t["\u0275nov"](n,20).ngClassTouched,t["\u0275nov"](n,20).ngClassPristine,t["\u0275nov"](n,20).ngClassDirty,t["\u0275nov"](n,20).ngClassValid,t["\u0275nov"](n,20).ngClassInvalid,t["\u0275nov"](n,20).ngClassPending]),l(n,24,0,t["\u0275nov"](n,25)._disabled)})}function G(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"mat-tab-group",[["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"]],function(l,n,e){var t=!0;return"selectedTabChange"===n&&(t=!1!==(l.component.tabIndex=e.index)&&t),t},V.c,V.b)),t["\u0275did"](1,3325952,null,1,T.f,[t.ElementRef,t.ChangeDetectorRef,[2,T.a],[2,f.a]],{selectedIndex:[0,"selectedIndex"]},{selectedTabChange:"selectedTabChange"}),t["\u0275qud"](603979776,1,{_tabs:1}),(l()(),t["\u0275eld"](3,16777216,null,null,3,"mat-tab",[["label","API REFERENCE"]],null,null,null,V.d,V.a)),t["\u0275did"](4,770048,[[1,4]],2,T.c,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](603979776,2,{templateLabel:0}),t["\u0275qud"](335544320,3,{_explicitContent:0}),(l()(),t["\u0275eld"](7,16777216,null,null,3,"mat-tab",[["label","EXAMPLES"]],null,null,null,V.d,V.a)),t["\u0275did"](8,770048,[[1,4]],2,T.c,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](603979776,4,{templateLabel:0}),t["\u0275qud"](335544320,5,{_explicitContent:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](12,16384,null,0,p.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](14,16384,null,0,p.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e.tabIndex),l(n,4,0,"API REFERENCE"),l(n,8,0,"EXAMPLES"),l(n,12,0,0===e.tabIndex),l(n,14,0,1===e.tabIndex)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).dynamicHeight,"below"===t["\u0275nov"](n,1).headerPosition)})}function U(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"deja-content-editable-demo",[],null,null,null,G,P)),t["\u0275did"](1,49152,null,0,D,[],null,null)],null,null)}var X=t["\u0275ccf"]("deja-content-editable-demo",D,U,{},{},[]),H=e("POq0"),z=e("IP0z"),$=e("Xd0L"),J=e("zMNK");class K{}var W=e("KYkd"),Z=e("iInd");e.d(n,"DejaContentEditableDemoModuleNgFactory",function(){return B});var B=t["\u0275cmf"](i,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[d.a,X]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,p.p,p.o,[t.LOCALE_ID,[2,p.F]]),t["\u0275mpd"](4608,_["\u0275angular_packages_forms_forms_o"],_["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,H.c,H.c,[]),t["\u0275mpd"](4608,r.i,r.o,[p.d,t.PLATFORM_ID,r.m]),t["\u0275mpd"](4608,r.p,r.p,[r.i,r.n]),t["\u0275mpd"](5120,r.a,function(l){return[l]},[r.p]),t["\u0275mpd"](4608,r.l,r.l,[]),t["\u0275mpd"](6144,r.j,null,[r.l]),t["\u0275mpd"](4608,r.h,r.h,[r.j]),t["\u0275mpd"](6144,r.b,null,[r.h]),t["\u0275mpd"](4608,r.f,r.k,[r.b,t.Injector]),t["\u0275mpd"](4608,r.c,r.c,[r.f]),t["\u0275mpd"](1073742336,p.c,p.c,[]),t["\u0275mpd"](1073742336,_["\u0275angular_packages_forms_forms_d"],_["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,_.FormsModule,_.FormsModule,[]),t["\u0275mpd"](1073742336,z.a,z.a,[]),t["\u0275mpd"](1073742336,$.l,$.l,[[2,$.d],[2,c.HAMMER_LOADER]]),t["\u0275mpd"](1073742336,o.e,o.e,[]),t["\u0275mpd"](1073742336,h.b,h.b,[]),t["\u0275mpd"](1073742336,$.v,$.v,[]),t["\u0275mpd"](1073742336,H.d,H.d,[]),t["\u0275mpd"](1073742336,v.d,v.d,[]),t["\u0275mpd"](1073742336,v.c,v.c,[]),t["\u0275mpd"](1073742336,J.g,J.g,[]),t["\u0275mpd"](1073742336,C.a,C.a,[]),t["\u0275mpd"](1073742336,T.j,T.j,[]),t["\u0275mpd"](1073742336,b.b,b.b,[]),t["\u0275mpd"](1073742336,K,K,[]),t["\u0275mpd"](1073742336,r.e,r.e,[]),t["\u0275mpd"](1073742336,r.d,r.d,[]),t["\u0275mpd"](1073742336,W.a,W.a,[]),t["\u0275mpd"](1073742336,Z.p,Z.p,[[2,Z.u],[2,Z.l]]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](256,r.m,"XSRF-TOKEN",[]),t["\u0275mpd"](256,r.n,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,Z.j,function(){return[[{path:"",component:D},{path:"**",redirectTo:"",pathMatch:"full"}]]},[])])})}}]);