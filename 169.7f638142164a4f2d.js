"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[169],{1169:(Wt,le,p)=>{p.r(le),p.d(le,{TreeListDemoModule:()=>Yt});var D=p(6019),S=p(9133),ee=p(86),te=p(888),oe=p(904),H=p(8167),z=p(3660),W=p(138),ie=p(2605),ae=p(8643),ne=p(7722),de=p(3),ce=p(4272),e=p(3668),J=p(348),R=p(559),U=p(4499),b=p(4753),q=p(7038),V=p(1676),G=p(5933),y=p(3067),B=p(9468),I=p(2997),k=p(7384),M=p(461),be=p(3970),w=p(1574),Ce=p(22);let me=(()=>{class i{set selected(t){this._selected=(0,J.Ig)(t)}get selected(){return this._selected}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["item"]],inputs:{value:"value",text:"text",selected:"selected"},decls:0,vars:0,template:function(t,s){},encapsulation:2}),i})();class E{constructor(l,t,s){this.model=s,this.id=l,this.label=t}get isCollapsible(){var l;return this.items&&(null==(l=this.collapsible)||l)}get isVisible(){var l;return null==(l=this.visible)||l}get isSelectable(){var l;return null==(l=this.selectable)||l}}let se=(()=>{class i{constructor(t){this.diacriticService=t,this.items$=new R.t(1),this.models$=new R.t(1),this.options$=new R.t(1),this.childrenField$=new U.X("items"),this.textField$=new U.X("label"),this.valueField$=new U.X("value"),this.searchField$=new U.X("searchText"),this.query$=new U.X(""),this.minSearchLength$=new U.X(0),this.refreshFlatItemList$=new U.X(void 0),this.refreshFilterItemList$=new U.X(void 0),this.refreshVisibleItemList$=new U.X(void 0),this.refreshSelection$=new U.X({}),this.compareItems=(a,m)=>{const f=h=>null!=h;if(!f(a)||!f(m))return!1;{const h=a.model,d=a.model;return(null==h?void 0:h.equals)?h.equals(m.model):(null==d?void 0:d.equals)?d.equals(a.model):a.id&&m.id?a.id===m.id:a.model===m.model}},this.compareModels=(a,m,f)=>{const h=d=>null!=d;if(!h(a)||!h(m))return!1;if(a===m)return!0;if(Object(a)===a&&Object(m)===m){const d=a,v=m;return(null==d?void 0:d.equals)?d.equals(m):(null==v?void 0:v.equals)?v.equals(a):!!f&&this.extractValueField(a,f)===this.extractValueField(m,f)}return!1};const s=this.options$.pipe((0,b.U)(a=>{const m=a.map(f=>{const h=new E(f.value,f.text);return h.selected=!0===f.selected||""===f.selected,h});return m.length>100&&console.error("Select options with more than 100 items can have performance options. Please bind directly the items in code behind with items or models input."),m}),(0,q.d)({bufferSize:1,refCount:!1})),r=this.models$.pipe((0,V.V)(this.valueField$,this.textField$,this.childrenField$),(0,b.U)(([a,m,f,h])=>a&&a instanceof Array&&this.mapToItem(a,m,f,h)||[]),(0,q.d)({bufferSize:1,refCount:!1}));this.itemList$=this.items$.pipe((0,G.b)(r,s),(0,y.w)(a=>this.selectedItems$&&(null==a?void 0:a.length)>0?this.selectedItems$.pipe((0,B.q)(1),(0,b.U)(m=>{if(null==m?void 0:m.length){const f=m.reduce((h,d)=>(d.id&&h.add(d.id),h),new Set);a.forEach(h=>{h.id&&(h.selected=f.has(h.id))})}return a})):(0,I.of)(a)),(0,q.d)({bufferSize:1,refCount:!1})),this.flatItemList$=this.itemList$.pipe((0,V.V)(this.refreshFlatItemList$),(0,b.U)(([a])=>{const m=(f,h)=>f.reduce((d,v)=>{var g;return v.depth=h,d.push(v),(null==(g=v.items)?void 0:g.length)?[...d,...m(v.items,h+1)]:d},[]);return a&&m(a,0)||[]}),(0,k.b)(()=>{this.previousQuery=void 0}),(0,q.d)({bufferSize:1,refCount:!1}));const c=this.refreshFilterItemList$.pipe((0,k.b)(()=>{this.previousQuery=void 0}));this.filteredItemList$=this.flatItemList$.pipe((0,V.V)(this.query$,this.minSearchLength$,this.searchField$,c),(0,y.w)(([a,m,f,h])=>{if(f>0&&(!m||"string"==typeof m&&m.length<f))return this.previousQuery=null,(0,I.of)([]);if(!m)return(0,I.of)(a);const d="string"==typeof m&&this.previousQuery&&m.includes(this.previousQuery)&&this.filteredItemList$?this.filteredItemList$:(0,I.of)(a);let g;if(this.previousQuery="string"==typeof m?m:null,m)if("string"==typeof m)try{const n=(n=>(["\\","/","|","&",";","$","%","@",'"',"<",">","(",")","+"].forEach(x=>n=n.replace(x,`\\${x}`)),n))(m=this.diacriticService.remove(m));g=new RegExp(n,"i")}catch(n){console.log("Invalid search parameters")}else g=m,void 0===g.test&&(g=void 0);return d.pipe((0,B.q)(1),(0,b.U)(n=>{let o;return[...n].reverse().filter(x=>{let _;return _=void 0===x.items?this.itemMatch(x,h,g):this.parentItemMatch(x,o,h,g),_&&(o=x),_}).reverse()}))}),(0,q.d)({bufferSize:1,refCount:!1})),this.visibleItemList$=this.filteredItemList$.pipe((0,V.V)(this.refreshVisibleItemList$),(0,b.U)(([a])=>{let f,m=!1;return a.filter(h=>{var d;return!(void 0!==f&&f<=h.depth||(null==(d=h.isVisible)||d?(f=h.collapsed?h.depth+1:void 0,m=void 0===h.items&&!m,h.odd=m,0):(f=h.depth+1,1)))})}),(0,q.d)({bufferSize:1,refCount:!1})),this.selectedItems$=this.visibleItemList$.pipe((0,V.V)(this.valueField$,this.refreshSelection$),(0,M.h)(([a])=>(null==a?void 0:a.length)>0),(0,y.w)(([a,m,f])=>{const h=f.selectItems,d=f.unselectItems,v=f.toggle,g=f.checkSelectable,n=f.selectParents,o=f.selectModels,x=f.selectValues;let _;delete f.selectItems,delete f.unselectItems,delete f.toggle,delete f.checkSelectable,delete f.selectParents,delete f.selectModels,delete f.selectValues,_=d?("all"===d?a:d).filter(Z=>{var F;return Z.selecting=!Z.selected&&void 0,!(null==(F=Z.selecting)||F)}):[],h&&("all"===h?_=a.filter(u=>(u.selecting=(n||!u.items)&&(!g||u.isSelectable)||u.selecting,void 0!==u.selecting)):(null==h?void 0:h.length)&&(_=[..._,...h.filter(u=>(u.selecting=!g||u.isSelectable||u.selecting,void 0!==u.selecting))])),o&&(_=[..._,...a.filter(u=>(u.selecting=(!g||u.isSelectable)&&o.some(Z=>this.compareModels(Z,u.model,m))||u.selecting,void 0!==u.selecting))]),x&&(_=[..._,...a.filter(u=>(u.selecting=(!g||u.isSelectable)&&x.some(Z=>Z===u.id)||u.selecting,void 0!==u.selecting))]),v&&v.forEach(u=>{u.selecting=!u.selected,_.push(u)});const T=_.filter(u=>u.selecting),A=_.filter(u=>!u.selecting);return(T.length&&this.selectingItems?this.selectingItems(T):(0,I.of)(T)).pipe((0,b.U)(u=>null==u?void 0:u.forEach(Z=>Z.selected=!0)),(0,y.w)(()=>A.length&&this.unSelectingItems?this.unSelectingItems(A):(0,I.of)(A)),(0,b.U)(u=>(null==u||u.forEach(Z=>Z.selected=!1),_.forEach(Z=>delete Z.selecting),a.filter(Z=>Z.selected))))}),(0,be.O)([]),(0,q.d)({bufferSize:1,refCount:!1}))}mapToItem(t,s,r,c){return t.map(a=>{const m=new E;if(m.model=a,"string"==typeof a)m.id=a,m.label=a;else{const f=this.extractValueField(a,r);void 0!==f&&(m.label=f);const h=this.extractValueField(a,s);if(void 0!==h&&(m.id=h),c){const d=this.extractValueField(a,c);d&&d instanceof Array&&(m.items=this.mapToItem(d,s,r,c))}}return m})}unselectAll(){this.refreshSelection$.next({unselectItems:"all"})}selectAll(t){this.refreshSelection$.next({selectItems:"all",checkSelectable:t})}unSelectItem(t){this.refreshSelection$.next({unselectItems:[t]})}selectItem(t){this.refreshSelection$.next({selectItems:[t]})}unSelectItems(t){this.refreshSelection$.next({unselectItems:t})}selectItems(t){this.refreshSelection$.next({selectItems:t})}setSelectedItems(t){this.refreshSelection$.next({unselectItems:"all",selectItems:t})}setSelectedModels(t){this.refreshSelection$.next({unselectItems:"all",selectModels:t})}setSelectedValues(t){this.refreshSelection$.next({unselectItems:"all",selectValues:t})}toggleSelect(t){this.refreshSelection$.next({toggle:t})}getItemIndexFromHtmlElement(t){for(;(null==t?void 0:t.parentElement)&&t.hasAttribute&&!t.hasAttribute("flat")&&"BODY"!==t.parentElement.tagName;)t=t.parentElement;if(t&&t.hasAttribute("flat"))return+t.getAttribute("flat")}itemMatch(t,s,r){var m;const a=null!=(m=s&&t[s])?m:t.label;return a&&r.test(this.diacriticService.remove(a))}parentItemMatch(t,s,r,c){return s&&s.depth===t.depth+1}extractValueField(t,s){const r=t;return s.split(".").reduce((a,m)=>a[m],r)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(w.R5))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Ie=(()=>{class i{sort(t,s){if(null==t?void 0:t.length){const r=s instanceof Array?s:[s];let c=r.length;for(;--c>=0;){const a=r[c];t=(0,Ce.Z)(t,a.name),"descending"===a.order&&(t=t.reverse())}}return t}sortTree(t,s,r="items"){return this.sort(t,s).map(c=>((null==c?void 0:c[r])&&(null==c?void 0:c[r])instanceof Array&&this.sortTree(c[r],s,r),c))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[D.ez]]}),i})();var K=p(7020),ue=p(9129),re=p(8686),X=p(273),P=p(6263),O=p(9952),Y=p(8660),Se=p(5488),Q=p(5077),ye=p(9417);const qe=["itemTemplate"],Me=["parentItemTemplate"],$e=["headerTemplate"],Ue=["searchPrefixTemplate"],Le=["searchSuffixTemplate"],Ee=["listElement"],Pe=["inputelement"];function De(i,l){}function Fe(i,l){if(1&i&&(e.TgZ(0,"span",12),e.YNc(1,De,0,0,"ng-template",13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchPrefixTemplate)}}function Ne(i,l){}function Je(i,l){if(1&i&&(e.TgZ(0,"span",14),e.YNc(1,Ne,0,0,"ng-template",13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchSuffixTemplate)}}function Ve(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"mat-form-field",7),e.TgZ(2,"input",8,9),e.NdJ("input",function(){e.CHM(t);const r=e.MAs(4);return e.oxw().itemService.query$.next(r&&r.value)}),e.ALo(5,"async"),e.qZA(),e.YNc(6,Fe,2,1,"span",10),e.YNc(7,Je,2,1,"span",11),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",e.lcZ(5,5,t.itemService.query$))("placeholder",t.placeholder)("disabled",t.disabled),e.xp6(4),e.Q6J("ngIf",t.searchPrefixTemplate),e.xp6(1),e.Q6J("ngIf",t.searchSuffixTemplate)}}function Qe(i,l){}function Re(i,l){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,Qe,0,0,"ng-template",13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function ke(i,l){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.hintLabel)}}function He(i,l){if(1&i&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.nodataholder)}}function Oe(i,l){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"arrow_drop_down"),e.qZA())}function Ye(i,l){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.label)}}function je(i,l){}const he=function(i,l,t){return{$implicit:i,query:l,flatindex:t}};function ze(i,l){if(1&i&&(e.ynx(0),e.YNc(1,je,0,0,"ng-template",23),e.BQk()),2&i){const t=e.oxw(),s=t.$implicit,r=t.index,c=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",c.parentItemTemplate)("ngTemplateOutletContext",e.kEZ(2,he,s,c.query,r))}}function We(i,l){}function Ge(i,l){if(1&i&&(e.ynx(0),e.YNc(1,We,0,0,"ng-template",23),e.BQk()),2&i){const t=e.oxw(),s=t.$implicit,r=t.index,c=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.kEZ(2,he,s,c.query,r))}}function Be(i,l){if(1&i&&(e.TgZ(0,"span",22),e.YNc(1,Oe,2,0,"mat-icon",5),e.qZA(),e.YNc(2,Ye,2,1,"ng-container",5),e.YNc(3,ze,2,6,"ng-container",5),e.YNc(4,Ge,2,6,"ng-container",5)),2&i){const t=l.$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.items?null:t.items.length),e.xp6(1),e.Q6J("ngIf",(!t.items||!s.parentItemTemplate)&&(t.items||!s.itemTemplate)),e.xp6(1),e.Q6J("ngIf",t.items&&s.parentItemTemplate),e.xp6(1),e.Q6J("ngIf",!t.items&&s.itemTemplate)}}function Ke(i,l){if(1&i&&(e.TgZ(0,"viewport",20),e.YNc(1,Be,5,4,"ng-template",null,21,e.W1O),e.qZA()),2&i){const t=e.oxw().ngIf,s=e.oxw();e.Q6J("items",t)("itemSize",s.viewPortRowHeight)("viewPortMode",s.viewPortMode)("debugMode",s.debugMode)}}function Xe(i,l){if(1&i&&(e.ynx(0),e.YNc(1,He,2,1,"div",17),e.YNc(2,Ke,3,4,"viewport",18),e.BQk()),2&i){const t=l.ngIf;e.xp6(1),e.Q6J("ngIf",!t.length),e.xp6(1),e.Q6J("ngIf",t.length)}}let et=(()=>{class i extends w.yl{constructor(t,s,r,c,a){super(),this.elementRef=t,this.control=s,this.changeDetectorRef=a,this.selectedChange=new e.vpe,this.itemCollapse=new e.vpe,this.itemExpand=new e.vpe,this.itemEnter=new e.vpe,this.queryChange=new e.vpe,this.debugMode=!1,this._disabled=null,this.ngModelType$=new U.X("value"),this._ngModelType="value",this.writeValue$=new R.t(1),this.multiSelect$=new U.X(!1),this._multiSelect=!1,this.listElement$=new R.t(1),this.inputElement$=new R.t(1),this.raiseChangeCallback=!1,this._pageSize=0,this.filterExpression="",this.viewPortComponent$=new R.t(1),this._viewPortRowHeight=40,this.keyboardStartIndex=void 0,this.collapseItem$=new X.x,this._searchArea=!1,this.reloadViewPort$=new U.X(void 0),this.onTouchedCallback=()=>{},this.onChangeCallback=n=>{},this.itemService=c||r,this.listElementId=`listcontainer_${(1e9*Math.random()).toString().substr(10)}`,this.control&&(this.control.valueAccessor=this);const m=this.viewPortComponent$.pipe((0,M.h)(n=>!!n),(0,y.w)(n=>n.viewPort$));this.viewPort$=m.pipe((0,V.V)(this.reloadViewPort$),(0,b.U)(([n])=>n)),this.viewPortComponent$.pipe((0,M.h)(n=>!!n),(0,y.w)(n=>n.itemClass),(0,P.R)(this.destroyed$)).subscribe(n=>{const o=n.item;(null==o?void 0:o.selected)&&n.classes.push("selected"),o===this.currentItem&&n.classes.push("current"),o.className&&n.classes.push(o.className),(o.collapsing||o.expanding)&&n.classes.push("hide"),o.items&&n.classes.push("parent"),o.collapsed&&n.classes.push("collapsed"),o.isSelectable||n.classes.push("unselectable"),o.odd&&n.classes.push("odd"),o.depth&&n.classes.push(`depth${o.depth}`)}),this.itemService.selectedItems$.pipe((0,k.b)(n=>{if(this._selectedItems=n,this.raiseChangeCallback&&(this.onChangeCallback(this.value),this.onTouchedCallback(),this.raiseChangeCallback=!1,this.selectedChange.observed)){const o=this.selectedModels;this.selectedChange.next({item:n[0],model:o[0],items:n,models:o})}}),(0,O.M)(this.viewPortComponent$),(0,M.h)(([n,o])=>!!o),(0,Y.g)(1),(0,P.R)(this.destroyed$)).subscribe(([n,o])=>{o.reloadViewPort()}),this.itemService.query$.pipe((0,b.U)(n=>n||""),(0,Se.x)(),(0,M.h)(n=>"string"==typeof n),(0,P.R)(this.destroyed$)).subscribe(n=>{this._query=n,this.queryChange.emit(this._query)});const f=this.ngModelType$.pipe((0,k.b)(n=>this._ngModelType=n));this.writeValue$.pipe((0,V.V)(this.multiSelect$,f),(0,P.R)(this.destroyed$)).subscribe(([n,o,x])=>{if(n)if(o)switch(x){case"item":this.selectedItems=n;break;case"model":this.selectedModels=n;break;default:this.selectedValues=n}else switch(x){case"item":this.selectedItem=n;break;case"model":this.selectedModel=n;break;default:this.selectedValue=n}else this.itemService.unselectAll()}),this.listElement$.pipe((0,y.w)(n=>(0,Q.R)(n,"dblclick")),(0,P.R)(this.destroyed$)).subscribe(()=>window.getSelection().empty()),this.listElement$.pipe((0,y.w)(n=>(0,Q.R)(n,"mousedown").pipe((0,O.M)(this.viewPort$,this.itemService.visibleItemList$),(0,y.w)(([o,x,_])=>{if(this.disabled)return(0,I.of)(null);const T=o.target,A=this.itemService.getItemIndexFromHtmlElement(T);if(void 0===A)return(0,I.of)(null);const $=Z=>Z.hasAttribute("expandbtn")||Z.parentElement.hasAttribute("expandbtn"),u=x.visibleItems[A-x.startIndex];if((!$(T)||!u.isCollapsible)&&u.isSelectable&&(!o.ctrlKey||!this.multiSelect)&&(0===o.button||!u.selected)){if(o.shiftKey&&this.multiSelect){const Z=Math.max(_.findIndex(N=>this.currentItem===N),0),F=_.slice(Math.min(Z,A),Math.max(Z,A)+1).filter(N=>N.isSelectable);return this.raiseChangeCallback=!0,this.itemService.setSelectedItems(F),this.viewPortComponent.reloadViewPort(),(0,I.of)(null)}if(!o.ctrlKey){if(!this.multiSelect&&u.selected)return(0,I.of)(null);if(!this.multiSelect||!u.selected)return this.raiseChangeCallback=!0,this.itemService.setSelectedItems([u]),this.currentItem=u,this.ensureItemVisible(u),this.viewPortComponent.reloadViewPort(),this.lastClickedItem=u,(0,I.of)(u)}}return(0,Q.R)(n,"mouseup").pipe((0,M.h)(()=>!this.disabled),(0,k.b)(Z=>{const F=Z.target,N=this.itemService.getItemIndexFromHtmlElement(F);if(void 0===N)return;const C=x.visibleItems[N-x.startIndex];u&&C!==u||0===Z.button&&(!C.isCollapsible||!$(F)&&C.isSelectable&&this.lastClickedItem!==C?C.isSelectable?(this.raiseChangeCallback=!0,Z.ctrlKey&&this.multiSelect?this.itemService.toggleSelect([C]):Z.ctrlKey&&C.selected?this.itemService.unselectAll():this.itemService.setSelectedItems([C]),this.keyboardStartIndex=void 0,this.currentItem=C,this.ensureItemVisible(C),this.viewPortComponent.reloadViewPort(),this.lastClickedItem=C):this.lastClickedItem=C:(this.collapseItem$.next(C),this.ensureItemVisible(C)))}),(0,Y.g)(300),(0,k.b)(()=>{this.lastClickedItem=void 0}))}))),(0,P.R)(this.destroyed$)).subscribe();const h=this.inputElement$.pipe((0,y.w)(n=>n?(0,Q.R)(n,"keydown"):(0,I.of)(null)),(0,M.h)(n=>!!n));this.listElement$.pipe((0,y.w)(n=>(0,Q.R)(n,"keydown"))).pipe((0,G.b)(h),(0,M.h)(()=>!this.disabled),(0,M.h)(n=>{const o=n.code;return o===w.mW.Home||o===w.mW.End||o===w.mW.PageUp||o===w.mW.PageDown||o===w.mW.UpArrow||o===w.mW.DownArrow||o===w.mW.Space||o===w.mW.Enter}),(0,O.M)(this.viewPort$,this.itemService.visibleItemList$,this.listElement$),(0,P.R)(this.destroyed$)).subscribe(([n,o,x,_])=>{var N,C,Te,we;let T=!1;(null==_?void 0:_.clientHeight)&&this.viewPortRowHeight&&0===this.pageSize&&(this.pageSize=Math.floor(_.clientHeight/+this.viewPortRowHeight));const A=L=>{this.currentItem=o.items[L],this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort()},$=(L,Ae)=>{const jt=x.slice(Math.min(L,Ae),Math.max(L,Ae)+1).filter(zt=>zt.isSelectable);this.raiseChangeCallback=!0,this.itemService.setSelectedItems(jt)},u=L=>{this.multiSelect&&n.shiftKey?($(Z,L),this.ensureItemVisible(L),this.viewPortComponent.reloadViewPort()):(n.ctrlKey||(this.raiseChangeCallback=!0,this.selectedItem=o.items[L]),A(L)),this.keyboardStartIndex=L,T=!0},Z=x.findIndex(L=>this.currentItem===L);let F;switch(n.code){case w.mW.Home:this.multiSelect&&n.shiftKey?$(Z,0):n.ctrlKey||(this.raiseChangeCallback=!0,this.selectedItem=o.items[0]),A(0),this.keyboardStartIndex=0,T=!0;break;case w.mW.End:this.multiSelect&&n.shiftKey?$(Z,x.length-1):n.ctrlKey||(this.raiseChangeCallback=!0,this.selectedItem=o.items[o.items.length-1]),A(o.items.length-1),this.keyboardStartIndex=o.items.length-1,T=!0;break;case w.mW.PageUp:u(Math.max(0,(null!=(N=this.keyboardStartIndex)?N:Z)-this._pageSize));break;case w.mW.PageDown:u(Math.max(0,(null!=(C=this.keyboardStartIndex)?C:Z)+this._pageSize));break;case w.mW.UpArrow:u(Math.max(0,(null!=(Te=this.keyboardStartIndex)?Te:Z)-1));break;case w.mW.DownArrow:u(Math.min(o.items.length-1,(null!=(we=this.keyboardStartIndex)?we:Z)+1));break;case w.mW.Space:if(F=n.target,"INPUT"===F.tagName&&!n.ctrlKey&&!n.shiftKey)return;this.currentItem&&(this.currentItem.isCollapsible?(this.collapseItem$.next(this.currentItem),this.ensureItemVisible(this.currentItem)):(this.raiseChangeCallback=!0,this.currentItem.selected||this.multiSelect&&n.ctrlKey?this.itemService.toggleSelect([this.currentItem]):this.selectedItem=this.currentItem,this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort()));break;case w.mW.Enter:this.currentItem&&(this.currentItem.isCollapsible?(this.collapseItem$.next(this.currentItem),this.ensureItemVisible(this.currentItem)):this.currentItem.isSelectable&&(this.itemEnter.observed?this.itemEnter.next({item:this.currentItem,items:[this.currentItem],model:this.currentItem.model,models:this.currentItem.model&&[this.currentItem.model]}):(this.raiseChangeCallback=!0,this.selectedItem=this.currentItem,this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort())));break;default:this.keyboardStartIndex=void 0}T&&(n.preventDefault(),n.stopPropagation())});const v=this.inputElement$.pipe((0,y.w)(n=>{if(n){const o=(0,Q.R)(n,"keyup"),x=(0,Q.R)(n,"drop");return o.pipe((0,G.b)(x))}return(0,I.of)(null)}),(0,M.h)(n=>!!n));this.listElement$.pipe((0,y.w)(n=>(0,Q.R)(n,"keyup"))).pipe((0,G.b)(v),(0,M.h)(()=>!this.disabled),(0,M.h)(n=>{const o=n.code;return o>=w.mW.Key0||o===w.mW.Backspace||o===w.mW.Space||o===w.mW.Delete}),(0,O.M)(this.viewPort$),(0,M.h)(([n,o])=>{var x;return(null==(x=o.items)?void 0:x.length)>0}),(0,y.w)(([n,o])=>{if(!this.searchArea&&/[a-zA-Z0-9]/.test(n.key)){const x=()=>{const _=new RegExp(`^${this.filterExpression}`,"i"),T=Math.max(o.items.findIndex($=>this.currentItem===$),0);let A=this.filterExpression.length>1?T:T+1;return o.items.some(()=>{const $=o.items[A];return(null==$?void 0:$.isSelectable)&&_.test($.label)?(this.raiseChangeCallback=!0,this.selectedItem=this.currentItem=$,this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort(),!0):(A++,A>=o.items.length&&(A=0),!1)})};this.filterExpression+=n.key,x()?(n.preventDefault(),n.stopPropagation()):(this.filterExpression=n.key,x()&&(n.preventDefault(),n.stopPropagation()))}return(0,ye.H)(1e3)}),(0,P.R)(this.destroyed$)).subscribe(()=>{this.filterExpression=""}),this.collapseItem$.pipe((0,y.w)(n=>!n.collapsed&&this.collapsingItem?this.collapsingItem(n):this.expandingItem?this.expandingItem(n):(0,I.of)(n)),(0,M.h)(n=>!!n),(0,P.R)(this.destroyed$)).subscribe(n=>{n.collapsed=!n.collapsed,this.itemService.refreshVisibleItemList$.next();const o={item:n,model:n.model,items:[n],models:[n.model]};n.collapsed?this.itemCollapse.emit(o):this.itemExpand.emit(o)}),this.maxHeight=0}set viewPortComponent(t){this.viewPortComponent$.next(t),this._viewPortComponent=t}get viewPortComponent(){return this._viewPortComponent}set options(t){(null==t?void 0:t.length)&&this.itemService.options$.next(t)}set viewPortRowHeight(t){this._viewPortRowHeight=(0,J.su)(t)}get viewPortRowHeight(){return this._viewPortRowHeight}set items(t){delete this.hintLabel,this.itemService.items$.next(t)}set models(t){this.itemService.models$.next(t)}set selectedItems(t){this.itemService.setSelectedItems(t)}get selectedItems(){return this._selectedItems}set selectedItem(t){this.itemService.setSelectedItems(t&&[t])}get selectedItem(){var t;return null==(t=this.selectedItems)?void 0:t[0]}set selectedModel(t){this.itemService.setSelectedModels(t&&[t])}get selectedModel(){var t;return null==(t=this.selectedModels)?void 0:t[0]}set selectedModels(t){this.itemService.setSelectedModels(t)}get selectedModels(){var t;return null==(t=this.selectedItems)?void 0:t.map(s=>s.model)}set selectedValue(t){this.itemService.setSelectedValues(t&&[t])}get selectedValue(){var t;return null==(t=this.selectedValues)?void 0:t[0]}set selectedValues(t){this.itemService.setSelectedValues(t)}get selectedValues(){var t;return null==(t=this.selectedItems)?void 0:t.map(s=>s.id)}set ngModelType(t){this.ngModelType$.next(t)}set multiSelect(t){this._multiSelect=(0,J.Ig)(t),this.multiSelect$.next(this._multiSelect)}get multiSelect(){return this._multiSelect}set query(t){this.itemService.query$.next(t)}get query(){return this._query}set selectingItems(t){this.itemService.selectingItems=t}set unSelectingItems(t){this.itemService.unSelectingItems=t}set listElememtRef(t){this.listElement$.next(null==t?void 0:t.nativeElement)}set inputElememtRef(t){this.inputElement$.next(null==t?void 0:t.nativeElement)}set disabled(t){const s=(0,J.Ig)(t);this._disabled=s||null}get disabled(){return this._disabled}set childrenField(t){this.itemService.childrenField$.next(t)}set textField(t){this.itemService.textField$.next(t)}set valueField(t){this.itemService.valueField$.next(t)}set currentItem(t){this._currentItem=t}get currentItem(){return this._currentItem}set pageSize(t){this._pageSize=(0,J.su)(t)}get pageSize(){return this._pageSize}set maxHeight(t){this._maxHeight=(0,J.su)(t)}get maxHeight(){return this._maxHeight}set searchArea(t){this._searchArea=(0,J.Ig)(t)}get searchArea(){return this._searchArea}set minSearchlength(t){this.itemService.minSearchLength$.next((0,J.su)(t))}set hintLabel(t){this._hintLabel=t}get hintLabel(){return this._hintLabel}set searchField(t){this.itemService.searchField$.next(t)}set inputValidatorDirective(t){t&&(t.parentControl=this.control)}get itemTemplate(){return this.itemTemplateExternal||this.itemTemplateInternal}get parentItemTemplate(){return this.parentItemTemplateExternal||this.parentItemTemplateInternal}get headerTemplate(){return this.headerTemplateExternal||this.headerTemplateInternal}get searchPrefixTemplate(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal}get searchSuffixTemplate(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal}get value(){if(this._multiSelect)switch(this._ngModelType){case"item":return this.selectedItems;case"model":return this.selectedModels;default:return this.selectedValues}else switch(this._ngModelType){case"item":return this.selectedItem;case"model":return this.selectedModel;default:return this.selectedValue}}set value(t){this.writeValue(t),this.onChangeCallback(t),this.onTouchedCallback()}writeValue(t){this.writeValue$.next(t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ensureItemVisible(t){this.viewPortComponent&&this.viewPortComponent.ensureVisible(t)}reloadViewPort(){this.viewPortComponent&&this.viewPortComponent.reloadViewPort()}refreshViewPort(t){this.viewPortComponent&&this.viewPortComponent.refreshViewPort(t)}clearViewPort(){this.viewPortComponent&&this.viewPortComponent.clearViewPort()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(S.a5,10),e.Y36(se),e.Y36(se,12),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tree-list"]],contentQueries:function(t,s,r){if(1&t&&(e.Suo(r,qe,5),e.Suo(r,Me,5),e.Suo(r,$e,5),e.Suo(r,Ue,5),e.Suo(r,Le,5),e.Suo(r,me,4)),2&t){let c;e.iGM(c=e.CRH())&&(s.itemTemplateInternal=c.first),e.iGM(c=e.CRH())&&(s.parentItemTemplateInternal=c.first),e.iGM(c=e.CRH())&&(s.headerTemplateInternal=c.first),e.iGM(c=e.CRH())&&(s.searchPrefixTemplateInternal=c.first),e.iGM(c=e.CRH())&&(s.searchSuffixTemplateInternal=c.first),e.iGM(c=e.CRH())&&(s.options=c)}},viewQuery:function(t,s){if(1&t&&(e.Gf(re.Ef,5),e.Gf(Ee,7),e.Gf(Pe,5),e.Gf(w.TW,5)),2&t){let r;e.iGM(r=e.CRH())&&(s.viewPortComponent=r.first),e.iGM(r=e.CRH())&&(s.listElememtRef=r.first),e.iGM(r=e.CRH())&&(s.inputElememtRef=r.first),e.iGM(r=e.CRH())&&(s.inputValidatorDirective=r.first)}},hostVars:1,hostBindings:function(t,s){2&t&&e.uIk("disabled",s._disabled)},inputs:{placeholder:"placeholder",viewPortMode:"viewPortMode",nodataholder:"nodataholder",itemTemplateExternal:"itemTemplateExternal",parentItemTemplateExternal:"parentItemTemplateExternal",headerTemplateExternal:"headerTemplateExternal",searchPrefixTemplateExternal:"searchPrefixTemplateExternal",searchSuffixTemplateExternal:"searchSuffixTemplateExternal",expandingItem:"expandingItem",collapsingItem:"collapsingItem",debugMode:"debugMode",viewPortRowHeight:"viewPortRowHeight",items:"items",models:"models",selectedItems:"selectedItems",selectedItem:"selectedItem",selectedModel:"selectedModel",selectedModels:"selectedModels",selectedValue:"selectedValue",selectedValues:"selectedValues",ngModelType:"ngModelType",multiSelect:"multiSelect",query:"query",selectingItems:"selectingItems",unSelectingItems:"unSelectingItems",disabled:"disabled",childrenField:"childrenField",textField:"textField",valueField:"valueField",currentItem:"currentItem",pageSize:"pageSize",maxHeight:"maxHeight",searchArea:"searchArea",minSearchlength:["min-search-length","minSearchlength"],hintLabel:"hintLabel",searchField:"searchField"},outputs:{selectedChange:"selectedChange",itemCollapse:"itemCollapse",itemExpand:"itemExpand",itemEnter:"itemEnter",queryChange:"queryChange"},features:[e._Bn([se]),e.qOj],decls:8,vars:13,consts:[["id","header",4,"ngIf"],["id","listheader",4,"ngIf"],["tabindex","1",1,"listcontainer",3,"id"],["listElement",""],["id","error-hint",4,"ngIf"],[4,"ngIf"],["id","header"],["deja-child-validator","","id","input"],["type","text","matInput","","tabindex","0",3,"ngModel","placeholder","disabled","input"],["inputelement","","model","ngModel"],["matPrefix","",4,"ngIf"],["matSuffix","",4,"ngIf"],["matPrefix",""],[3,"ngTemplateOutlet"],["matSuffix",""],["id","listheader"],["id","error-hint"],["id","nodata-holder",4,"ngIf"],[3,"items","itemSize","viewPortMode","debugMode",4,"ngIf"],["id","nodata-holder"],[3,"items","itemSize","viewPortMode","debugMode"],["viewPortItemTemplate",""],["expandbtn",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,s){1&t&&(e.YNc(0,Ve,8,7,"div",0),e.ALo(1,"async"),e.YNc(2,Re,2,1,"div",1),e.TgZ(3,"div",2,3),e.YNc(5,ke,2,1,"div",4),e.YNc(6,Xe,3,2,"ng-container",5),e.ALo(7,"async"),e.qZA()),2&t&&(e.Q6J("ngIf",s.searchArea||e.lcZ(1,9,s.itemService.minSearchLength$)),e.xp6(2),e.Q6J("ngIf",s.headerTemplate),e.xp6(1),e.Udp("max-height",s.maxHeight||null,"px"),e.ekj("hasheader",s.headerTemplate),e.Q6J("id",s.listElementId),e.xp6(2),e.Q6J("ngIf",s.hintLabel),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,11,s.itemService.visibleItemList$)))},directives:[D.O5,H.KE,w.TW,W.Nt,S.Fj,S.JJ,S.On,H.qo,D.tP,H.R9,re.Ef,z.Hw],pipes:[D.Ov],styles:["tree-list{display:flex;position:relative;flex-direction:column;align-content:stretch;overflow:hidden}tree-list.ng-invalid #input .mat-form-field-wrapper .mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:scaleY(1)}tree-list #input{outline:none}tree-list #header{flex:0 0 auto;align-items:center;display:flex}tree-list #header #input{flex:1 1 auto}tree-list #header button{flex:0 0 auto;margin:16px .5rem 16px 0}tree-list #listheader{flex:0 0 auto;overflow:hidden;box-sizing:border-box}tree-list .listcontainer{flex:1 1 auto;outline:none;overflow:auto;display:flex;flex-direction:column;padding:0;margin:0;position:relative}tree-list .listcontainer.hasheader{border-top:0}tree-list .listcontainer[valign=bottom]{border-top:none}tree-list .listcontainer #nodata-holder{margin:.5rem}tree-list .listcontainer #error-hint{margin:.5rem;flex:0 0 auto}tree-list .listcontainer viewport{flex:1 1 100%}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth0{padding-left:0}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth1{padding-left:1rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth2{padding-left:2rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth3{padding-left:3rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth4{padding-left:4rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth5{padding-left:5rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth6{padding-left:6rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth7{padding-left:7rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth8{padding-left:8rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth9{padding-left:9rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth10{padding-left:10rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth11{padding-left:11rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth12{padding-left:12rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth13{padding-left:13rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth14{padding-left:14rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth15{padding-left:15rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth16{padding-left:16rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth17{padding-left:17rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth18{padding-left:18rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth19{padding-left:19rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth20{padding-left:20rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth21{padding-left:21rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth22{padding-left:22rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth23{padding-left:23rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth24{padding-left:24rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth25{padding-left:25rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth26{padding-left:26rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth27{padding-left:27rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth28{padding-left:28rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth29{padding-left:29rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth30{padding-left:30rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth31{padding-left:31rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth32{padding-left:32rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth33{padding-left:33rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth34{padding-left:34rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth35{padding-left:35rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth36{padding-left:36rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth37{padding-left:37rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth38{padding-left:38rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth39{padding-left:39rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth40{padding-left:40rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth41{padding-left:41rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth42{padding-left:42rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth43{padding-left:43rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth44{padding-left:44rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth45{padding-left:45rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth46{padding-left:46rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth47{padding-left:47rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth48{padding-left:48rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth49{padding-left:49rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth50{padding-left:50rem}tree-list .listcontainer viewport div.listitem{opacity:1;margin:0;transition-timing-function:linear;transition-duration:.3s;transition-property:max-height,opacity;display:flex;align-items:center}tree-list .listcontainer viewport div.listitem.hide{opacity:0!important;max-height:0!important;transition-timing-function:ease-out}tree-list .listcontainer viewport div.listitem:not(.unselectable):hover{cursor:pointer}tree-list .listcontainer viewport div.listitem [expandbtn]{width:24px;cursor:pointer;opacity:.6;padding-top:2px}tree-list .listcontainer viewport div.listitem.parent.collapsed [expandbtn]>.mat-icon{transform:rotate(-90deg)}\n"],encapsulation:2,changeDetection:0}),i})(),tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[D.ez,w.ET,S.u5,pe,z.Ps,W.c,re.J0]]}),i})();var fe=p(3394),it=p(6412),nt=p(9183),st=p(3507),rt=p(7333),lt=p(8410),ot=p(9985),at=p(9947),ge=p(8889);class ct extends ge.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var mt=p(5724),pt=p(6302),ve=p(8106),ut=p(8838),xe=p(5517),_e=p(7379),ht=p(1675),ft=p(7991),gt=p(411);const vt=["news"],xt=["onexpand"],_t=["bigCountries"];function Zt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).dialogResponse$.next("cancel")}),e._uU(1,"Cancel"),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).dialogResponse$.next("ok")}),e._uU(3,"Ok"),e.qZA()}}function Tt(i,l){1&i&&(e.TgZ(0,"deja-dialog"),e.TgZ(1,"deja-message-box",11),e._uU(2," Please confirm your operation! "),e.YNc(3,Zt,4,0,"ng-template",null,12,e.W1O),e.qZA(),e.qZA())}function wt(i,l){1&i&&(e.TgZ(0,"mat-card",15),e._UZ(1,"deja-markdown",16),e.qZA()),2&i&&(e.xp6(1),e.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/v2/tree-list/readme.md"))}const Ze=function(){return["Mango","Apricots","Coconut"]};function At(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Simple Usage"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div"),e._uU(6,"Just passing an array of objects"),e.qZA(),e.TgZ(7,"div",19),e.TgZ(8,"span",20),e.TgZ(9,"tree-list",21),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().country=r}),e.ALo(10,"async"),e.qZA(),e.qZA(),e.TgZ(11,"span",22),e.TgZ(12,"h4"),e._uU(13,"Selected country model :"),e.qZA(),e.TgZ(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"mat-card",17),e.TgZ(18,"mat-toolbar",18),e._uU(19,"Keyboard Navigation"),e.qZA(),e.TgZ(20,"mat-card-content"),e.TgZ(21,"div"),e._uU(22,"tree-list has some keyboard navigation feature"),e.qZA(),e.TgZ(23,"div",19),e.TgZ(24,"span",20),e.TgZ(25,"tree-list",23),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().country=r}),e.ALo(26,"async"),e.qZA(),e.qZA(),e.TgZ(27,"ul",24),e.TgZ(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"\u2191"),e.qZA(),e._uU(32," to select the previous item"),e.qZA(),e.TgZ(33,"li"),e._uU(34,"Press "),e.TgZ(35,"span",25),e._uU(36,"\u2193"),e.qZA(),e._uU(37," to select the next item"),e.qZA(),e.TgZ(38,"li"),e._uU(39,"Press "),e.TgZ(40,"span",25),e._uU(41,"Ctrl"),e.qZA(),e.TgZ(42,"span",25),e._uU(43,"\u2191"),e.qZA(),e._uU(44," to change the current item to the previous"),e.qZA(),e.TgZ(45,"li"),e._uU(46,"Press "),e.TgZ(47,"span",25),e._uU(48,"Ctrl"),e.qZA(),e.TgZ(49,"span",25),e._uU(50,"\u2193"),e.qZA(),e._uU(51," to change the current item to the next"),e.qZA(),e.TgZ(52,"li"),e._uU(53,"Press "),e.TgZ(54,"span",25),e._uU(55,"Shift"),e.qZA(),e.TgZ(56,"span",25),e._uU(57,"\u2191"),e.qZA(),e._uU(58," to change the current item to the previous"),e.qZA(),e.TgZ(59,"li"),e._uU(60,"Press "),e.TgZ(61,"span",25),e._uU(62,"Shift"),e.qZA(),e.TgZ(63,"span",25),e._uU(64,"\u2193"),e.qZA(),e._uU(65," to change the current item to the next"),e.qZA(),e.TgZ(66,"li"),e._uU(67,"Press "),e.TgZ(68,"span",25),e._uU(69,"PageUp"),e.qZA(),e._uU(70," to select the next page item"),e.qZA(),e.TgZ(71,"li"),e._uU(72,"Press "),e.TgZ(73,"span",25),e._uU(74,"PageDown"),e.qZA(),e._uU(75," to select the previous page item"),e.qZA(),e.TgZ(76,"li"),e._uU(77,"Press "),e.TgZ(78,"span",25),e._uU(79,"Home"),e.qZA(),e._uU(80," to select the first item"),e.qZA(),e.TgZ(81,"li"),e._uU(82,"Press "),e.TgZ(83,"span",25),e._uU(84,"End"),e.qZA(),e._uU(85," to select the last item"),e.qZA(),e.TgZ(86,"li"),e._uU(87,"Press "),e.TgZ(88,"span",25),e._uU(89,"Space"),e.qZA(),e._uU(90," to collapse/expand a group header or to select/unselect the current item"),e.qZA(),e.TgZ(91,"li"),e._uU(92,"Press "),e.TgZ(93,"span",25),e._uU(94,"A"),e.qZA(),e._uU(95,".. "),e.TgZ(96,"span",25),e._uU(97,"Z"),e.qZA(),e.TgZ(98,"span",25),e._uU(99,"0"),e.qZA(),e._uU(100,".. "),e.TgZ(101,"span",25),e._uU(102,"9"),e.qZA(),e._uU(103," to select the next item started with the pressed key"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(104,"mat-card",17),e.TgZ(105,"mat-toolbar",18),e._uU(106,"Treelist with options"),e.qZA(),e.TgZ(107,"mat-card-content"),e.TgZ(108,"div"),e._uU(109,"These treelists has a list coming from html options"),e.qZA(),e.TgZ(110,"span",19),e.TgZ(111,"tree-list",26),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().fruct=r}),e._UZ(112,"item",27),e._UZ(113,"item",28),e._UZ(114,"item",29),e._UZ(115,"item",30),e._UZ(116,"item",31),e._UZ(117,"item",32),e._UZ(118,"item",33),e._UZ(119,"item",34),e._UZ(120,"item",35),e._UZ(121,"item",36),e._UZ(122,"item",37),e._UZ(123,"item",38),e.qZA(),e.TgZ(124,"tree-list",39),e._UZ(125,"item",40),e._UZ(126,"item",41),e._UZ(127,"item",42),e._UZ(128,"item",43),e._UZ(129,"item",44),e._UZ(130,"item",45),e._UZ(131,"item",46),e._UZ(132,"item",47),e._UZ(133,"item",48),e._UZ(134,"item",49),e._UZ(135,"item",50),e._UZ(136,"item",51),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(137,"mat-card",17),e.TgZ(138,"mat-toolbar",18),e._uU(139,"String Array Model"),e.qZA(),e.TgZ(140,"mat-card-content"),e.TgZ(141,"span",52),e.TgZ(142,"tree-list",53),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().fruct=r}),e.qZA(),e.TgZ(143,"span",54),e._uU(144),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(145,"mat-card",17),e.TgZ(146,"mat-toolbar",18),e._uU(147,"Disabled tree-list"),e.qZA(),e.TgZ(148,"mat-card-content"),e.TgZ(149,"div"),e.TgZ(150,"mat-checkbox",55),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().disabled=r}),e._uU(151,"Check me to disable tree-list below"),e.qZA(),e.qZA(),e.TgZ(152,"div",19),e.TgZ(153,"span",20),e.TgZ(154,"tree-list",56),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().deepCountry=r}),e.ALo(155,"async"),e.qZA(),e.qZA(),e.TgZ(156,"span",22),e.TgZ(157,"h4"),e._uU(158,"Selected deep country model :"),e.qZA(),e.TgZ(159,"pre"),e._uU(160),e.ALo(161,"json"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(162,"mat-card",17),e.TgZ(163,"mat-toolbar",18),e._uU(164,"Multi level"),e.qZA(),e.TgZ(165,"mat-card-content"),e.TgZ(166,"div",19),e.TgZ(167,"span",20),e._UZ(168,"tree-list",57),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.country)("models",e.lcZ(10,16,t.countries$)),e.xp6(6),e.Oqu(e.lcZ(16,18,t.country)),e.xp6(10),e.Q6J("ngModel",t.country)("models",e.lcZ(26,20,t.countries$)),e.xp6(86),e.Q6J("ngModel",t.fruct),e.xp6(13),e.Q6J("selectedValues",e.DdM(26,Ze)),e.xp6(18),e.Q6J("ngModel",t.fruct)("models",t.fructs),e.xp6(2),e.hij("Selected fruct model is: ",t.fruct,""),e.xp6(6),e.Q6J("ngModel",t.disabled),e.xp6(4),e.Q6J("disabled",t.disabled)("ngModel",t.deepCountry)("models",e.lcZ(155,22,t.deepCountries$)),e.xp6(6),e.Oqu(e.lcZ(161,24,t.deepCountry)),e.xp6(8),e.Q6J("models",t.folders)}}function bt(i,l){if(1&i&&(e.TgZ(0,"li"),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.naqme)}}function Ct(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Oqu(t.label)}}function It(i,l){if(1&i&&(e.TgZ(0,"mat-icon",71),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&i){const t=l.$implicit;e.xp6(4),e.Oqu(t.label)}}function St(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Multi selection"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div"),e._uU(6,"Multi selection example"),e.qZA(),e.TgZ(7,"div",19),e.TgZ(8,"span",20),e.TgZ(9,"tree-list",58),e.NdJ("selectedChange",function(r){return e.CHM(t),e.oxw().multiselectModelChange(r.models)}),e.qZA(),e.qZA(),e.TgZ(10,"span",59),e.TgZ(11,"h4"),e._uU(12,"Multi selection shortcuts :"),e.qZA(),e.TgZ(13,"ul",60),e.TgZ(14,"li"),e._uU(15,"Press "),e.TgZ(16,"span",25),e._uU(17,"Ctrl"),e.qZA(),e.TgZ(18,"span",25),e._uU(19,"Space"),e.qZA(),e._uU(20," to add/remove the current item to the selection"),e.qZA(),e.TgZ(21,"li"),e._uU(22,"Press "),e.TgZ(23,"span",25),e._uU(24,"Shift"),e.qZA(),e.TgZ(25,"span",25),e._uU(26,"\u2191"),e.qZA(),e._uU(27," to select a range orf items"),e.qZA(),e.TgZ(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"Shift"),e.qZA(),e.TgZ(32,"span",25),e._uU(33,"\u2193"),e.qZA(),e._uU(34," to select a range orf items"),e.qZA(),e.qZA(),e.TgZ(35,"h4"),e._uU(36,"Selected country model :"),e.qZA(),e.TgZ(37,"ul"),e.YNc(38,bt,3,1,"li",61),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"mat-toolbar",18),e._uU(40,"Grouping and Drag Drop"),e.qZA(),e.TgZ(41,"mat-card-content"),e.TgZ(42,"div"),e._uU(43,"Grouping example"),e.qZA(),e.TgZ(44,"div",19),e.TgZ(45,"span",62),e.TgZ(46,"tree-list",63,64),e.ALo(48,"async"),e.YNc(49,Ct,2,1,"ng-template",null,65,e.W1O),e.YNc(51,It,5,1,"ng-template",null,66,e.W1O),e.qZA(),e.qZA(),e.TgZ(53,"span",22),e.TgZ(54,"div"),e._uU(55,"You can drag and drop items the the area bellow (That will display a JSON representation of the dropped model) :"),e.qZA(),e._UZ(56,"div",67,68),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"mat-toolbar",18),e._uU(59,"Autocomplete"),e.qZA(),e.TgZ(60,"mat-card-content"),e.TgZ(61,"div"),e._uU(62,"Autocomplete 2 characters minimum"),e.qZA(),e._UZ(63,"tree-list",69),e.ALo(64,"async"),e.qZA(),e.TgZ(65,"mat-toolbar",18),e._uU(66,"Variable Row Size"),e.qZA(),e.TgZ(67,"mat-card-content"),e.TgZ(68,"div"),e._uU(69,"Variable Row height example"),e.qZA(),e.TgZ(70,"div",19),e.TgZ(71,"span",20),e._UZ(72,"tree-list",70),e.ALo(73,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(47),s=e.MAs(57),r=e.oxw();e.xp6(9),e.Q6J("selectedModels",r.multiselectModel)("models",r.countriesForMultiselect),e.xp6(29),e.Q6J("ngForOf",r.multiselectModel),e.xp6(8),e.Q6J("items",e.lcZ(48,8,r.groupedCountryItems$))("mouse-draggable",r.getDragContext(t)),e.xp6(10),e.Q6J("mouse-droppable",r.getDropContext(s)),e.xp6(7),e.Q6J("models",e.lcZ(64,10,r.countries$)),e.xp6(9),e.Q6J("items",e.lcZ(73,12,r.loremList$))}}function yt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"news-card",82),e.NdJ("imageLoaded",function(){const c=e.CHM(t).$implicit;return e.oxw(2).imageLoaded(c)}),e.qZA()}2&i&&e.Q6J("item",l.$implicit.model)}function qt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",83),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).sortCountries$.next()}),e.ALo(1,"async"),e.TgZ(2,"span",84),e._uU(3," This is a header template, click to sort the list. "),e.qZA(),e._UZ(4,"deja-sort-indicator",85),e.ALo(5,"async"),e.qZA()}if(2&i){e.oxw();const t=e.MAs(21),s=e.oxw();let r;e.Udp("width",null==(r=e.lcZ(1,3,t.viewPort$))||null==r.element?null:r.element.clientWidth,"px"),e.xp6(4),e.Q6J("sort-infos",e.lcZ(5,5,s.sortInfos$))}}function Mt(i,l){if(1&i&&(e.TgZ(0,"mat-icon",71),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&i){const t=l.$implicit;e.xp6(4),e.Oqu(t.groupName)}}function $t(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",86),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onFilterTemplateClicked("Prefix")}),e._uU(1,"public"),e.qZA()}}function Ut(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",86),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onFilterTemplateClicked("Suffix")}),e._uU(1,"more_vert"),e.qZA()}}function Lt(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.model," Text d'alignement")}}function Et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",89),e._UZ(1,"input",90,91),e.TgZ(3,"deja-numeric-stepper",92),e.NdJ("increment",function(){e.CHM(t);const r=e.oxw().$implicit;return r.model=r.model+20})("decrement",function(){e.CHM(t);const r=e.oxw().$implicit;return r.model=r.model-20}),e.qZA(),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Text d'alignement"),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.model)}}function Pt(i,l){if(1&i&&(e.YNc(0,Lt,2,1,"span",87),e.YNc(1,Et,6,1,"ng-template",null,88,e.W1O)),2&i){const t=l.$implicit,s=e.MAs(2);e.Q6J("ngIf",!t.selected)("ngIfElse",s)}}function Dt(i,l){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Templating Examples"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"h1"),e._uU(6,"Item Template"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"An exemple with auto sized item template"),e.qZA(),e.TgZ(9,"tree-list",72,73),e.ALo(11,"async"),e.YNc(12,yt,1,1,"ng-template",null,65,e.W1O),e.qZA(),e.TgZ(14,"h1"),e._uU(15,"Header Template and Group Template"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"Treelist with an header template"),e.qZA(),e.TgZ(18,"div",19),e.TgZ(19,"span",20),e.TgZ(20,"tree-list",74,75),e.ALo(22,"async"),e.YNc(23,qt,6,7,"ng-template",null,76,e.W1O),e.qZA(),e.qZA(),e.TgZ(25,"span",77),e.TgZ(26,"tree-list",78),e.ALo(27,"async"),e.YNc(28,Mt,5,1,"ng-template",null,66,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"h1"),e._uU(31,"Search Prefix and Suffix Templates"),e.qZA(),e.TgZ(32,"div",19),e.TgZ(33,"span",20),e.TgZ(34,"tree-list",79),e.ALo(35,"async"),e.YNc(36,$t,2,0,"ng-template",null,80,e.W1O),e.YNc(38,Ut,2,0,"ng-template",null,81,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"h1"),e._uU(41,"Item Template including a control"),e.qZA(),e.TgZ(42,"div",19),e.TgZ(43,"span",20),e.TgZ(44,"tree-list",79),e.YNc(45,Pt,3,2,"ng-template",null,65,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(9),e.Q6J("models",e.lcZ(11,5,t.news$)),e.xp6(11),e.Q6J("models",e.lcZ(22,7,t.sortedCountries$)),e.xp6(6),e.Q6J("items",e.lcZ(27,9,t.groupedCountryItems$)),e.xp6(8),e.Q6J("models",e.lcZ(35,11,t.countries$)),e.xp6(10),e.Q6J("models",t.numbers)}}function Ft(i,l){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Pre-Selections from html inputs"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div",19),e.TgZ(6,"div",20),e.TgZ(7,"div"),e._uU(8,"Preselection with the input selectedModel"),e.qZA(),e._UZ(9,"tree-list",93),e.qZA(),e.TgZ(10,"div",94),e.TgZ(11,"div"),e._uU(12,"Preselections with the input selectedModels"),e.qZA(),e._UZ(13,"tree-list",95),e.qZA(),e.qZA(),e.TgZ(14,"div",19),e.TgZ(15,"div",20),e.TgZ(16,"div"),e._uU(17,"Preselection with the input selectedItem"),e.qZA(),e._UZ(18,"tree-list",96),e.qZA(),e._UZ(19,"div",97),e.qZA(),e.qZA(),e.TgZ(20,"mat-toolbar",18),e._uU(21,"Pre-Selections from javascript"),e.qZA(),e.TgZ(22,"mat-card-content"),e.TgZ(23,"div"),e._uU(24,"The collection fructItemsWithPreSelection has a pre-selected item"),e.qZA(),e._UZ(25,"tree-list",98),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(9),e.Q6J("models",t.fructs),e.xp6(4),e.Q6J("selectedModels",e.DdM(5,Ze))("models",t.fructs),e.xp6(5),e.Q6J("items",t.fructItems),e.xp6(7),e.Q6J("items",t.fructItemsWithPreSelection)}}function Nt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Pre-Events and on Demand"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"h1"),e._uU(6,"Confirm Selection"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"A dialog will confirm the selection of an item"),e.qZA(),e._UZ(9,"tree-list",99),e.ALo(10,"async"),e.TgZ(11,"h1"),e._uU(12,"Confirm Expand and Collapse "),e.qZA(),e.TgZ(13,"div"),e._uU(14,"A dialog will confirm the expand and collapse or an item if the children are not loaded. The children will be loaded asynchronously after the item expansion."),e.qZA(),e.TgZ(15,"tree-list",100,101),e.NdJ("itemExpand",function(r){return e.CHM(t),e.oxw().itemExpand$.next(r.item)}),e.ALo(17,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("selectingItems",t.selectingItems())("models",e.lcZ(10,5,t.countries$)),e.xp6(6),e.Q6J("items",e.lcZ(17,7,t.onDemandGroupedCountryItems$))("expandingItem",t.expandingItem())("collapsingItem",t.collapsingItem())}}function Jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"news-card",82),e.NdJ("imageLoaded",function(){const c=e.CHM(t).$implicit;return e.oxw(2).imageLoaded(c)}),e.qZA()}2&i&&e.Q6J("item",l.$implicit.model)}function Vt(i,l){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span",112),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}function Qt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Performance Examples"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"h1"),e._uU(6,"10K items with Item Template "),e.qZA(),e.TgZ(7,"div",102),e.TgZ(8,"span",103),e._uU(9,"An exemple with 10000 auto sized templatized items"),e.qZA(),e.TgZ(10,"a",104),e.NdJ("click",function(){return e.CHM(t),e.MAs(18).reloadViewPort()}),e.TgZ(11,"mat-icon"),e._uU(12,"refresh"),e.qZA(),e.qZA(),e.TgZ(13,"mat-form-field",105),e.TgZ(14,"input",106),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().ensureIndex=r}),e.qZA(),e.qZA(),e.TgZ(15,"button",107),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(18),c=e.oxw();return r.ensureItemVisible(c.ensureIndex)}),e._uU(16,"Ensure index"),e.qZA(),e.qZA(),e.TgZ(17,"tree-list",108,73),e.ALo(19,"async"),e.YNc(20,Jt,1,1,"ng-template",null,65,e.W1O),e.qZA(),e.TgZ(22,"h1"),e._uU(23,"Fixed size rows 100K items"),e.qZA(),e.TgZ(24,"div"),e._uU(25,"An exemple with 100000 fixed size items"),e.qZA(),e.TgZ(26,"span",19),e._UZ(27,"tree-list",109,110),e.ALo(29,"async"),e.TgZ(30,"span",22),e.TgZ(31,"h4",111),e._uU(32,"Viewport Infos:"),e.qZA(),e.YNc(33,Vt,5,2,"div",61),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.ensureIndex),e.xp6(3),e.Q6J("debugMode",!1)("models",e.lcZ(19,5,t.bigNews$)),e.xp6(10),e.Q6J("models",e.lcZ(29,7,t.bigCountries$)),e.xp6(6),e.Q6J("ngForOf",t.viewPortInfos)}}function Rt(i,l){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-card",17),e.TgZ(2,"mat-toolbar",18),e._uU(3,"Single selection"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"form",113),e.TgZ(6,"div",19),e.TgZ(7,"span",20),e._UZ(8,"tree-list",114),e.ALo(9,"async"),e.qZA(),e.TgZ(10,"span",22),e.TgZ(11,"h4"),e._uU(12,"Your selection :"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"mat-card",17),e.TgZ(16,"mat-toolbar",18),e._uU(17,"Multi selection"),e.qZA(),e.TgZ(18,"mat-card-content"),e.TgZ(19,"form",113),e.TgZ(20,"div",19),e.TgZ(21,"span",20),e._UZ(22,"tree-list",115),e.ALo(23,"async"),e.qZA(),e.TgZ(24,"span",22),e.TgZ(25,"h4"),e._uU(26,"Your selection :"),e.qZA(),e.TgZ(27,"span"),e._uU(28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.fruitForm),e.xp6(3),e.Q6J("models",e.lcZ(9,6,t.fruits$)),e.xp6(6),e.Oqu(t.fruitForm.get("fruitName").value),e.xp6(5),e.Q6J("formGroup",t.fruitFormModels),e.xp6(3),e.Q6J("models",e.lcZ(23,8,t.fruits$)),e.xp6(6),e.Oqu(t.fruitFormModels.get("fruitName").value)}}let kt=(()=>{class i extends w.yl{constructor(t,s,r,c,a,m,f,h){super(),this.changeDetectorRef=t,this.countriesService=s,this.folderService=r,this.countriesListService=c,this.newsService=a,this.groupingService=m,this.sortingService=f,this.fb=h,this.fruct="Apricots",this.fructs=[],this.fructItems=[],this.fructItemsWithPreSelection=[],this.tabIndex=1,this.itemExpand$=new X.x,this.sortCountries$=new U.X(void 0),this.deepCountry={l1:{l2:{name:"Switzerland",value:"CH"}}},this.dialogResponse$=new X.x,this.sortInfos={name:"naqme"},this._dialogVisible=!1,this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","label":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","label":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","label":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","label":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","label":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","label":"Dominica","depth":0,"odd":false,"selected":true}]'),this.news$=a.getNews$(50),this.bigCountries$=s.getCountries$(null,1e5),this.bigNews$=a.getNews$(1e4).pipe((0,q.d)({bufferSize:1,refCount:!1})),this.loremList$=(0,rt.w)(0,50).pipe((0,b.U)(d=>{const v=Math.floor(38*Math.random())+33,g=new E(d.toString(),`${d} - Une ligne de test avec une taille de : ${v}`);return g.size=v,g}),function(i,l,t,s){return(0,at.e)((r,c)=>{let a;l&&"function"!=typeof l?({duration:t,element:a,connector:s}=l):a=l;const m=new Map,f=g=>{m.forEach(g),g(c)},h=g=>f(n=>n.error(g)),d=new ct(c,g=>{try{const n=i(g);let o=m.get(n);if(!o){m.set(n,o=s?s():new X.x);const x=function(g,n){const o=new lt.y(x=>{d.activeGroups++;const _=n.subscribe(x);return()=>{_.unsubscribe(),0==--d.activeGroups&&d.teardownAttempted&&d.unsubscribe()}});return o.key=g,o}(n,o);if(c.next(x),t){const _=new ge.Q(o,()=>{o.complete(),null==_||_.unsubscribe()},void 0,void 0,()=>m.delete(n));d.add((0,ot.Xf)(t(x)).subscribe(_))}}o.next(a?a(g):g)}catch(n){h(n)}},()=>f(g=>g.complete()),h,()=>m.clear());r.subscribe(d)})}(d=>d.size,{element:d=>d}),(0,mt.z)(d=>d.pipe((0,pt.u)((v,g)=>(v.items||(v.label=g.label,v.items=new Array),v.items.push(g),v),new E))),(0,ve.q)(),(0,q.d)({bufferSize:1,refCount:!1})),this.country=new xe.c,this.country.code="CH",this.country.displayName="Switzerland",this.country.naqme="Switzerland",this.country.color="rgb(211, 47, 47)",this.countries$=this.countriesService.getCountries$(),this.countryItems$=this.countries$.pipe((0,b.U)(d=>d.map(v=>new E(v.code,v.naqme,v))),(0,q.d)({bufferSize:1,refCount:!1})),this.sortInfos$=this.sortCountries$.pipe((0,b.U)(()=>(this.sortInfos.order="ascending"===this.sortInfos.order?"descending":"ascending",this.sortInfos)),(0,q.d)({bufferSize:1,refCount:!1})),this.sortedCountries$=this.countries$.pipe((0,V.V)(this.sortInfos$),(0,b.U)(([d,v])=>f.sort(d,v)),(0,q.d)({bufferSize:1,refCount:!1})),this.folders=this.folderService.getFolders(),this.deepCountries$=this.countriesService.getCountries$().pipe((0,y.w)(d=>d),(0,b.U)(d=>({l1:{l2:{name:d.naqme,value:d.code}}})),(0,ve.q)(),(0,q.d)({bufferSize:1,refCount:!1})),this.fructs=["Apricots","Banana","Cantaloupe","Cherries","Coconut","Cranberries","Durian","Grapes","Lemon","Mango","Pineapple","Watermelon"],this.fruits$=(0,I.of)(this.fructs),this.fructItems=this.fructs.map(d=>new E(d.toLowerCase(),d)),this.fructItemsWithPreSelection=this.fructs.map((d,v)=>{const g=new E(d.toLowerCase(),d);return g.selected=1===v,g}),this.countries$.pipe((0,k.b)(d=>this.countriesForMultiselect=d),(0,Y.g)(1),(0,P.R)(this.destroyed$)).subscribe(()=>{this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","label":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","label":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","label":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","label":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","label":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","label":"Dominica","depth":0,"odd":false,"selected":true}]')}),this.groupedCountryItems$=this.countries$.pipe((0,b.U)(d=>{const v={},g=[],n=new j(void 0,"EmptyGroup");return n.collapsible=!0,n.collapsed=!0,n.items=[],n.selectable=!1,g.push(n),d.reduce((o,x)=>{const _=x.naqme[0],T=`Group ${_}`;if(!v[T]){v[T]=[];const A=new j(void 0,T);A.collapsible=!0,A.items=v[T],A.selectable=!1,A.firstLetter=_,o.push(A)}return v[T].push(new E(x.code,x.naqme,x)),o},g)}),(0,q.d)({bufferSize:1,refCount:!1})),this.onDemandGroupedCountryItems$=this.countries$.pipe((0,b.U)(d=>{const v={};return d.reduce((g,n)=>{const o=n.naqme[0],x=`Group ${n.naqme[0]}`;if(!v[x]){v[x]=[];const _=new j(void 0,"loading...");_.selectable=!1;const T=new j(void 0,x);T.collapsible=!0,T.collapsed=!0,T.items=[_],T.selectable=!1,T.loaded=!1,T.firstLetter=o,g.push(T)}return v[x].push(new E(n.code,n.naqme,n)),g},[])}),(0,q.d)({bufferSize:1,refCount:!1})),this.fruitForm=this.fb.group({fruitName:["",[ut.p]]}),this.fruitFormModels=this.fb.group({fruitName:[""]}),this.itemExpand$.pipe((0,Y.g)(1e3),(0,O.M)(this.countries$),(0,P.R)(this.destroyed$)).subscribe(([d,v])=>{d.loaded=!0,d.items=v.filter(g=>g.naqme.startsWith(d.firstLetter)).map(g=>{const n=new E(g.code,g.displayName),o=new j(void 0,"loading...");return o.selectable=!1,n.collapsed=!0,n.items=[o],n}),this.onExpandList.itemService.refreshFlatItemList$.next()}),this.numbers=Array.from({length:40},()=>Math.floor(40*Math.random()))}set dialogVisible(t){this._dialogVisible=t,this.changeDetectorRef.markForCheck()}get dialogVisible(){return this._dialogVisible}loadingItems(){return(t,s)=>this.countriesService.getCountries$().pipe((0,Y.g)(3e3))}collapsingItem(){return t=>t.loaded?(0,I.of)(t):this.confirmDialog()(t)}expandingItem(){return t=>t.loaded?(0,I.of)(t):this.confirmDialog()(t).pipe((0,b.U)(r=>r||null))}selectingItems(){return t=>(this.dialogVisible=!0,this.dialogResponse$.pipe((0,B.q)(1),(0,b.U)(s=>(this.dialogVisible=!1,"ok"===s?t:null))))}confirmDialog(){return t=>(this.dialogVisible=!0,this.dialogResponse$.pipe((0,B.q)(1),(0,b.U)(s=>(this.dialogVisible=!1,"ok"===s?t:null)),(0,M.h)(s=>!!s)))}set bigCountriesList(t){this.viewPortInfos$&&(this.viewPortInfos$.unsubscribe(),this.viewPortInfos=[],delete this.viewPortInfos$),this.viewPortInfos$=null==t?void 0:t.viewPort$.subscribe(s=>{var r,c;this.viewPortInfos=[{name:"beforeSize",value:String(s.beforeSize)},{name:"startIndex",value:String(s.startIndex)},{name:"viewPortSize",value:String(s.viewPortSize)},{name:"visibleCount",value:String(null===(r=s.visibleItems)||void 0===r?void 0:r.length)},{name:"endIndex",value:String(s.endIndex)},{name:"afterSize",value:String(s.afterSize)},{name:"itemsCount",value:String(null===(c=s.items)||void 0===c?void 0:c.length)}]})}imageLoaded(t){requestAnimationFrame(()=>requestAnimationFrame(()=>{t.loaded||(t.loaded=!0,t.size=void 0,this.newsList.refreshViewPort())}))}multiselectModelChange(t){this.multiselectModel=t||null}onFilterTemplateClicked(t){alert(`${t} clicked`)}getDragContext(t){return{target:".listitem",className:"country-target-cursor",dragStart:s=>{const r=+s.getAttribute("flat");return r>=0?t.itemService.flatItemList$.pipe((0,b.U)(c=>{const a=c[r];return a&&!a.items&&a.model||void 0})):void 0}}}getDropContext(t){return{dragEnter:()=>({width:200,height:40,className:"country-target-cursor"}),drop:s=>{s&&(t.innerText=`The dropped country is ${s.naqme} - the code is: ${s.code} `)}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(xe.K),e.Y36(fe.Z),e.Y36(_e.g),e.Y36(ht.Y),e.Y36(ne.uC),e.Y36(Ie),e.Y36(S.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tree-list-demo"]],viewQuery:function(t,s){if(1&t&&(e.Gf(vt,5),e.Gf(xt,5),e.Gf(_t,5)),2&t){let r;e.iGM(r=e.CRH())&&(s.newsList=r.first),e.iGM(r=e.CRH())&&(s.onExpandList=r.first),e.iGM(r=e.CRH())&&(s.bigCountriesList=r.first)}},features:[e._Bn([_e.g]),e.qOj],decls:19,vars:10,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","SIMPLE EXAMPLES"],["label","ADVANCED EXAMPLES"],["label","TEMPLATING"],["label","PRE-SELECTIONS"],["label","PRE-EVENTS AND ON_DEMAND"],["label","PERFORMANCES"],["label","REACTIVE FORM"],[4,"ngIf"],["class","demo-card demo-basic",4,"ngIf"],["type","primary","title","Confirm"],["actionsTemplate",""],["id","cancelbtn","mat-raised-button","",3,"click"],["id","okbtn","mat-raised-button","","color","primary",3,"click"],[1,"demo-card","demo-basic"],[3,"url"],[1,"tree-list-demo","demo-card","demo-basic"],["color","primary"],[1,"flexLayout"],[1,"flex45p","flexLayout","flexColumn"],["ngModelType","model","textField","naqme","valueField","code",3,"ngModel","models","ngModelChange"],[1,"flex45p","flexOffset5p"],["textField","naqme","valueField","code",3,"ngModel","models","ngModelChange"],["id","shortcut-list",1,"flex45p","flexOffset5p"],[1,"keyboard-key"],[1,"flex45p","demo-half-width","optionstl",3,"ngModel","ngModelChange"],["value","Apricots","text","My preferred fruct is Apricots"],["value","Banana","text","My preferred fruct is Banana"],["value","Cantaloupe","text","My preferred fruct is Cantaloupe"],["value","Cherries","text","My preferred fruct is Cherries"],["value","Coconut","text","My preferred fruct is Coconut"],["value","Cranberries","text","My preferred fruct is Cranberries"],["value","Durian","text","My preferred fruct is Durian"],["value","Grapes","text","My preferred fruct is Grapes"],["value","Lemon","text","My preferred fruct is Lemon"],["value","Mango","text","My preferred fruct is Mango"],["value","Pineapple","text","My preferred fruct is Pineapple"],["value","Watermelon","text","My preferred fruct is Watermelon"],["multiSelect","true",1,"flex45p","flexOffset5p","demo-half-width","optionstl",3,"selectedValues"],["value","Apricots","text","Apricots"],["value","Banana","text","Banana"],["value","Cantaloupe","text","Cantaloupe"],["value","Cherries","text","Cherries"],["value","Coconut","text","Coconut"],["value","Cranberries","text","Cranberries"],["value","Durian","text","Durian"],["value","Grapes","text","Grapes"],["value","Lemon","text","Lemon"],["value","Mango","text","Mango"],["value","Pineapple","text","Pineapple"],["value","Watermelon","text","Watermelon"],[1,"flexLayout","flexAlignCenter","flexJustifyStart"],[1,"demo-half-width",3,"ngModel","models","ngModelChange"],[1,"flex50p","flexOffset5p"],["color","primary",3,"ngModel","ngModelChange"],["searchArea","","nodataholder","No record to display","ngModelType","model","maxHeight","auto","selectionClearable","","textField","l1.l2.name","valueField","l1.l2.value",3,"disabled","ngModel","models","ngModelChange"],["nodataholder","No record to display","maxHeight","auto","textField","label","childrenField","children",3,"models"],["multiSelect","","textField","naqme","valueField","code",3,"selectedModels","models","selectedChange"],[1,"flexLayout","flexColumn","flex45p","flexOffset5p"],["id","shortcut-list"],[4,"ngFor","ngForOf"],[1,"flex45p","flexLayout","flexColumn","noselect"],[3,"items","mouse-draggable"],["dragdroplist",""],["itemTemplate",""],["parentItemTemplate",""],[2,"border","1px solid red","min-height","150px",3,"mouse-droppable"],["dropArea",""],["nodataholder","No record to display","textField","naqme","valueField","code","min-search-length","2",1,"demo-half-width",3,"models"],["multiSelect","","viewPortMode","variable","searchArea","",3,"items"],["id","placeholder-icon"],["viewPortMode","auto","textField","title","searchField","description",1,"news",3,"models"],["news",""],["textField","naqme","valueField","code",3,"models"],["headertreelist",""],["headerTemplate",""],[1,"flex45p","flexLayout","flexColumn","flexOffset5p"],["textField","naqme",3,"items"],["searchArea","","textField","naqme","valueField","code",3,"models"],["searchPrefixTemplate",""],["searchSuffixTemplate",""],[3,"item","imageLoaded"],["id","headerTemplateContent",3,"click"],["id","title"],[3,"sort-infos"],[3,"click"],[4,"ngIf","ngIfElse"],["selected",""],["deja-numeric-stepper-container","","deja-numeric-stepper-form-field",""],["matInput","","type","text",3,"ngModel"],["numericStepper","ngModel"],["layout","horizontal",3,"increment","decrement"],["selectedModel","Mango",1,"fixed-height",3,"models"],[1,"flex45p","flexLayout","flexColumn","flexOffset15px"],["multiSelect","true",1,"fixed-height",3,"selectedModels","models"],["selectedValue","mango",1,"fixed-height",3,"items"],[1,"flex45p","flexOffset15px"],[1,"fixed-height",3,"items"],["multiSelect","","textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"selectingItems","models"],["searchArea","",1,"demo-half-width","fixed-height",3,"items","expandingItem","collapsingItem","itemExpand"],["onexpand",""],[1,"flexContainer","flexLayout","flexAlignCenter","flexJustifyStart"],[1,"flexExtendCollapseAuto"],["mat-button","",3,"click"],[1,"flexFixedAuto"],["matInput","","type","number","autocomplete","off",3,"ngModel","ngModelChange"],["mat-button","",1,"flexFixedAuto",3,"click"],["viewPortMode","auto","viewPortRowHeight","200","textField","title","searchField","description",1,"news",3,"debugMode","models"],["searchArea","","id","bigCountries","textField","naqme","valueField","code",1,"flex45p",3,"models"],["bigCountries",""],["id","vptitle"],[1,"vpinfoname"],["novalidate","",3,"formGroup"],["formControlName","fruitName",3,"models"],["multiSelect","","formControlName","fruitName",3,"models"]],template:function(t,s){1&t&&(e.TgZ(0,"mat-tab-group",0),e.NdJ("selectedTabChange",function(c){return s.tabIndex=c.index}),e._UZ(1,"mat-tab",1),e._UZ(2,"mat-tab",2),e._UZ(3,"mat-tab",3),e._UZ(4,"mat-tab",4),e._UZ(5,"mat-tab",5),e._UZ(6,"mat-tab",6),e._UZ(7,"mat-tab",7),e._UZ(8,"mat-tab",8),e.qZA(),e.YNc(9,Tt,5,0,"deja-dialog",9),e.YNc(10,wt,2,1,"mat-card",10),e.YNc(11,At,169,27,"div",9),e.YNc(12,St,74,14,"div",9),e.YNc(13,Dt,47,13,"div",9),e.YNc(14,Ft,26,6,"div",9),e.YNc(15,Nt,18,9,"div",9),e.YNc(16,Qt,34,9,"div",9),e.YNc(17,Rt,29,10,"div",9),e._UZ(18,"mouse-dragdrop-cursor")),2&t&&(e.Q6J("selectedIndex",s.tabIndex),e.xp6(9),e.Q6J("ngIf",s.dialogVisible),e.xp6(1),e.Q6J("ngIf",0===s.tabIndex),e.xp6(1),e.Q6J("ngIf",1===s.tabIndex),e.xp6(1),e.Q6J("ngIf",2===s.tabIndex),e.xp6(1),e.Q6J("ngIf",3===s.tabIndex),e.xp6(1),e.Q6J("ngIf",4===s.tabIndex),e.xp6(1),e.Q6J("ngIf",5===s.tabIndex),e.xp6(1),e.Q6J("ngIf",6===s.tabIndex),e.xp6(1),e.Q6J("ngIf",7===s.tabIndex))},directives:[ie.SP,ie.uX,D.O5,K.Sx,de.a,ce.b,ee.lW,te.a8,ft.F,ae.Ye,te.dn,et,S.JJ,S.On,me,oe.oG,D.sg,K.lq,K.dY,z.Hw,gt.H,ne._h,W.Nt,S.Fj,ue.g,ee.zs,H.KE,S.wV,S._Y,S.JL,S.sg,S.u],pipes:[D.Ov,D.Ts],styles:['tree-list-demo .demo-card{margin:16px}tree-list-demo .demo-card mat-card-content{padding:16px;display:flex;flex-direction:column}tree-list-demo .demo-card mat-card-content tree-list{max-height:400px;position:relative;margin:1rem 0}tree-list-demo .demo-card mat-card-content tree-list.fixed-height{height:400px}tree-list-demo .demo-card mat-card-content tree-list.news{max-height:600px}tree-list-demo .demo-card mat-card-content tree-list [deja-numeric-stepper-form-field]{height:100%;width:32px;display:flex;flex-direction:row;align-items:center;padding-left:6px}tree-list-demo .demo-card mat-card-content tree-list .selected [deja-numeric-stepper-form-field] .shadow{background-color:#2196f3cc}tree-list-demo .demo-card mat-card-content tree-list .selected [deja-numeric-stepper-form-field] .arrow{color:inherit}tree-list-demo .demo-card mat-card-content tree-list .selected [deja-numeric-stepper-form-field] .mat-input-element{caret-color:inherit}tree-list-demo .demo-card mat-card-content mat-form-field{flex-basis:auto;flex-grow:0;flex-shrink:0;position:relative;margin-top:.7rem}tree-list-demo .demo-basic{padding:0}tree-list-demo .demo-full-width{width:100%}tree-list-demo .demo-half-width{width:45%}tree-list-demo .demo-icons{font-size:100%;height:inherit;vertical-align:top;width:inherit}tree-list-demo #flight{display:flex;align-items:center}tree-list-demo news-card{width:100%}tree-list-demo news-card .text{overflow-x:hidden}tree-list-demo .vpinfoname{display:inline-block;width:7rem}tree-list-demo #bigCountries{height:400px}tree-list-demo #headerTemplateContent{padding:.4rem;display:block;background-color:#aaa;cursor:pointer;display:flex}tree-list-demo #headerTemplateContent #title{flex:1 0 auto}tree-list-demo #headerTemplateContent step-indicator{flex:0 0 auto}tree-list-demo [matPrefix]{cursor:default;padding:4px}tree-list-demo [matSuffix]{padding:4px;display:flex;justify-content:flex-end;cursor:pointer}tree-list-demo [ddid]{width:100%;height:100%;display:flex;align-items:center}tree-list-demo .optionstl{overflow:visible}tree-list-demo .flexLayout{display:flex}tree-list-demo .flexLayout.flexColumn{flex-direction:column}tree-list-demo .flexLayout.flexJustifyStart{justify-content:start}tree-list-demo .flexLayout.flexAlignCenter{align-items:center}tree-list-demo .flexLayout .flex45p{flex:0 0 45%;overflow:hidden}tree-list-demo .flexLayout .flex50p{flex:0 0 50%;overflow:hidden}tree-list-demo .flexLayout .flexFixedAuto{flex:0 0 auto;overflow:hidden}tree-list-demo .flexLayout .flexFixed140px{flex:0 0 140px;overflow:hidden}tree-list-demo .flexLayout .flexExtendAuto{flex:1 0 auto;overflow:hidden}tree-list-demo .flexLayout .flexExtendCollapseAuto{flex:1 1 auto;overflow:hidden}tree-list-demo .flexOffset15px{margin-left:15px}tree-list-demo .flexOffset5p{margin-left:5%}.country-target-cursor #content{background-color:#00000080!important;color:#fff;display:flex;align-items:center;justify-content:center;max-width:200px;cursor:pointer}.country-target-cursor #content:before{display:block;width:.5rem;content:" "}\n'],encapsulation:2}),i})();class j extends E{}const Ot=st.Bz.forChild([{path:"",component:kt},{path:"**",redirectTo:"",pathMatch:"full"}]);let Yt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[fe.Z],imports:[[D.ez,de.W,it.O,ce.J,ue.s,ne.NA,S.u5,pe,ee.ot,te.QW,oe.p9,H.lN,z.Ps,W.c,ie.Nh,ae.g0,K.$Q,nt.NewsCardModule,S.UX,Ot,tt]]}),i})()}}]);