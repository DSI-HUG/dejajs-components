(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[352],{45352:function(e,t,s){"use strict";s.d(t,{tX:function(){return d},dp:function(){return g},zE:function(){return c}});var i=s(61511),r=s(31572),n=s(19861);function a(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"split-gutter",2),r.NdJ("mousedown",function(t){r.CHM(e);const s=r.oxw().index;return r.oxw().startDragging(t,2*s+1)})("touchstart",function(t){r.CHM(e);const s=r.oxw().index;return r.oxw().startDragging(t,2*s+1)}),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("order",2*e+1)("direction",t.direction)("size",t.gutterSize)("disabled",t.disabled)}}function h(e,t){1&e&&r.YNc(0,a,1,4,"split-gutter",1),2&e&&r.Q6J("ngIf",!1===t.last)}const o=["*"];let l=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this._disabled=!1}set order(e){this.setStyle("order",(0,n.su)(e))}set direction(e){this._direction=e,this.refreshStyle()}set size(e){this.setStyle("flex-basis",e?"string"==typeof e?`${(0,n.su)(e)}px`:`${e}px`:"")}set disabled(e){this._disabled=(0,n.Ig)(e),this.refreshStyle()}refreshStyle(){const e=this._disabled?"disabled":this._direction;this.setStyle("cursor",this.getCursor(e)),this.setStyle("background-image",`url("${this.getImage(e)}")`),"horizontal"===e&&this.setStyle("content"," ")}setStyle(e,t){null==t?this.renderer.removeStyle(this.elementRef.nativeElement,e):this.renderer.setStyle(this.elementRef.nativeElement,e,t)}getCursor(e){switch(e){case"disabled":return"default";case"vertical":return"row-resize";case"horizontal":return"col-resize";default:return null}}getImage(e){switch(e){case"disabled":return"";case"vertical":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC";case"horizontal":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==";default:return null}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["split-gutter"]],inputs:{order:"order",direction:"direction",size:"size",disabled:"disabled"}}),e})(),d=(()=>{class e{constructor(e,t,s){this.cdRef=e,this.elementRef=t,this.renderer=s,this.direction="horizontal",this.gutterSize=10,this.dragStart=new r.vpe(!1),this.dragProgress=new r.vpe(!1),this.dragEnd=new r.vpe(!1),this._areas=[],this.isDragging=!1,this.containerSize=0,this.areaAsize=0,this.areaBsize=0,this.eventsDragFct=[],this._disabled=!1}get styleFlexDirection(){return"horizontal"===this.direction?"row":"column"}get styleWidth(){return this.width&&!isNaN(this.width)&&this.width>0?`${this.width}px`:"100%"}get styleHeight(){return this.height&&!isNaN(this.height)&&this.height>0?`${this.height}px`:"100%"}get nbGutters(){return this._areas.length-1}set disabled(e){this._disabled=(0,n.Ig)(e)||null}get disabled(){return this._disabled}get areas(){return this._areas}ngOnChanges(e){(e.gutterSize||e.disabled)&&this.refresh()}ngOnDestroy(){this.stopDragging()}addArea(e,t,s,i){this._areas.push({component:e,orderUser:t,order:-1,sizeUser:s,size:-1,minPixel:i}),this.refresh()}updateArea(e,t,s,i){const r=this._areas.find(t=>t.component===e);r&&(r.orderUser=t,r.sizeUser=s,r.minPixel=i,this.refresh())}removeArea(e){const t=this._areas.find(t=>t.component===e);if(t){const e=this._areas.indexOf(t);this._areas.splice(e,1),this._areas.forEach((e,t)=>e.order=2*t),this.refresh()}}startDragging(e,t){const s=e;if(s.preventDefault(),this.disabled)return;const i=this._areas.find(e=>e.order===t-1),r=this._areas.find(e=>e.order===t+1);if(!i||!r)return;this.containerSize=this.elementRef.nativeElement["horizontal"===this.direction?"offsetWidth":"offsetHeight"],this.areaAsize=this.containerSize*i.size/100,this.areaBsize=this.containerSize*r.size/100;const n={x:s.screenX,y:s.screenY};this.eventsDragFct.push(this.renderer.listen("document","mousemove",e=>this.dragEvent(e,n,i,r))),this.eventsDragFct.push(this.renderer.listen("document","touchmove",e=>this.dragEvent(e,n,i,r))),this.eventsDragFct.push(this.renderer.listen("document","mouseup",()=>this.stopDragging())),this.eventsDragFct.push(this.renderer.listen("document","touchend",()=>this.stopDragging())),this.eventsDragFct.push(this.renderer.listen("document","touchcancel",()=>this.stopDragging())),i.component.lockEvents(),r.component.lockEvents(),this.isDragging=!0,this.notify("start")}refresh(){this.stopDragging(),this._areas.filter(e=>null!==e.orderUser&&!isNaN(e.orderUser)).length===this._areas.length&&this._areas.sort((e,t)=>+e.orderUser-+t.orderUser),this._areas.forEach((e,t)=>{e.order=2*t,e.component.setStyle("order",e.order)});const e=this._areas.map(e=>e.sizeUser).reduce((e,t)=>e+t,0),t=this._areas.filter(e=>!e.sizeUser||isNaN(e.sizeUser));if((e<99.99||e>100.01)&&this._areas.length>1)if(0===t.length)this._areas.forEach(t=>{const s=100*Number(t.sizeUser)/e;t.size=s});else if(e<99.99){let s=100-e,i=t.length;t.forEach(e=>{const t=s/i--;e.size=t,s-=t}),this._areas.filter(e=>e.sizeUser&&!isNaN(e.sizeUser)).forEach(e=>e.size=Number(e.sizeUser))}else{const e=Number((100/this._areas.length).toFixed(3));this._areas.forEach(t=>t.size=e)}else 0===e&&1===this._areas.length?this._areas[0].size=100:this._areas.forEach(e=>e.size=Number(e.sizeUser));this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){const e=this.gutterSize*this.nbGutters/this._areas.length;this._areas.forEach(t=>t.component.setStyle("flex-basis",`calc( ${t.size}% - ${e}px )`))}dragEvent(e,t,s,i){this.isDragging&&this.drag(t,{x:e.screenX,y:e.screenY},s,i)}drag(e,t,s,i){const r="horizontal"===this.direction?e.x-t.x:e.y-t.y,n=s.minPixel?(s.minPixel+5)/this.containerSize*100:0,a=i.minPixel?(i.minPixel+5)/this.containerSize*100:0;let h=(this.areaAsize-r)/this.containerSize*100,o=(this.areaBsize+r)/this.containerSize*100;h<=n?(h=n,o=s.size+i.size-n):o<=a?(o=a,h=s.size+i.size-a):(h=Number(h.toFixed(3)),o=Number((s.size+i.size-h).toFixed(3))),s.size=h,i.size=o,this.refreshStyleSizes(),this.notify("progress")}stopDragging(){if(this.isDragging){for(this._areas.forEach(e=>e.component.unlockEvents());this.eventsDragFct.length>0;){const e=this.eventsDragFct.pop();e&&e()}this.containerSize=0,this.areaAsize=0,this.areaBsize=0,this.isDragging=!1,this.notify("end")}}notify(e){const t=this._areas.map(e=>e.size);switch(e){case"start":return this.dragStart.emit(t);case"progress":return this.dragProgress.emit(t);case"end":return this.dragEnd.emit(t);default:return null}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275cmp=r.Xpm({type:e,selectors:[["deja-splitter"]],hostVars:6,hostBindings:function(e,t){2&e&&r.Udp("flex-direction",t.styleFlexDirection)("width",t.styleWidth)("height",t.styleHeight)},inputs:{direction:"direction",width:"width",height:"height",gutterSize:"gutterSize",disabled:"disabled"},outputs:{dragStart:"dragStart",dragProgress:"dragProgress",dragEnd:"dragEnd"},features:[r.TTD],ngContentSelectors:o,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"order","direction","size","disabled","mousedown","touchstart",4,"ngIf"],[3,"order","direction","size","disabled","mousedown","touchstart"]],template:function(e,t){1&e&&(r.F$t(),r.Hsn(0),r.YNc(1,h,1,1,"ng-template",0)),2&e&&(r.xp6(1),r.Q6J("ngForOf",t.areas))},directives:[i.sg,i.O5,l],styles:["deja-splitter{display:flex;flex-wrap:nowrap;justify-content:flex-start}deja-splitter split-gutter{flex:0 0 10px;background-position:50%;background-repeat:no-repeat}deja-splitter split-area{flex-grow:0;flex-shrink:0;height:100%;overflow:hidden}"],encapsulation:2,changeDetection:0}),e})(),c=(()=>{class e{constructor(e,t,s){this.elementRef=e,this.renderer=t,this.split=s,this._order=null,this._size=null,this._minSizePixel=0,this.eventsLockFct=[]}set order(e){const t=(0,n.su)(e);this._order=isNaN(t)?null:t,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}set size(e){const t=(0,n.su)(e);this._size=isNaN(t)?null:t,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}set minSizePixel(e){const t=(0,n.su)(e);this._minSizePixel=!isNaN(t)&&t>0?t:0,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}ngOnInit(){this.split.addArea(this,this._order,this._size,this._minSizePixel)}lockEvents(){this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement,"selectstart",()=>!1)),this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement,"dragstart",()=>!1))}unlockEvents(){for(;this.eventsLockFct.length>0;){const e=this.eventsLockFct.pop();e&&e()}}setStyle(e,t){null==t?this.renderer.removeStyle(this.elementRef.nativeElement,e):this.renderer.setStyle(this.elementRef.nativeElement,e,t)}ngOnDestroy(){this.split.removeArea(this)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(d))},e.\u0275dir=r.lG2({type:e,selectors:[["split-area"]],inputs:{order:"order",size:"size",minSizePixel:"minSizePixel"}}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez]]}),e})()}}]);