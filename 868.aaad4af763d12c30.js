"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[868],{5868:(w,z,f)=>{f.d(z,{dp:()=>b,tX:()=>m,zE:()=>E});var p=f(9808),s=f(5e3),d=f(3191);function S(o,h){if(1&o){const e=s.EpF();s.TgZ(0,"split-gutter",2),s.NdJ("mousedown",function(r){s.CHM(e);const i=s.oxw().index;return s.oxw().startDragging(r,2*i+1)})("touchstart",function(r){s.CHM(e);const i=s.oxw().index;return s.oxw().startDragging(r,2*i+1)}),s.qZA()}if(2&o){const e=s.oxw().index,t=s.oxw();s.Q6J("order",2*e+1)("direction",t.direction)("size",t.gutterSize)("disabled",t.disabled)}}function A(o,h){1&o&&s.YNc(0,S,1,4,"split-gutter",1),2&o&&s.Q6J("ngIf",!1===h.last)}const D=["*"];let v=(()=>{class o{constructor(e,t){this.elementRef=e,this.renderer=t,this._disabled=!1}set order(e){this.setStyle("order",(0,d.su)(e))}set direction(e){this._direction=e,this.refreshStyle()}set size(e){this.setStyle("flex-basis",e?"string"==typeof e?`${(0,d.su)(e)}px`:`${e}px`:"")}set disabled(e){this._disabled=(0,d.Ig)(e),this.refreshStyle()}refreshStyle(){const e=this._disabled?"disabled":this._direction;this.setStyle("cursor",this.getCursor(e)),this.setStyle("background-image",`url("${this.getImage(e)}")`),"horizontal"===e&&this.setStyle("content"," ")}setStyle(e,t){null==t?this.renderer.removeStyle(this.elementRef.nativeElement,e):this.renderer.setStyle(this.elementRef.nativeElement,e,t)}getCursor(e){switch(e){case"disabled":return"default";case"vertical":return"row-resize";case"horizontal":return"col-resize";default:return null}}getImage(e){switch(e){case"disabled":return"";case"vertical":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC";case"horizontal":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==";default:return null}}}return o.\u0275fac=function(e){return new(e||o)(s.Y36(s.SBq),s.Y36(s.Qsj))},o.\u0275dir=s.lG2({type:o,selectors:[["split-gutter"]],inputs:{order:"order",direction:"direction",size:"size",disabled:"disabled"}}),o})(),m=(()=>{class o{constructor(e,t,r){this.cdRef=e,this.elementRef=t,this.renderer=r,this.direction="horizontal",this.gutterSize=10,this.dragStart=new s.vpe(!1),this.dragProgress=new s.vpe(!1),this.dragEnd=new s.vpe(!1),this._areas=[],this.isDragging=!1,this.containerSize=0,this.areaAsize=0,this.areaBsize=0,this.eventsDragFct=[],this._disabled=!1}get styleFlexDirection(){return"horizontal"===this.direction?"row":"column"}get styleWidth(){return this.width&&!isNaN(this.width)&&this.width>0?`${this.width}px`:"100%"}get styleHeight(){return this.height&&!isNaN(this.height)&&this.height>0?`${this.height}px`:"100%"}get nbGutters(){return this._areas.length-1}set disabled(e){this._disabled=(0,d.Ig)(e)||null}get disabled(){return this._disabled}get areas(){return this._areas}ngOnChanges(e){(e.gutterSize||e.disabled)&&this.refresh()}ngOnDestroy(){this.stopDragging()}addArea(e,t,r,i){this._areas.push({component:e,orderUser:t,order:-1,sizeUser:r,size:-1,minPixel:i}),this.refresh()}updateArea(e,t,r,i){const n=this._areas.find(a=>a.component===e);n&&(n.orderUser=t,n.sizeUser=r,n.minPixel=i,this.refresh())}removeArea(e){const t=this._areas.find(r=>r.component===e);if(t){const r=this._areas.indexOf(t);this._areas.splice(r,1),this._areas.forEach((i,n)=>i.order=2*n),this.refresh()}}startDragging(e,t){const r=e;if(r.preventDefault(),this.disabled)return;const i=this._areas.find(l=>l.order===t-1),n=this._areas.find(l=>l.order===t+1);if(!i||!n)return;this.containerSize=this.elementRef.nativeElement["horizontal"===this.direction?"offsetWidth":"offsetHeight"],this.areaAsize=this.containerSize*i.size/100,this.areaBsize=this.containerSize*n.size/100;const c={x:r.screenX,y:r.screenY};this.eventsDragFct.push(this.renderer.listen("document","mousemove",l=>this.dragEvent(l,c,i,n))),this.eventsDragFct.push(this.renderer.listen("document","touchmove",l=>this.dragEvent(l,c,i,n))),this.eventsDragFct.push(this.renderer.listen("document","mouseup",()=>this.stopDragging())),this.eventsDragFct.push(this.renderer.listen("document","touchend",()=>this.stopDragging())),this.eventsDragFct.push(this.renderer.listen("document","touchcancel",()=>this.stopDragging())),i.component.lockEvents(),n.component.lockEvents(),this.isDragging=!0,this.notify("start")}refresh(){this.stopDragging(),this._areas.filter(i=>null!==i.orderUser&&!isNaN(i.orderUser)).length===this._areas.length&&this._areas.sort((i,n)=>+i.orderUser-+n.orderUser),this._areas.forEach((i,n)=>{i.order=2*n,i.component.setStyle("order",i.order)});const t=this._areas.map(i=>i.sizeUser).reduce((i,n)=>i+n,0),r=this._areas.filter(i=>!i.sizeUser||isNaN(i.sizeUser));if((t<99.99||t>100.01)&&this._areas.length>1)if(0===r.length)this._areas.forEach(i=>{const n=100*Number(i.sizeUser)/t;i.size=n});else if(t<99.99){let i=100-t,n=r.length;r.forEach(a=>{const c=i/n--;a.size=c,i-=c}),this._areas.filter(a=>a.sizeUser&&!isNaN(a.sizeUser)).forEach(a=>a.size=Number(a.sizeUser))}else{const i=Number((100/this._areas.length).toFixed(3));this._areas.forEach(n=>n.size=i)}else 0===t&&1===this._areas.length?this._areas[0].size=100:this._areas.forEach(i=>i.size=Number(i.sizeUser));this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){const e=this.gutterSize*this.nbGutters/this._areas.length;this._areas.forEach(t=>t.component.setStyle("flex-basis",`calc( ${t.size}% - ${e}px )`))}dragEvent(e,t,r,i){this.isDragging&&this.drag(t,{x:e.screenX,y:e.screenY},r,i)}drag(e,t,r,i){const n="horizontal"===this.direction?e.x-t.x:e.y-t.y,l=r.minPixel?(r.minPixel+5)/this.containerSize*100:0,_=i.minPixel?(i.minPixel+5)/this.containerSize*100:0;let g=(this.areaAsize-n)/this.containerSize*100,u=(this.areaBsize+n)/this.containerSize*100;g<=l?(g=l,u=r.size+i.size-l):u<=_?(u=_,g=r.size+i.size-_):(g=Number(g.toFixed(3)),u=Number((r.size+i.size-g).toFixed(3))),r.size=g,i.size=u,this.refreshStyleSizes(),this.notify("progress")}stopDragging(){if(this.isDragging){for(this._areas.forEach(e=>e.component.unlockEvents());this.eventsDragFct.length>0;){const e=this.eventsDragFct.pop();e&&e()}this.containerSize=0,this.areaAsize=0,this.areaBsize=0,this.isDragging=!1,this.notify("end")}}notify(e){const t=this._areas.map(r=>r.size);switch(e){case"start":return this.dragStart.emit(t);case"progress":return this.dragProgress.emit(t);case"end":return this.dragEnd.emit(t);default:return null}}}return o.\u0275fac=function(e){return new(e||o)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.Qsj))},o.\u0275cmp=s.Xpm({type:o,selectors:[["deja-splitter"]],hostVars:6,hostBindings:function(e,t){2&e&&s.Udp("flex-direction",t.styleFlexDirection)("width",t.styleWidth)("height",t.styleHeight)},inputs:{direction:"direction",width:"width",height:"height",gutterSize:"gutterSize",disabled:"disabled"},outputs:{dragStart:"dragStart",dragProgress:"dragProgress",dragEnd:"dragEnd"},features:[s.TTD],ngContentSelectors:D,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"order","direction","size","disabled","mousedown","touchstart",4,"ngIf"],[3,"order","direction","size","disabled","mousedown","touchstart"]],template:function(e,t){1&e&&(s.F$t(),s.Hsn(0),s.YNc(1,A,1,1,"ng-template",0)),2&e&&(s.xp6(1),s.Q6J("ngForOf",t.areas))},directives:[p.sg,p.O5,v],styles:["deja-splitter{display:flex;flex-wrap:nowrap;justify-content:flex-start}deja-splitter split-gutter{flex:0 0 10px;background-position:50%;background-repeat:no-repeat}deja-splitter split-area{flex-grow:0;flex-shrink:0;height:100%;overflow:hidden}\n"],encapsulation:2,changeDetection:0}),o})(),E=(()=>{class o{constructor(e,t,r){this.elementRef=e,this.renderer=t,this.split=r,this._order=null,this._size=null,this._minSizePixel=0,this.eventsLockFct=[]}set order(e){const t=(0,d.su)(e);this._order=isNaN(t)?null:t,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}set size(e){const t=(0,d.su)(e);this._size=isNaN(t)?null:t,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}set minSizePixel(e){const t=(0,d.su)(e);this._minSizePixel=!isNaN(t)&&t>0?t:0,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}ngOnInit(){this.split.addArea(this,this._order,this._size,this._minSizePixel)}lockEvents(){this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement,"selectstart",()=>!1)),this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement,"dragstart",()=>!1))}unlockEvents(){for(;this.eventsLockFct.length>0;){const e=this.eventsLockFct.pop();e&&e()}}setStyle(e,t){null==t?this.renderer.removeStyle(this.elementRef.nativeElement,e):this.renderer.setStyle(this.elementRef.nativeElement,e,t)}ngOnDestroy(){this.split.removeArea(this)}}return o.\u0275fac=function(e){return new(e||o)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(m))},o.\u0275dir=s.lG2({type:o,selectors:[["split-area"]],inputs:{order:"order",size:"size",minSizePixel:"minSizePixel"}}),o})(),b=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[p.ez]]}),o})()}}]);