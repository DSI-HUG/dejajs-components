"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[722],{7722:(lt,Me,L)=>{L.d(Me,{ZV:()=>ze,tN:()=>De,_h:()=>we,NA:()=>xe,uC:()=>_e,ZE:()=>Ze,NJ:()=>pe,Z2:()=>ge});var Pe=L(6019),G=L(3668),me=L(348),j=L(1574),ve=L(5048),q=L(4499),Se=L(559),$=L(2997),y=L(3067),re=L(9417),H=L(7384),oe=L(1676),U=L(4753),de=L(5488),X=L(461),le=L(6263),Fe=L(9463),ie=L(6302),k=L(7867),ue=L(8410),Ae=L(1404),se=L(9468),Re=L(2876),Le=L(3660);let ze=(()=>{class g{set selected(e){this._selected=(0,me.Ig)(e)}get selected(){return this._selected}}return g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=G.Xpm({type:g,selectors:[["deja-item"]],inputs:{value:"value",text:"text",selected:"selected"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),g})(),ge=(()=>{class g extends j.yl{constructor(){super(),this.emptyViewPort={beforeSize:0,afterSize:0,viewPortSize:0,listSize:0,visibleItems:[],startIndex:0,endIndex:0,scrollPos:0,items:[]},this.mode$=new q.X("fixed"),this.items$=new q.X([]),this.maxSize$=new q.X(0),this.ensureItem$=new q.X(null),this.scrollPosition$=new q.X(0),this.element$=new Se.t(1),this.itemsSize$=new q.X(0),this.direction$=new q.X("vertical"),this.viewPortResult$=new q.X(this.emptyViewPort),this.refresh$=new q.X(null),this.deleteSizeCache$=new q.X(!0),this.measureViewPort={beforeSize:0,afterSize:2e5,viewPortSize:0,listSize:0,visibleItems:[],startIndex:0,endIndex:0,scrollPos:void 0,items:[]},this._mode="fixed",this._itemsSize=g.itemDefaultSize,this._direction="vertical",this._scrollPosition=0,this.ignoreScrollCount=0,this.viewPort$=this.viewPortResult$;const e=()=>"horizontal"===this._direction?window.innerWidth:window.innerHeight,i=c=>Math.ceil("horizontal"===this._direction?c.clientWidth:c.clientHeight),r=(c,v,E,M,x)=>{const D=[];let z,_,O,T=0,b=0,V=0;if(x&&void 0!==x.index&&x.atEnd){let Z=c.length;for(;--Z>=0;){const N=c[Z],J=N.size||M;x.index===Z&&(_=Z),void 0!==_?void 0===z?(b+=J,D.unshift(N),(b>v||0===Z)&&(z=Z,O=b-v)):(O+=J,T+=J):V+=J}}else c.forEach((Z,N)=>{const J=Z.size||M;x&&x.index===N&&(z=N,O=T),void 0===z&&(T+J>=E?z=N:T+=J),void 0!==z&&void 0===_&&(b+=J,D.push(Z)),void 0===_?(T+b>(O||E)+v||N===c.length-1)&&(_=N):V+=J});return void 0!==(null==x?void 0:x.index)&&b<v&&D.length<c.length?r(c,v,E,M,x.atEnd?{index:0,atEnd:!1}:{index:c.length-1,atEnd:!0}):(0,$.of)({beforeSize:T,afterSize:V,listSize:v,viewPortSize:b,visibleItems:D,startIndex:z||0,endIndex:_,scrollPos:O,items:c})},o=(c,v,E,M,x,D,z)=>r(c,v,E,x,D).pipe((0,y.w)(_=>!z&&_.visibleItems.find(b=>!b.size)?(this.viewPortResult$.next(_),(0,re.H)(1).pipe((0,H.b)(()=>{const b=M.getElementsByClassName("listitem");for(let V=0;V<b.length;V++){const O=b[V],Z=+O.getAttribute("flat"),N=_.visibleItems[Z-_.startIndex];N&&(N.size=i(O))}_.viewPortSize=_.visibleItems.reduce((V,O)=>V+(O.size||x),0)}),(0,y.w)(()=>r(c,v,_.scrollPos||E,x,D)))):(0,$.of)(_))),a=(c,v,E,M,x,D)=>{let _,T,b,z=0;const V=M.getElementsByClassName("listitem");let O={beforeSize:0,afterSize:0,listSize:v,viewPortSize:0,visibleItems:[],startIndex:0,endIndex:0,scrollPos:0,items:c};if(V.length!==c.length&&(null==D||D))return this.viewPortResult$.next(O),(0,re.H)(1).pipe((0,y.w)(()=>a(c,v,E,M,x,!1)));if(x&&void 0!==x.index&&x.atEnd){b=0;let Z=0,N=V.length;for(;--N>=0;){const Ie=c[N].size=i(V[N]);x.index===N&&(T=N),void 0!==T&&(void 0===_?(Z+=Ie,Z>v&&(_=N,b=Z-v)):b+=Ie),z+=Ie}}else for(let Z=0;Z<V.length;Z++){const J=c[Z].size=i(V[Z]);x&&x.index===Z&&(_=Z,b=z),z+=J,void 0===_&&z>E&&(_=Z),void 0===T&&z>(b||E)+v&&(T=Z)}return _=_||0,T=T||0,O={beforeSize:0,afterSize:0,listSize:v,viewPortSize:z,visibleItems:c.slice(_,1+T),startIndex:_,endIndex:T,scrollPos:b,items:c},(0,$.of)(O)},p=(c,v,E,M,x,D,z)=>{if(!(null==c?void 0:c.length))return(0,$.of)(this.emptyViewPort);let T,_=v||i(M);switch(_<=g.itemDefaultSize&&(_=e()),void 0!==D.index?this.ignoreScrollCount++:this.ignoreScrollCount=0,this.mode){case"disabled":T=a(c,_,E,M,D,!0);break;case"variable":T=r(c,_,E,x,D);break;case"auto":T=o(c,_,E,M,x,D);break;case"fixed":T=((c,v,E,M,x)=>{const D=Math.ceil(v/M)+1,z=Math.floor(E/M),_=Math.min(c.length-z,D);let T,b,V;x&&void 0!==x.index&&x.atEnd?(T=Math.max(0,x.index+1-Math.min(c.length,D)),b=Math.max(x.index,_-1),V=(b+1)*M-v):_<0?(b=c.length-1,T=b+1-Math.min(c.length,D)):void 0!==x.index?(T=x.index,b=T+_-1,V=T*M):(T=z,b=T+_-1);const O=c.slice(T,b+1);return(0,$.of)({beforeSize:T*M,afterSize:(c.length-b-1)*M,listSize:v,viewPortSize:O.length*M,visibleItems:O,startIndex:T,endIndex:b,scrollPos:V,items:c})})(c,_,E,x,D);break;default:throw new Error("ViewPortService, invalide mode. The value can be disabled, variable, auto and fixed.")}return T.pipe((0,y.w)(b=>{if(!z){const V=b.beforeSize+b.viewPortSize+b.afterSize-b.listSize;if("disabled"!==this.mode&&_<2*g.itemDefaultSize)return this.viewPortResult$.next(this.measureViewPort),(0,re.H)(1).pipe((0,y.w)(()=>p(c,v,E,M,x,D,!0)));if(V<0||c.length&&V>0&&(b.scrollPos||E)>V)return p(c,v,0,M,x,{index:c.length-1,atEnd:!0},!0);if("auto"===this.mode&&b.viewPortSize<_)return p(c,v,0,M,x,{index:c.length-1,atEnd:!0},!0)}return(0,$.of)(b)}),(0,H.b)(()=>{D.index=void 0}))},m=this.items$;this.ensureParams$=this.ensureItem$.pipe((0,oe.V)(m),(0,U.U)(([c,v])=>{this.ignoreScrollCount=0;const E={};if(null!=c&&(null==v?void 0:v.length)){let M=c;isNaN(M)&&(M=v.findIndex(x=>c===x)),M>=0&&(this.viewPort&&M<=this.viewPort.startIndex?(E.index=M,E.atEnd=!1):(!this.viewPort||M>=this.viewPort.endIndex)&&(E.index=M,E.atEnd=!0))}return E}));const w=this.maxSize$.pipe((0,de.x)()),P=this.refresh$.pipe((0,y.w)(c=>{if(this.ignoreScrollCount=0,c){if(c.clearMeasuredSize)return this.items$.pipe((0,H.b)(v=>{this.lastCalculatedSize=void 0,v.forEach(E=>E.size=void 0)}),(0,U.U)(()=>c));c.items&&c.items.forEach(v=>v.size=void 0)}return(0,$.of)(c)})),A=this.scrollPosition$.pipe((0,U.U)(c=>this._scrollPosition=c||0),(0,U.U)(c=>Math.max(c,0)),(0,X.h)(()=>!(this.ignoreScrollCount>0&&(this.ignoreScrollCount--,1))),(0,de.x)()),Q=this.mode$.pipe((0,U.U)(c=>this._mode=c),(0,de.x)()),I=this.direction$.pipe((0,U.U)(c=>this._direction=c),(0,de.x)()),K=this.itemsSize$.pipe((0,de.x)(),(0,H.b)(c=>this._itemsSize=c)),F=this.element$.pipe((0,H.b)(c=>{c||(this.viewPort=void 0,this.ignoreScrollCount=0,this.lastCalculatedSize=void 0)}));I.pipe((0,oe.V)(m,Q,this.deleteSizeCache$),(0,X.h)(([c,v,E])=>(null==v?void 0:v.length)&&"auto"===E),(0,y.w)(([c,v])=>v),(0,le.R)(this.destroyed$)).subscribe(c=>c.size=void 0),F.pipe((0,oe.V)(m,P,this.ensureParams$,I,Q,K,w),(0,Fe.b)(1),(0,oe.V)(A),(0,X.h)(([[c]])=>!!c),(0,y.w)(([[c,v,E,M,x,D,z,_],T])=>{z||(z=g.itemDefaultSize);const b=this.lastCalculatedSize||_||i(c),V=this._scrollPosition;let O="auto"===_?0:+_;return(null==v?void 0:v.length)&&("auto"===b||b<2*g.itemDefaultSize)?(this.viewPortResult$.next(this.measureViewPort),(0,re.H)(1).pipe((0,U.U)(()=>{if(O=this.lastCalculatedSize=i(c),"fixed"===this.mode)v.length*z<O&&(O=v.length*z);else if("variable"===this.mode){let Z=0;v.find(N=>(Z+=N.size||z,Z>O)),Z<O&&(O=Z)}return{element:c,scrollPos:V,items:v,maxSizeValue:O,itemDefaultSize:z,ensureParams:M}}))):(O=O||this.lastCalculatedSize,(0,$.of)({element:c,scrollPos:V,items:v,maxSizeValue:O,itemDefaultSize:z,ensureParams:M}))}),(0,y.w)(({element:c,scrollPos:v,items:E,maxSizeValue:M,itemDefaultSize:x,ensureParams:D})=>p(E,M,v,c,x,D)),(0,le.R)(this.destroyed$)).subscribe(c=>{this.viewPortResult$.next(c)},c=>console.error(c)),this.viewPortResult$.pipe((0,le.R)(this.destroyed$)).subscribe(c=>this.viewPort=c)}get mode(){return this._mode}get itemsSize(){return this._itemsSize}get direction(){return this._direction}deleteSizeCache(){this.deleteSizeCache$.next(!0)}clear(){this.viewPortResult$.next(this.emptyViewPort)}refresh(e){this.refresh$.next(e||null)}}return g.itemDefaultSize=40,g.\u0275fac=function(e){return new(e||g)},g.\u0275prov=G.Yz7({token:g,factory:g.\u0275fac}),g})(),$e=(()=>{class g{constructor(){console.warn("@deja-js/component/core/SortingService is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/tem-list/SortingService instead.")}sort$(e,i){return(0,$.of)(this.sort(e,i))}sort(e,i){if(null==e?void 0:e.length){const l=i instanceof Array?i:[i];let r=l.length;for(;--r>=0;){const o=l[r];e=(0,Re.Z)(e,o.name),"descending"===o.order&&(e=e.reverse())}}return e}sortTree$(e,i,l){return l=l||"items",this.sort$(e,i).pipe((0,y.w)(r=>r),(0,y.w)(r=>r&&r[l]?this.sortTree$(r[l],i,l).pipe((0,U.U)(o=>(r[l]=o,r))):(0,$.of)(r)),(0,ie.u)((r,o)=>[...r,o],[]))}}return g.\u0275fac=function(e){return new(e||g)},g.\u0275prov=G.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),_e=(()=>{class g{group$(e,i,l="items"){if(!e||0===e.length||!i)return(0,$.of)(e);if(i instanceof Array){let r=(0,$.of)(e);return i.forEach(o=>r=r.pipe((0,y.w)(a=>this.group$(a,o,l)))),r}{const r=i;if(!e[0][l])return this.groupChildren$(e,r,0,l);const o=(a,p)=>(0,k.D)(a).pipe((0,y.w)(m=>{var P;const w=m[l];return(null==(P=w[0])?void 0:P[l])?o(w,p+1).map(()=>m):this.groupChildren$(w,r,p,l).pipe((0,U.U)(A=>(m[l]=A,m)))}),(0,ie.u)((m,w)=>[...m,w],[]));return o(e,1)}}groupChildren$(e,i,l,r){return(0,k.D)(e).pipe((0,ie.u)((o,a)=>{let p="function"==typeof i.groupByField?i.groupByField(a):a[i.groupByField];"function"==typeof a[p]&&(p=a[p]()),p||(p=this.getTextValue(a));let m=o[p];if(!m){const w=i.groupTextField&&("function"==typeof i.groupTextField?i.groupTextField(a):a[i.groupTextField])||p;m=o[p]={depth:l,toString:()=>w,$text:w},m[r]=[]}return m[r].push(a),o},{}),(0,U.U)(o=>Object.keys(o).map(a=>o[a])),(0,H.b)(o=>o.forEach(a=>{var p;return a.sortField=(null==(p=i.sortInfos)?void 0:p.name)||"toString"})),(0,y.w)(o=>i.sortInfos?(new $e).sort$(o,i.sortInfos):(0,$.of)(o)))}getTextValue(e){return e?e.displayName?"string"==typeof e.displayName?e.displayName:e.displayName():"function"==typeof e.toString?e.toString():"":""}}return g.\u0275fac=function(e){return new(e||g)},g.\u0275prov=G.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),pe=(()=>{class g{constructor(){this._waiter$=new q.X(!1),this._cache={},this._childrenField=g.defaultChildrenField,this.compareItems=(e,i)=>{const l=r=>null!=r;if(!l(e)||!l(i))return!1;if(e.equals)return e.equals(i);if(i.equals)return i.equals(e);{const r=e.model,o=e.model;return(null==r?void 0:r.equals)?r.equals(i.model):(null==o?void 0:o.equals)?o.equals(e.model):this.getValue(e,this._valueField)===this.getValue(i,this._valueField)}}}static getItemValue(e,i){var r;const l=o=>null!=o;if(i){const o=i.split(".");let a=void 0!==(null==(r=e.model)?void 0:r[o[0]])?e.model:e;if(o.forEach(p=>{a=null==a?void 0:a[p]}),l(a))return"function"==typeof a?a():a}return l(e.value)?e.value:l(e.model)&&e.model||e}static getItemText(e,i){var l;if(e){if(i){const r=i.split(".");let o=void 0!==(null==(l=e.model)?void 0:l[r[0]])?e.model:e;return r.forEach(a=>{o=null==o?void 0:o[a]}),void 0!==o?"function"==typeof o?o():o:""}if(e.displayName)return"string"==typeof e.displayName?e.displayName:e.displayName();if("function"==typeof e.toString)return e.toString()}return""}get lastQuery(){return this._lastQuery}setLoadingItems(e){this.loadingItems$=e}setSelectingItem(e){this.selectingItem$=e}setUnselectingItem(e){this.unselectingItem$=e}setExpandingItem(e){this.expandingItem$=e}setCollapsingItem(e){this.collapsingItem$=e}get waiter$(){return this._waiter$}set childrenField(e){this._childrenField=e||g.defaultChildrenField,this.invalidateCache()}get childrenField(){return this._childrenField}set hideSelected(e){this._hideSelected=e}get hideSelected(){return this._hideSelected}set valueField(e){this._valueField=e}get valueField(){return this._valueField}get hasCache(){return this._cache&&!!this._cache.visibleList}set items(e){this._items=e,this.invalidateCache()}get items(){return this._items}setItems$(e){if(e){if(e instanceof Array)return this.ensureChildrenProperties(e),this.ensureSelectedItems(e),this.items=e,this._waiter$.next(!1),(0,$.of)(e);{this.items=void 0,this._waiter$.next(!0);let i=e;return void 0===i.subscribe&&(i=(0,k.D)(e)),i.pipe((0,U.U)(l=>l?(this.ensureChildrenProperties(l),this.ensureSelectedItems(l),this.items=[...this.items||[],...l],this._waiter$.next(!1),l):(this.items=[],this._waiter$.next(!1),[])))}}return this.items=void 0,(0,$.of)(null)}setModels$(e){return this.setItems$(e)}get groupInfos(){return this._groupInfos}getItems(){return this.items}getItemFromIndex(e){return this._cache.visibleList?this._cache.visibleList[e]:null}getItemIndex(e){return this._cache.visibleList?this._cache.visibleList.findIndex(i=>this.compareItems(e,i)):-1}getSortingService(){return this._sortingService||(this._sortingService=new $e),this._sortingService}setSortingService(e){this._sortingService=e}getGroupingService(){return this._groupingService||(this._groupingService=new _e),this._groupingService}setGroupingService(e){this._groupingService=e}getTextValue(e,i){return g.getItemText(e,i)}getValue(e,i){return g.getItemValue(e,i)}drop$(){return new ue.y(e=>{if(!this._ddList||!this.items)return void e.next(!1);const i=this._ddCurrentIndex,l=this._ddList[i];if(!l)throw new Error("invalid drag infos stored in cache.");const r=this._ddList[i-1];let o,a=this._cache.flatList.findIndex(A=>A===r),p=0;for(;a>=0;){const A=this._cache.flatList[a];if(void 0===A.depth){p=a;break}if(A.depth===l.depth-1){o=A;break}A.depth===l.depth&&++p,--a}const m=(A,Q)=>{for(let I=0;I<Q.length;I++){const K=Q[I];if(K===A)return{index:I,list:Q};if(void 0!==K.$items){const F=m(A,K.$items);if(F)return F}}},w=m(l,this.items);w.list.splice(w.index,1);const P=o?o.$items:this.items;p>w.index&&w.list===P&&--p,P.splice(p,0,l),this.invalidateCache(),e.next(!0)})}calcDragTargetIndex$(e,i){return new ue.y(l=>{const r=this._ddList||this._cache.visibleList;if(!r)throw new Error("Empty cache on calcDragTargetIndex");const o=void 0!==this._ddCurrentIndex?this._ddCurrentIndex:e;if(o>=r.length)return void l.next(r.length-1);const a=r[o],p=o;if(void 0!==a.depth&&i!==o){if(i<o){let m=0;for(let w=o-1;w>=0;w--)if(r[w].depth<=a.depth){m=w;break}if(i<=m)for(let w=i;w<=m;w++){const P=r[w];if(P.depth===a.depth)return void l.next(w);if(P.depth===a.depth-1)return void l.next(w+1)}}if(i>o){let m=r.length-1;for(let w=o+1;w<r.length;w++)if(r[w].depth<=a.depth){m=w;break}if(i>=m){for(let P=i+1;P<r.length;P++){const A=r[P];if(A.depth===a.depth)return void l.next(P);if(A.depth===a.depth-1)return void l.next(P-1)}if(r[m].depth===a.depth)return void l.next(m)}}}l.next(p)})}toggleAll$(e){return(0,$.of)(this._cache.flatList).pipe((0,U.U)(i=>i.filter(l=>{var r;return l.$items&&(null==(r=l.collapsible)||r)})),(0,H.b)(()=>delete this._cache.visibleList),(0,y.w)(i=>e?this.collapseItems$(i):this.expandItems$(i)))}toggleCollapse$(e,i){var a;const l=this._cache.visibleList;if(!l||!l.length)throw new Error("Empty cache on toggleCollapse");const r=l[e];return!r||null!=(a=r.collapsible)&&!a?(0,$.of)([]):(void 0!==i?i:!r.collapsed)?this.collapseItem$(r):this.expandItem$(r)}expandItems$(e){return(0,k.D)(e||[]).pipe((0,y.w)(i=>this.expandItem$(i)),(0,ie.u)((i,l)=>[...i,l],[]))}collapseItems$(e){return(0,k.D)(e||[]).pipe((0,y.w)(i=>this.collapseItem$(i)),(0,ie.u)((i,l)=>[...i,l],[]))}expandItem$(e){return(0,$.of)(e).pipe((0,X.h)(i=>!!i),(0,y.w)(i=>this.expandingItem$?this.expandingItem$(i):(0,$.of)(i)),(0,X.h)(i=>!!i),(0,H.b)(i=>{i.collapsed=!1,delete this._cache.visibleList}))}collapseItem$(e){return(0,$.of)(e).pipe((0,X.h)(i=>!!i),(0,y.w)(i=>this.collapsingItem$?this.collapsingItem$(i):(0,$.of)(i)),(0,X.h)(i=>!!i),(0,H.b)(i=>{i.collapsed=!0,delete this._cache.visibleList}))}getSelectedItems(){return this.selectedList||[]}setSelectedItems(e){this.selectedList&&this.selectedList.forEach(i=>{i.selected=!1}),this.selectedList=e,this.hideSelected&&delete this._cache.visibleList,this.ensureSelectedItems(this.items)}unselectAll$(){this.hideSelected&&delete this._cache.visibleList;const e=this.selectedList;return this.selectedList=[],this.unSelectItems$(e)}selectRange$(e,i){void 0===i&&(i=e);const l=this._cache.visibleList;if(!l||!l.length)throw new Error("Empty cache on selection");return this.unselectAll$().pipe((0,U.U)(()=>l.slice(Math.min(e,i),1+Math.max(e,i))),(0,U.U)(r=>r.filter(o=>{var a;return null==(a=o.selectable)||a})),(0,H.b)(()=>{this.hideSelected&&delete this._cache.visibleList}),(0,y.w)(r=>this.selectItems$(r).pipe((0,U.U)(o=>o.length))))}toggleSelect$(e,i){return function(g,n,e){return(0,ve.P)(()=>i?n:e)}(0,this.selectItems$(e=e||[]),this.unSelectItems$(e)).pipe((0,U.U)(()=>(this.hideSelected&&delete this._cache.visibleList,this.selectedList)))}selectItems$(e){return(0,k.D)(e||[]).pipe((0,y.w)(i=>this.selectItem$(i)),(0,ie.u)((i,l)=>[...i,l],[]))}unSelectItems$(e){return(0,k.D)(e||[]).pipe((0,X.h)(i=>i.selected),(0,y.w)(i=>this.unSelectItem$(i)),(0,ie.u)((i,l)=>[...i,l],[]))}selectItem$(e){return(0,$.of)(e).pipe((0,X.h)(i=>!!i),(0,y.w)(i=>this.selectingItem$?this.selectingItem$(i):(0,$.of)(i)),(0,X.h)(i=>!!i),(0,H.b)(i=>{this.selectedList||(this.selectedList=[]),i.selected=!0,this.selectedList.push(i)}))}unSelectItem$(e){return(0,$.of)(e).pipe((0,X.h)(i=>!!i),(0,y.w)(i=>this.unselectingItem$?this.unselectingItem$(i):(0,$.of)(i)),(0,X.h)(i=>!!i),(0,H.b)(i=>{var l;if(i.selected=!1,null==(l=this.selectedList)?void 0:l.length){const r=this.selectedList.findIndex(o=>this.compareItems(o,i));r>=0&&this.selectedList.splice(r,1)}}))}findNextMatch$(e,i){let l={index:-1};const r=this._cache.visibleList;if(!r||!r.length)throw new Error("Empty cache on findNextMatch");if(r.length){(i<0||i>=r.length)&&(i=-1);let o=i+1;for(;o!==i;){const a=r[o];if(e(a,o)){l={index:o,item:a};break}if(o++,o>=r.length){if(-1===i)break;o=0}}}return(0,$.of)(l)}sort$(e){if(!this.items)throw new Error("No Items");const i=this.getSortingService().sortTree$(this._cache.groupedList,e,"$items").pipe((0,H.b)(l=>{this._cache.groupedList=l,this.invalidateViewCache()}));return this._cache.groupedList&&0!==this._cache.groupedList.length?i:this.getGroupedList$(this.items).pipe((0,H.b)(l=>this._cache.groupedList=l),(0,y.w)(()=>i))}group$(e){return this._groupInfos=e,this.invalidateCache(),this.ensureChildrenProperties(this.items),(0,$.of)(e)}ungroup$(e){const i=this._groupInfos?this._groupInfos.findIndex(l=>l.groupByField===e.groupByField):-1;return i>=0&&this._groupInfos.splice(i,1),this.invalidateCache(),this.ensureChildrenProperties(this.items),(0,$.of)(e)}getParentListInfos$(e,i){return this.ensureFlatListCache$(!0,i).pipe((0,y.w)(r=>{let a,o=r.findIndex(p=>p===e);if(o<0)throw new Error("Item not found.");if(e.depth){let p=0;for(;--o>=0;){const m=r[o];m.depth<e.depth&&(a={index:p,parent:m}),p++}}else a={index:this.items.findIndex(m=>m===e)};return(0,$.of)(a)}))}invalidateCache(){this._cache={},this.ensureChildrenProperties(this.items)}invalidateRowsHeightCache(){this._items&&this._items.forEach(e=>e.size=void 0)}getViewList$(e,i,l,r,o,a){var Q;const p={},m=(null==i?void 0:i.toString())!==(null==(Q=this._lastQuery)?void 0:Q.toString());let P;if(l=l||m||!this.items||!this.items.length,this._lastQuery=i,i)if("string"==typeof i)try{const I=(I=>(["\\","/","|","&",";","$","%","@",'"',"<",">","(",")","+"].forEach(F=>I=I.replace(F,`\\${F}`)),I))(i=(new j.R5).remove(i));P=new RegExp(I,"i")}catch(I){console.log("Invalid search parameters")}else P=i,void 0===P.test&&(P=void 0);const A=()=>{let I;if(void 0!==r&&void 0!==o&&r!==o){if(!this._ddList){this._ddList=[...this._cache.visibleList];const c=this._ddList[r].depth;let v=r;if(void 0!==c)for(let E=r+1;E<this._ddList.length&&!(this._ddList[E].depth<=c);E++)v=E;this._ddChildCount=v-r+1,this._ddCurrentIndex=r}const K=this._ddList.splice(this._ddCurrentIndex,this._ddChildCount);o>this._ddCurrentIndex&&(o-=this._ddChildCount,++o),this._ddCurrentIndex=o,K.forEach(F=>this._ddList.splice(o++,0,F)),I=this._ddList}else delete this._ddList,delete this._ddCurrentIndex,delete this._ddChildCount,I=this._cache.visibleList||[];return p.depthMax=this._cache.depthMax,p.visibleList=I,p};return l?(this.waiter$.next(!0),(m||!this.items||!this.items.length)&&(this.internalQuery=P),this.getItemList$(i,this.selectedList).pipe((0,H.b)(I=>{(!this.items||!this.items.length)&&this.ensureSelectedItems(I),I!==this.items&&(this.items=I,this.internalQuery=void 0,this.ensureChildrenProperties(I)),delete this._cache.visibleList,this.waiter$.next(void 0===this.items)}),(0,y.w)(()=>this.ensureVisibleListCache$(e,this.internalQuery,m,a)),(0,U.U)(A))):this.ensureVisibleListCache$(e,this.internalQuery,m,a).pipe((0,U.U)(A))}ensureSelection(){return this.ensureSelectedItems(this.items)}getItemList$(e,i){return this.loadingItems$?this.loadingItems$(e,i):(0,$.of)(this.items)}itemMatch(e,i,l){if(e.$items)return!0;const o=e[i],a="function"==typeof o?o():o||this.getTextValue(e,i);return a&&l.test((new j.R5).remove(a))}getGroupedList$(e){return e?this.getGroupingService().group$(this.items,this.groupInfos,"$items"):(0,$.of)([])}getVisibleList$(e,i,l,r,o){if(!e)return(0,$.of)([]);let a=[];const p=[];let m=!1;if(l){const w=(P,A,Q)=>{let I;return P&&P.forEach(K=>{const F=K;if(F.$items){if(this.isVisible(F)&&this.itemMatch(F,i,l)){m=!1;const c=w(F.$items,A+1,Q);c&&(F.collapsed&&r&&(F.collapsed=!1),I=I?F.collapsed&&[...I,F]||[...I,F,...c]:F.collapsed&&[F]||[F,...c],F.selected&&p.push(F))}}else this.itemMatch(K,i,l)&&(F.depth=A,I||(I=[]),!Q&&this.isVisible(K)&&!(K.selected&&this.hideSelected)&&(F.odd=m,m=!m,I.push(F))),F.selected&&p.push(F)}),I};a=w(e||[],0,!1)||[]}else{const w=(P,A,Q)=>{P&&P.forEach(I=>{!Q&&this.isVisible(I)&&!(I.selected&&this.hideSelected)&&(I.odd=m,m=!m,a.push(I)),I.selected&&p.push(I),I.$items&&(m=!1,w(I.$items,A+1,Q||I.collapsed||!this.isVisible(I)))})};w(e,0,!1)}return(0,$.of)(a).pipe((0,H.b)(()=>{o||(this.selectedList=p)}))}getFlatList$(e,i,l){if(!e)return(0,$.of)([]);const r=[],o=[];let a=0,p=!1,m=!1;const w=(P,A,Q)=>(0,k.D)(P||[]).pipe((0,H.b)(I=>{A>a&&(a=A),I.depth=A,!Q&&this.isVisible(I)&&!(I.selected&&this.hideSelected)&&(I.odd=m,m=!m,r.push(I)),I.selected&&o.push(I)}),(0,y.w)(I=>I.$items?(p=!0,m=!1,(0,Ae.z)((0,$.of)(I),w(I.$items,A+1,Q||I.collapsed))):(0,$.of)(I)));return w(e,0,!1).pipe((0,H.b)(()=>{l||(this.selectedList=o),i||(this._cache.visibleList=r),this._cache.depthMax=p?a:0}),(0,ie.u)((P,A)=>(P.push(A),P),[]))}invalidateViewCache(){delete this._cache.flatList,delete this._cache.visibleList,delete this._cache.depthMax,this._cache.rowsCount=0}ensureSelectedItems(e){if(this.selectedList&&this.selectedList.length>0){if(this.selectedList.forEach(r=>r.selected=!0),!e)return this.selectedList;const i=[],l=r=>{r.forEach(o=>{const a=this.selectedList.find(p=>this.compareItems(p,o));a&&(a.selected=!1,i.push(o)),o.$items&&l(o.$items)})};l(e),this.selectedList.filter(r=>r.selected).forEach(r=>i.push(r)),this.selectedList=i,this.selectedList.forEach(r=>r.selected=!0)}else{if(this.selectedList=[],!e)return this.selectedList;const i=l=>{l.forEach(r=>{r.selected&&this.selectedList.push(r),r.$items&&i(r.$items)})};i(e)}return this.selectedList}ensureVisibleListCache$(e,i,l,r){var o;return(null==(o=this._cache.visibleList)?void 0:o.length)?(0,$.of)(this._cache.visibleList):this.ensureFlatListCache$(!!i,r).pipe((0,y.w)(()=>this.getVisibleList$(this._cache.groupedList,e,i,l,r)),(0,H.b)(a=>{this._cache.visibleList=a,this._cache.rowsCount=a.length}))}ensureFlatListCache$(e,i){var l;return(null==(l=this._cache.flatList)?void 0:l.length)?(0,$.of)(this._cache.flatList):this.ensureGroupedListCache$().pipe((0,y.w)(()=>this.getFlatList$(this._cache.groupedList,e,i)),(0,H.b)(r=>{var o;(null==(o=this._cache.flatList)?void 0:o.length)&&this._cache.flatList!==r&&(delete this._cache.visibleList,this._cache.rowsCount=0,this._cache.depthMax=0,r&&r.forEach(a=>{a.depth&&a.depth>this._cache.depthMax&&(this._cache.depthMax=a.depth)})),this._cache.flatList=r}))}ensureGroupedListCache$(){var e;return(null==(e=this._cache.groupedList)?void 0:e.length)?(0,$.of)(this._cache.groupedList):this.groupInfos&&0!==this.groupInfos.length?this.items?this.getGroupedList$(this.items).pipe((0,H.b)(i=>{var l;(null==(l=this._cache.groupedList)?void 0:l.length)&&this._cache.groupedList!==i&&this.invalidateViewCache(),this._cache.groupedList=i})):(0,$.of)([]):(0,$.of)(this.items).pipe((0,H.b)(i=>this._cache.groupedList=i))}ensureChildrenProperties(e){!e||e.forEach(i=>{const l=i[this.childrenField];l&&(i.$items=l,this.ensureChildrenProperties(i.$items))})}isVisible(e){var i;return null==(i=e.visible)||i}}return g.defaultChildrenField="items",g.defaultTextField="displayName",g.defaultValueField="value",g})();class Ze extends j.yl{constructor(n,e){super(),this.changeDetectorRef=n,this.viewPort=e,this._waiter=!0,this._itemList=[],this._multiSelect=!1,this._currentItemIndex=-1,this._minSearchLength=0,this._vpBeforeHeight=0,this._vpAfterHeight=0,this._vpStartRow=0,this._vpEndRow=0,this._pageSize=0,this._depthMax=0,this.rowsCount=0,this.allCollapsed=!1,this._viewPortRowHeight=ge.itemDefaultSize,this._listElementId=`listcontainer_${(1e9*Math.random()).toString().substr(10)}`,e.viewPort$.pipe((0,y.w)(i=>{var r;let l=(0,$.of)(null);return delete this._hintLabel,"disabled"===e.mode?(this._itemList=i.items,this._vpStartRow=0,this._vpEndRow=0,this._vpBeforeHeight=0,this._vpAfterHeight=0):(this._itemList=i.visibleItems,this._vpStartRow=i.startIndex,this._vpEndRow=i.endIndex,this._vpBeforeHeight=i.beforeSize,this._vpAfterHeight=i.afterSize),void 0!==i.scrollPos&&this.listElement&&(this.listElement.getElementsByClassName("listitem").length!==i.visibleItems.length?l=(0,re.H)(1).pipe((0,X.h)(()=>!!this.listElement),(0,H.b)(()=>this.listElement.scrollTop=i.scrollPos)):this.listElement.scrollTop=i.scrollPos),this.changeDetectorRef.markForCheck(),null==(r=this._viewPortChanged)||r.next(i),l}),(0,le.R)(this.destroyed$)).subscribe()}get isMultiSelect(){return this._multiSelect}get itemList(){return this._itemList}get treeItemList(){return this._itemList}get ddStartIndex(){return this._ddStartIndex}get vpBeforeHeight(){return this._vpBeforeHeight}get vpAfterHeight(){return this._vpAfterHeight}get vpStartRow(){return this._vpStartRow}get vpEndRow(){return this._vpEndRow}get sortInfos(){return this._sortInfos}get groupInfos(){return this._itemListService.groupInfos}setHideSelected(n){this._hideSelected=n,this._itemListService&&(this._itemListService.hideSelected=n)}setChildrenField(n){this._childrenField=n,this._itemListService&&(this._itemListService.childrenField=n)}getItemIndexFromHTMLElement(n){for(;(null==n?void 0:n.parentElement)&&n.hasAttribute&&!n.hasAttribute("flat")&&n.parentElement.id!==this.listElementId;)n=n.parentElement;if(n&&n.hasAttribute("flat"))return+n.getAttribute("flat")}getItemFromHTMLElement(n){const e=this.getItemIndexFromHTMLElement(n);if(void 0!==e)return this._itemList[e-this.vpStartRow]}getItemListService(){return this._itemListService||this.setItemListService(new pe),this._itemListService}getSelectedItems(){return this.getItemListService().getSelectedItems()}setSelectedItems(n){this.getItemListService().setSelectedItems(n),this.changeDetectorRef.markForCheck()}setLoadingItems(n){this.getItemListService().setLoadingItems(n)}setSelectingItem(n){this.getItemListService().setSelectingItem(n)}setUnselectingItem(n){this.getItemListService().setUnselectingItem(n)}setExpandingItem(n){this.getItemListService().setExpandingItem(n)}setCollapsingItem(n){this.getItemListService().setCollapsingItem(n)}getTextValue(n){return this.getItemListService().getTextValue(n,this._textField)}setViewportMode(n){this.viewPort.mode$.next(n)}sort(n){this.sort$(n).pipe((0,se.q)(1),(0,le.R)(this.destroyed$)).subscribe()}sort$(n){const e=n||this._textField;return this._sortInfos?e===this._sortInfos.name?this._sortInfos.order="ascending"===this._sortInfos.order?"descending":"ascending":(this._sortInfos.name=e,this._sortInfos.order="ascending"):this._sortInfos={name:e,order:"ascending"},this.getItemListService().sort$(this._sortInfos).pipe((0,se.q)(1),(0,y.w)(i=>this.calcViewList$().pipe((0,se.q)(1),(0,U.U)(()=>i))))}group$(n){return this.getItemListService().group$(n).pipe((0,y.w)(()=>this.calcViewList$().pipe((0,se.q)(1))))}ungroup$(n){return this.getItemListService().ungroup$(n).pipe((0,y.w)(()=>this.calcViewList$().pipe((0,se.q)(1))))}toggleAll$(n){return this.allCollapsed=void 0!==n?n:!this.allCollapsed,"disabled"===this.viewPort.mode?(0,k.D)(this._itemList).pipe((0,X.h)(e=>{var i;return e.$items&&0===e.depth&&(null==(i=e.collapsible)||i)}),(0,y.w)((e,i)=>this.toggleCollapse$(i+this.vpStartRow,this.allCollapsed)),(0,ie.u)((e,i)=>(e.push(i),e),[])):this.getItemListService().toggleAll$(this.allCollapsed)}toggleCollapse$(n,e){return this.getItemListService().toggleCollapse$(n,e).pipe((0,y.w)(i=>this.calcViewList$().pipe((0,se.q)(1),(0,U.U)(()=>i))))}unselectAll$(){return this.getItemListService().unselectAll$()}refresh(){this.getItemListService().invalidateCache(),this.calcViewList$().pipe((0,se.q)(1),(0,le.R)(this.destroyed$)).subscribe()}refreshViewPort(n,e){const i={};n&&(i.items=n instanceof Array?n:[n]),e&&(i.clearMeasuredSize=e),this.viewPort.refresh(i),this.changeDetectorRef.markForCheck()}clearViewPort(){this.viewPort.clear()}clearRowsHeight(){this.getItemListService().invalidateRowsHeightCache()}getParentListInfos$(n){return this.getItemListService().getParentListInfos$(n,this._multiSelect)}get listElementId(){return this._listElementId}get listElement(){return this._listElement||document.getElementById(this.listElementId)}set listElement(n){this._listElement=n}getViewPortRowHeight(){return this._viewPortRowHeight||ge.itemDefaultSize}getCurrentItemIndex(){return this._currentItemIndex}getCurrentItem(){return!this._currentItem&&this._currentItemIndex>=0&&(this._currentItem=this.getItemListService().getItemFromIndex(this._currentItemIndex)),this._currentItem}getItemHeight(n){return"disabled"===this.viewPort.mode?null:"fixed"===this.viewPort.mode?this.getViewPortRowHeight():"auto"===this.viewPort.mode?n.size||null:n.size&&n.size>ge.itemDefaultSize?n.size:this.getViewPortRowHeight()}getSelectedModels(){return this.getItemListService().getSelectedItems().map(n=>void 0!==n.model?n.model:n)}setSelectedModels(n){this.setSelectedItems(n&&this.mapToIItemBase(n,!0))}findNextMatch$(n,e){return this.ensureListCaches$().pipe((0,y.w)(()=>this.getItemListService().findNextMatch$(n,e)))}setViewPortRowHeight(n){this._viewPortRowHeight=(0,me.su)(n),n&&this.viewPort.itemsSize$.next(this._viewPortRowHeight)}setItemListService(n){this.waiter$sub&&(this.waiter$sub.unsubscribe(),this.waiter$sub=void 0),this._itemListService=n,this._itemListService&&(this._itemListService.hideSelected=this._hideSelected,this._itemListService.childrenField=this._childrenField,this._itemListService.valueField=this._valueField,this.waiter$sub=this._itemListService.waiter$.pipe((0,le.R)(this.destroyed$)).subscribe(e=>{this._waiter=e,this.changeDetectorRef.markForCheck()}))}setSortingService(n){!n&&!this._itemListService||this._itemListService.setSortingService(n)}setGroupingService(n){!n&&!this._itemListService||this._itemListService.setGroupingService(n)}setHintLabel(n){this._hintLabel=n}setNodataLabel(n){this._nodataLabel=n}setCurrentItemIndex(n){this._currentItemIndex=n,this._currentItem=null}setCurrentItem(n){this._currentItemIndex=n?this.getItemListService().getItemIndex(n):-1,this._currentItem=n}getItemIndex(n){return n&&this.getItemListService()?this.getItemListService().getItemIndex(n):-1}setMultiSelect(n){this._multiSelect=n}setItems$(n){return n instanceof Array||this.clearViewPort(),this.getItemListService().setItems$(n)}setModels$(n){let e;e=n instanceof Array?(0,$.of)(n):n;const i=null==e?void 0:e.pipe((0,U.U)(l=>this.mapToIItemBase(l)));return this.setItems$(i)}getItems(){return this.getItemListService().getItems()}drop$(){return this.setCurrentItemIndex(-1),this.getItemListService().drop$()}getViewList$(n,e){if("string"==typeof n&&(n||"").length<this._minSearchLength){const i={depthMax:0,visibleList:[]};return this.getItems()?(0,$.of)(i):this.setItems$([]).pipe((0,U.U)(()=>i))}return this.getItemListService().getViewList$(this._searchField||this._textField,n,e,this._ddStartIndex,this._ddTargetIndex,this._multiSelect)}selectRange$(n,e){const i=this.getItemListService();return this.ensureListCaches$().pipe((0,y.w)(()=>i.selectRange$(n,e)))}toggleSelect$(n,e){return this.getItemListService().toggleSelect$(n,e)}isCollapsible(n){var e;return(null==n?void 0:n.$items)&&(null==(e=n.collapsible)||e)}isSelectable(n){var e;return n&&(null==(e=n.selectable)||e)}setTextField(n){this._textField=n}getTextField(){return this._textField||pe.defaultTextField}setValueField(n){this._valueField=n,this._itemListService&&(this._itemListService.valueField=n)}getValueField(){return this._valueField||pe.defaultValueField}setSearchField(n){this._searchField=n}setMaxHeight(n){this._maxHeight="auto"===n?null:+n||null,this.viewPort.maxSize$.next(n)}getMaxHeight(){return this._maxHeight}calcDragTargetIndex$(n,e){return this.ensureListCaches$().pipe((0,y.w)(()=>this.getItemListService().calcDragTargetIndex$(n,e)))}getItemTreeInfo(n,e){const i=n.findIndex(p=>p===e);if(i<0)return null;const r=e.depth;let o=i;const a=[];if(void 0!==r)for(let p=i+1;p<n.length;p++){const m=n[p];if(m.depth<=r)break;a.push(m),o=p}return{children:a,item:e,lastIndex:o,startIndex:i}}calcViewList$(n){return this.getViewList$(n).pipe((0,H.b)(e=>{void 0!==e.depthMax&&(this._depthMax=e.depthMax),this.rowsCount=e.visibleList.length,this.viewPort.items$.next(e.visibleList)}))}ensureListCaches$(){return this._itemListService.hasCache?(0,$.of)(null):this.getViewList$()}ensureItemVisible(n){this.viewPort.ensureItem$.next(n)}mapToIItemBase(n,e){return(n||[]).map(l=>{const r={};r.model=l;const o=this.getTextField(),a=this.getValueField();"string"==typeof l?(r[o]=l,r[a]=l,this._searchField&&(r[this._searchField]=l)):(r[o]=this.getTextValue(l),r[a]=l[a],this._searchField&&(r[this._searchField]=l[this._searchField]));const p=this.getItemListService().childrenField;return l[p]?r[p]=this.mapToIItemBase(l[p],e):r.selected=e||void 0,r})}getVirtualSelectedEntities(n){const e=i=>{"string"==typeof i&&(i=i.trim());const l={},r=this.getTextField(),o=this.getValueField();return l[r]=i.toString(),l[o]=i,l};if(n){const i=typeof n;if("string"===i||"number"===i)n=this._multiSelect?n.split(",").map(e):e(n);else if(n instanceof Array&&n.length){const l=typeof n[0];("string"===l||"number"===l)&&(n=this._multiSelect?n.map(e):e(n[0]))}else n instanceof Array&&!this._multiSelect&&(n=null)}return n}}let we=(()=>{class g{}return g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=G.Xpm({type:g,selectors:[["deja-sort-indicator"]],inputs:{sortInfos:["sort-infos","sortInfos"]},decls:3,vars:1,template:function(e,i){1&e&&(G.TgZ(0,"span"),G.TgZ(1,"mat-icon"),G._uU(2,"arrow_upward"),G.qZA(),G.qZA()),2&e&&G.uIk("sortorder",i.sortInfos?i.sortInfos.order:null)},directives:[Le.Hw],styles:['[_nghost-%COMP%]{display:block;position:relative;width:1rem}[_nghost-%COMP%]   [sortorder][_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);transition:all .5s linear;padding:.3rem;zoom:72%}[_nghost-%COMP%]   [sortorder="1"][_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}']}),g})(),xe=(()=>{class g{}return g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=G.oAB({type:g}),g.\u0275inj=G.cJS({imports:[[Le.Ps]]}),g})(),De=(()=>{class g{}return g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=G.oAB({type:g}),g.\u0275inj=G.cJS({imports:[[Pe.ez]]}),g})()},2876:(lt,Me,L)=>{L.d(Me,{Z:()=>Xi});var Pe=L(3742),G=L(3749),me=L(6247),j=L(6874),ve=G.Z?G.Z.isConcatSpreadable:void 0;const q=function(t){return(0,j.Z)(t)||(0,me.Z)(t)||!!(ve&&t&&t[ve])},$=function Se(t,s,h,d,u){var f=-1,S=t.length;for(h||(h=q),u||(u=[]);++f<S;){var C=t[f];s>0&&h(C)?s>1?Se(C,s-1,h,d,u):(0,Pe.Z)(u,C):d||(u[u.length]=C)}return u},re=function(t,s){for(var h=-1,d=null==t?0:t.length,u=Array(d);++h<d;)u[h]=s(t[h],h,t);return u};var H=L(9250),oe=L(1467);const X=function(t){return"symbol"==typeof t||(0,oe.Z)(t)&&"[object Symbol]"==(0,H.Z)(t)};var le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/;const k=function(t,s){if((0,j.Z)(t))return!1;var h=typeof t;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=t&&!X(t))||Fe.test(t)||!le.test(t)||null!=s&&t in Object(s)};var ue=L(3882);function se(t,s){if("function"!=typeof t||null!=s&&"function"!=typeof s)throw new TypeError("Expected a function");var h=function(){var d=arguments,u=s?s.apply(this,d):d[0],f=h.cache;if(f.has(u))return f.get(u);var S=t.apply(this,d);return h.cache=f.set(u,S)||f,S};return h.cache=new(se.Cache||ue.Z),h}se.Cache=ue.Z;const Re=se;var $e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,pe=function(t){var s=Re(t,function(d){return 500===h.size&&h.clear(),d}),h=s.cache;return s}(function(t){var s=[];return 46===t.charCodeAt(0)&&s.push(""),t.replace($e,function(h,d,u,f){s.push(u?f.replace(_e,"$1"):d||h)}),s});const Ze=pe;var Oe=G.Z?G.Z.prototype:void 0,we=Oe?Oe.toString:void 0;const De=function xe(t){if("string"==typeof t)return t;if((0,j.Z)(t))return re(t,xe)+"";if(X(t))return we?we.call(t):"";var s=t+"";return"0"==s&&1/t==-1/0?"-0":s},n=function(t){return null==t?"":De(t)},i=function(t,s){return(0,j.Z)(t)?t:k(t,s)?[t]:Ze(n(t))},o=function(t){if("string"==typeof t||X(t))return t;var s=t+"";return"0"==s&&1/t==-1/0?"-0":s},p=function(t,s){for(var h=0,d=(s=i(s,t)).length;null!=t&&h<d;)t=t[o(s[h++])];return h&&h==d?t:void 0};var m=L(5180);function K(t){var s=-1,h=null==t?0:t.length;for(this.__data__=new ue.Z;++s<h;)this.add(t[s])}K.prototype.add=K.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},K.prototype.has=function(t){return this.__data__.has(t)};const F=K,v=function(t,s){for(var h=-1,d=null==t?0:t.length;++h<d;)if(s(t[h],h,t))return!0;return!1},M=function(t,s){return t.has(s)},_=function(t,s,h,d,u,f){var S=1&h,C=t.length,R=s.length;if(C!=R&&!(S&&R>C))return!1;var B=f.get(t),ee=f.get(s);if(B&&ee)return B==s&&ee==t;var W=-1,Y=!0,he=2&h?new F:void 0;for(f.set(t,s),f.set(s,t);++W<C;){var te=t[W],ne=s[W];if(d)var ce=S?d(ne,te,W,s,t,f):d(te,ne,W,t,s,f);if(void 0!==ce){if(ce)continue;Y=!1;break}if(he){if(!v(s,function(ae,fe){if(!M(he,fe)&&(te===ae||u(te,ae,h,d,f)))return he.push(fe)})){Y=!1;break}}else if(te!==ne&&!u(te,ne,h,d,f)){Y=!1;break}}return f.delete(t),f.delete(s),Y};var T=L(1818),b=L(9516);const O=function(t){var s=-1,h=Array(t.size);return t.forEach(function(d,u){h[++s]=[u,d]}),h},N=function(t){var s=-1,h=Array(t.size);return t.forEach(function(d){h[++s]=d}),h};var Ue=G.Z?G.Z.prototype:void 0,Ve=Ue?Ue.valueOf:void 0;var Ne=L(6157),_t=Object.prototype.hasOwnProperty;var Ge=L(7066),Xe=L(8802),bt=L(4609),Qe="[object Arguments]",Ye="[object Array]",be="[object Object]",Ke=Object.prototype.hasOwnProperty;const Mt=function(t,s,h,d,u,f){var S=(0,j.Z)(t),C=(0,j.Z)(s),R=S?Ye:(0,Ge.Z)(t),B=C?Ye:(0,Ge.Z)(s),ee=(R=R==Qe?be:R)==be,W=(B=B==Qe?be:B)==be,Y=R==B;if(Y&&(0,Xe.Z)(t)){if(!(0,Xe.Z)(s))return!1;S=!0,ee=!1}if(Y&&!ee)return f||(f=new m.Z),S||(0,bt.Z)(t)?_(t,s,h,d,u,f):function(t,s,h,d,u,f,S){switch(h){case"[object DataView]":if(t.byteLength!=s.byteLength||t.byteOffset!=s.byteOffset)return!1;t=t.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=s.byteLength||!f(new T.Z(t),new T.Z(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,b.Z)(+t,+s);case"[object Error]":return t.name==s.name&&t.message==s.message;case"[object RegExp]":case"[object String]":return t==s+"";case"[object Map]":var C=O;case"[object Set]":if(C||(C=N),t.size!=s.size&&!(1&d))return!1;var B=S.get(t);if(B)return B==s;d|=2,S.set(t,s);var ee=_(C(t),C(s),d,u,f,S);return S.delete(t),ee;case"[object Symbol]":if(Ve)return Ve.call(t)==Ve.call(s)}return!1}(t,s,R,h,d,u,f);if(!(1&h)){var he=ee&&Ke.call(t,"__wrapped__"),te=W&&Ke.call(s,"__wrapped__");if(he||te){var ne=he?t.value():t,ce=te?s.value():s;return f||(f=new m.Z),u(ne,ce,h,d,f)}}return!!Y&&(f||(f=new m.Z),function(t,s,h,d,u,f){var S=1&h,C=(0,Ne.Z)(t),R=C.length;if(R!=(0,Ne.Z)(s).length&&!S)return!1;for(var W=R;W--;){var Y=C[W];if(!(S?Y in s:_t.call(s,Y)))return!1}var he=f.get(t),te=f.get(s);if(he&&te)return he==s&&te==t;var ne=!0;f.set(t,s),f.set(s,t);for(var ce=S;++W<R;){var ae=t[Y=C[W]],fe=s[Y];if(d)var rt=S?d(fe,ae,Y,s,t,f):d(ae,fe,Y,t,s,f);if(!(void 0===rt?ae===fe||u(ae,fe,h,d,f):rt)){ne=!1;break}ce||(ce="constructor"==Y)}if(ne&&!ce){var ye=t.constructor,Ee=s.constructor;ye!=Ee&&"constructor"in t&&"constructor"in s&&!("function"==typeof ye&&ye instanceof ye&&"function"==typeof Ee&&Ee instanceof Ee)&&(ne=!1)}return f.delete(t),f.delete(s),ne}(t,s,h,d,u,f))},We=function Je(t,s,h,d,u){return t===s||(null==t||null==s||!(0,oe.Z)(t)&&!(0,oe.Z)(s)?t!=t&&s!=s:Mt(t,s,h,d,Je,u))};var je=L(2057);const qe=function(t){return t==t&&!(0,je.Z)(t)};var ke=L(1380);const et=function(t,s){return function(h){return null!=h&&h[t]===s&&(void 0!==s||t in Object(h))}},Vt=function(t){var s=function(t){for(var s=(0,ke.Z)(t),h=s.length;h--;){var d=s[h],u=t[d];s[h]=[d,u,qe(u)]}return s}(t);return 1==s.length&&s[0][2]?et(s[0][0],s[0][1]):function(h){return h===t||function(t,s,h,d){var u=h.length,f=u,S=!d;if(null==t)return!f;for(t=Object(t);u--;){var C=h[u];if(S&&C[2]?C[1]!==t[C[0]]:!(C[0]in t))return!1}for(;++u<f;){var R=(C=h[u])[0],B=t[R],ee=C[1];if(S&&C[2]){if(void 0===B&&!(R in t))return!1}else{var W=new m.Z;if(d)var Y=d(B,ee,R,t,s,W);if(!(void 0===Y?We(ee,B,3,d,W):Y))return!1}}return!0}(h,t,s)}},Nt=function(t,s){return null!=t&&s in Object(t)};var tt=L(3705),Gt=L(4690);const Kt=function(t,s){return null!=t&&function(t,s,h){for(var d=-1,u=(s=i(s,t)).length,f=!1;++d<u;){var S=o(s[d]);if(!(f=null!=t&&h(t,S)))break;t=t[S]}return f||++d!=u?f:!!(u=null==t?0:t.length)&&(0,Gt.Z)(u)&&(0,tt.Z)(S,u)&&((0,j.Z)(t)||(0,me.Z)(t))}(t,s,Nt)},qt=function(t,s){return k(t)&&qe(s)?et(o(t),s):function(h){var d=function(t,s,h){var d=null==t?void 0:p(t,s);return void 0===d?h:d}(h,t);return void 0===d&&d===s?Kt(h,t):We(s,d,3)}},Ce=function(t){return t},ri=function(t){return k(t)?function(t){return function(s){return null==s?void 0:s[t]}}(o(t)):function(t){return function(s){return p(s,t)}}(t)},hi=function(t){return"function"==typeof t?t:null==t?Ce:"object"==typeof t?(0,j.Z)(t)?qt(t[0],t[1]):Vt(t):ri(t)};const di=function(s,h,d){for(var u=-1,f=Object(s),S=d(s),C=S.length;C--;){var R=S[++u];if(!1===h(f[R],R,f))break}return s};var He=L(5021),gi=function(t,s){return function(h,d){if(null==h)return h;if(!(0,He.Z)(h))return t(h,d);for(var u=h.length,f=-1,S=Object(h);++f<u&&!1!==d(S[f],f,S););return h}}(function(t,s){return t&&di(t,s,ke.Z)});const pi=gi;var Li=L(982);const _i=function(t,s){if(t!==s){var h=void 0!==t,d=null===t,u=t==t,f=X(t),S=void 0!==s,C=null===s,R=s==s,B=X(s);if(!C&&!B&&!f&&t>s||f&&S&&R&&!C&&!B||d&&S&&R||!h&&R||!u)return 1;if(!d&&!f&&!B&&t<s||B&&h&&u&&!d&&!f||C&&h&&u||!S&&u||!R)return-1}return 0},Ci=function(t,s,h){s=s.length?re(s,function(f){return(0,j.Z)(f)?function(S){return p(S,1===f.length?f[0]:f)}:f}):[Ce];var d=-1;s=re(s,(0,Li.Z)(hi));var u=function(t,s){var h=-1,d=(0,He.Z)(t)?Array(t.length):[];return pi(t,function(u,f,S){d[++h]=s(u,f,S)}),d}(t,function(f,S,C){return{criteria:re(s,function(B){return B(f)}),index:++d,value:f}});return function(t,s){var h=t.length;for(t.sort(s);h--;)t[h]=t[h].value;return t}(u,function(f,S){return function(t,s,h){for(var d=-1,u=t.criteria,f=s.criteria,S=u.length,C=h.length;++d<S;){var R=_i(u[d],f[d]);if(R)return d>=C?R:R*("desc"==h[d]?-1:1)}return t.index-s.index}(f,S,h)})},Ei=function(t,s,h){switch(h.length){case 0:return t.call(s);case 1:return t.call(s,h[0]);case 2:return t.call(s,h[0],h[1]);case 3:return t.call(s,h[0],h[1],h[2])}return t.apply(s,h)};var it=Math.max;const Fi=function(t){return function(){return t}};var st=L(6605),Ai=st.Z?function(t,s){return(0,st.Z)(t,"toString",{configurable:!0,enumerable:!1,value:Fi(s),writable:!0})}:Ce,Oi=Date.now,Vi=function(t){var s=0,h=0;return function(){var d=Oi(),u=16-(d-h);if(h=d,u>0){if(++s>=800)return arguments[0]}else s=0;return t.apply(void 0,arguments)}}(Ai);const Hi=Vi,nt=function(t,s,h){if(!(0,je.Z)(h))return!1;var d=typeof s;return!!("number"==d?(0,He.Z)(h)&&(0,tt.Z)(s,h.length):"string"==d&&s in h)&&(0,b.Z)(h[s],t)};var Gi=function(t,s){return Hi(function(t,s,h){return s=it(void 0===s?t.length-1:s,0),function(){for(var d=arguments,u=-1,f=it(d.length-s,0),S=Array(f);++u<f;)S[u]=d[s+u];u=-1;for(var C=Array(s+1);++u<s;)C[u]=d[u];return C[s]=h(S),Ei(t,this,C)}}(t,s,Ce),t+"")}(function(t,s){if(null==t)return[];var h=s.length;return h>1&&nt(t,s[0],s[1])?s=[]:h>2&&nt(s[0],s[1],s[2])&&(s=[s[0]]),Ci(t,$(s,1),[])});const Xi=Gi}}]);