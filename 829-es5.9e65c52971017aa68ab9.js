!function(){function e(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(l){a=!0,r=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[829],{24829:function(e,n,r){"use strict";r.d(n,{Ef:function(){return ee},J0:function(){return te}});var o=r(61511),s=r(31572),l=r(43691),u=r(19861),f=r(27312),v=r(78512),h=r(55959),p=r(66994),m=r(31305),g=r(40878),w=r(31906),P=r(87254),z=r(19764),b=r(81110),x=r(38289),S=r(98720),y=r(90611),I=r(66599),C=r(44689),O=r(79996),M=r(60509),$=r(22728),_=r(56238),k=r(68303),T=r(47701),j=r(43835),E=r(25416),A=r(73982),R=["viewPortItemTemplate"],B=["wrapper"],U=["button"];function V(e,t){if(1&e&&(s.TgZ(0,"div",5,6),s.TgZ(2,"mat-icon"),s._uU(3,"keyboard_arrow_up"),s.qZA(),s.qZA()),2&e){var n=s.oxw();s.uIk("hidden",!n.hasUpButton||null)}}function Z(e,t){if(1&e&&(s.TgZ(0,"div",11),s._uU(1,"\xa0"),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.Udp("height",n.beforeSize,"px")}}function N(e,t){}var Q=function(e,t,n,i){return{$implicit:e,index:t,size:n,model:i}};function Y(e,t){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,N,0,0,"ng-template",12),s.qZA()),2&e){var n=t.$implicit,i=t.index,r=s.oxw(2).ngIf,o=s.oxw();s.Udp("width","100%")("height",o.getCssSize(n,r.itemsSize,r.mode)),s.uIk("class",o.getItemClassName(n))("flat",r.startIndex+i)("mode",r.mode),s.xp6(1),s.Q6J("ngTemplateOutlet",o.viewPortItemTemplate)("ngTemplateOutletContext",s.l5B(9,Q,n,r.startIndex+i,o.getItemSize(n,r.itemsSize,r.mode),n.model))}}function H(e,t){if(1&e&&(s.TgZ(0,"div",11),s._uU(1,"\xa0"),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.Udp("height",n.afterSize,"px")}}function q(e,t){if(1&e&&(s.ynx(0),s.YNc(1,Z,2,2,"div",9),s.YNc(2,Y,2,14,"div",10),s.YNc(3,H,2,2,"div",9),s.BQk()),2&e){var n=s.oxw().ngIf;s.xp6(1),s.Q6J("ngIf",n.beforeSize>0),s.xp6(1),s.Q6J("ngForOf","disabled"===n.mode?n.items:n.visibleItems),s.xp6(1),s.Q6J("ngIf",n.afterSize>0)}}function J(e,t){if(1&e&&(s.TgZ(0,"div",11),s._uU(1,"\xa0"),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.Udp("flex-basis",n.beforeSize,"px")}}function X(e,t){}function D(e,t){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,X,0,0,"ng-template",12),s.qZA()),2&e){var n=t.$implicit,i=t.index,r=s.oxw(2).ngIf,o=s.oxw();s.Udp("height","100%")("flex-basis",o.getCssSize(n,r.itemsSize,r.mode)),s.uIk("class",o.getItemClassName(n))("flat",r.startIndex+i)("mode",r.mode),s.xp6(1),s.Q6J("ngTemplateOutlet",o.viewPortItemTemplate)("ngTemplateOutletContext",s.l5B(9,Q,n,r.startIndex+i,o.getItemSize(n,r.itemsSize,r.mode),n.model))}}function F(e,t){if(1&e&&(s.TgZ(0,"div",11),s._uU(1,"\xa0"),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.Udp("flex-basis",n.afterSize,"px")}}function L(e,t){if(1&e&&(s.YNc(0,J,2,2,"div",13),s.YNc(1,D,2,14,"div",14),s.YNc(2,F,2,2,"div",13)),2&e){var n=s.oxw().ngIf;s.Q6J("ngIf",n.beforeSize>0),s.xp6(1),s.Q6J("ngForOf","disabled"===n.mode?n.items:n.visibleItems),s.xp6(1),s.Q6J("ngIf",n.afterSize>0)}}function W(e,t){if(1&e&&(s.ynx(0),s.YNc(1,q,4,3,"ng-container",7),s.YNc(2,L,3,3,"ng-template",null,8,s.W1O),s.BQk()),2&e){var n=t.ngIf,i=s.MAs(3);s.xp6(1),s.Q6J("ngIf","vertical"===n.direction)("ngIfElse",i)}}function G(e,t){if(1&e&&(s.TgZ(0,"div",15,6),s.TgZ(2,"mat-icon"),s._uU(3,"keyboard_arrow_down"),s.qZA(),s.qZA()),2&e){var n=s.oxw();s.uIk("hidden",!n.hasDownButton||null)}}var K=function(){var e=function(){function e(){var t=this;c(this,e),this.emptyViewPort={beforeSize:0,afterSize:0,viewPortSize:0,listSize:0,visibleItems:[],startIndex:0,endIndex:0,targetScrollPos:0,items:[]},this.mode$=new v.X("fixed"),this.items$=new v.X([]),this.maxSize$=new v.X(0),this.ensureItem$=new h.xQ,this.scrollPosition$=new v.X(0),this.element$=new p.t(1),this.itemsSize$=new v.X(40),this.direction$=new v.X("vertical"),this.debug=!1,this.refresh$=new v.X(null),this.deleteSizeCache$=new v.X(void 0),this.clear$=new h.xQ,this.measureViewPort={beforeSize:0,afterSize:2e5,viewPortSize:0,listSize:0,visibleItems:[],startIndex:0,endIndex:0,targetScrollPos:void 0,items:[]};var n=this.element$.pipe((0,S.x)()),i=this.maxSize$.pipe((0,S.x)()),r=this.direction$.pipe((0,S.x)()),o=this.mode$.pipe((0,S.x)()),s=function(){return(0,m.aj)([t.items$,o]).pipe((0,y.q)(1),(0,I.b)(function(e){var t=a(e,2),n=t[0],i=t[1];(null==n?void 0:n.length)&&"auto"===i&&n.forEach(function(e){return e.size=void 0})}))},l=(0,m.aj)([r,this.deleteSizeCache$]).pipe((0,C.w)(function(e){var t=a(e,1)[0];return s().pipe((0,O.U)(function(){return t}))})),u=this.itemsSize$.pipe((0,S.x)()),f=function(e,t){return Math.ceil("horizontal"===t?e.clientWidth:e.clientHeight)},d=function e(n,i,r,o){var s;t.log("calcVariableSizeViewPort");var a,l,u,c=[],f=0,d=0,v=0;if(n.ensureParams&&void 0!==n.ensureParams.index&&n.ensureParams.atEnd)for(var h=i.length;--h>=0;){var p=i[h],m=p.size||n.itemsSize;n.ensureParams.index===h&&(l=h),void 0!==l?void 0===a?(d+=m,c.unshift(p),(d>+o||0===h)&&(a=h,u=d-+o)):(u+=m,f+=m):v+=m}else i.forEach(function(e,t){var s=e.size||n.itemsSize;n.ensureParams&&n.ensureParams.index===t&&(a=t,u=f),void 0===a&&(f+s>=r?a=t:f+=s),void 0!==a&&void 0===l&&(d+=s,c.push(e)),void 0===l?(f+d>(u||r)+ +o||t===i.length-1)&&(l=t):v+=s});return void 0!==(null===(s=n.ensureParams)||void 0===s?void 0:s.index)&&d<o&&c.length<i.length?(n.ensureParams={index:n.ensureParams.atEnd?0:i.length-1,atEnd:!n.ensureParams.atEnd},e(n,i,r,o)):(0,g.of)({beforeSize:f,afterSize:v,listSize:o,viewPortSize:d,visibleItems:c,startIndex:a||0,endIndex:l||i.length,targetScrollPos:u,items:i})},z=function e(n,i,r,o,s){var a,l,u,c=0,d=n.element.getElementsByClassName("listitem");if(d.length!==i.length&&(null==s||s)){var v=(0,g.of)({beforeSize:0,afterSize:0,listSize:o,viewPortSize:0,visibleItems:[],startIndex:0,endIndex:0,targetScrollPos:0,items:i});return(0,w.T)(v,v.pipe((0,M.g)(1),(0,C.w)(function(){return e(n,i,r,o,!1)})))}if(n.ensureParams&&void 0!==n.ensureParams.index&&n.ensureParams.atEnd){u=0;for(var h=0,p=d.length;--p>=0;){var m=i[p].size=f(d[p],n.direction);n.ensureParams.index===p&&(l=p),void 0!==l&&(void 0===a?(h+=m)>+o&&(a=p,u=h-+o):u+=m),c+=m}}else Array.from(d).forEach(function(e,t){var s=i[t].size=f(e,n.direction);n.ensureParams&&n.ensureParams.index===t&&(a=t,u=c),c+=s,void 0===a&&c>r&&(a=t),void 0===l&&c>(u||r)+ +o&&(l=t)});return a=a||0,l=l||i.length-1,t.log("viewPortSize ".concat(c)),(0,g.of)({beforeSize:0,afterSize:0,listSize:o,viewPortSize:c,visibleItems:i.slice(a,1+l),startIndex:a,endIndex:l,targetScrollPos:u,items:i})},b=function e(n,i,r,o){if(t.log("calcViewPort"),!(null==i?void 0:i.length))return(0,g.of)(t.emptyViewPort);var s,a=n.maxSize||f(n.element,n.direction);switch(a<=40&&(a="horizontal"===n.direction?window.innerWidth:window.innerHeight),n.mode){case"disabled":s=z(n,i,r,a,!0);break;case"variable":s=d(n,i,r,a);break;case"auto":s=function(e,n,i,r,o){return t.log("calcAutoSizeViewPort"),d(e,n,i,r).pipe((0,C.w)(function(s){var a=!o&&s.visibleItems.find(function(e){return!e.size}),l=(0,g.of)(s);return a?(t.log("calcAutoSizeViewPort: measure"),(0,w.T)(l,l.pipe((0,M.g)(1),(0,I.b)(function(){Array.from(e.element.getElementsByClassName("listitem")).forEach(function(n){var i=+n.getAttribute("flat"),r=s.visibleItems[i-s.startIndex];r?(r.size=f(n,e.direction),t.log("calcAutoSizeViewPort: item found",r,"measured size",r.size,"HTML Element",n)):t.log("calcAutoSizeViewPort: item not found",r)}),s.viewPortSize=s.visibleItems.reduce(function(t,n){return t+(n.size||e.itemsSize)},0)}),(0,C.w)(function(){return d(e,n,s.targetScrollPos||i,r)})))):(t.log("calcAutoSizeViewPort: no calculationRequired",s),l)}))}(n,i,r,a);break;default:s=function(e,n,i,r){var o;t.log("calcFixedSizeViewPort");var s,a,l,u=Math.ceil(+r/e.itemsSize)+1,c=Math.floor(i/e.itemsSize),f=Math.min(n.length-c,u);e.ensureParams&&void 0!==e.ensureParams.index&&e.ensureParams.atEnd?(s=Math.max(0,e.ensureParams.index+1-Math.min(n.length,u)),l=((a=Math.max(e.ensureParams.index,f-1))+1)*e.itemsSize-+r):f<0?s=1+(a=n.length-1)-Math.min(n.length,u):void 0!==(null===(o=e.ensureParams)||void 0===o?void 0:o.index)?(a=(s=e.ensureParams.index)+f-1,l=s*e.itemsSize):a=(s=c)+f-1;var d=n.slice(s,a+1);return(0,g.of)({beforeSize:s*e.itemsSize,afterSize:(n.length-a-1)*e.itemsSize,listSize:r,viewPortSize:d.length*e.itemsSize,visibleItems:d,startIndex:s,endIndex:a,targetScrollPos:l,items:n})}(n,i,r,a)}return s.pipe((0,C.w)(function(s){if(!o&&s.viewPortSize>0){var l=s.beforeSize+s.viewPortSize+s.afterSize-s.listSize;if("disabled"!==n.mode&&a<80){var u=(0,g.of)(t.measureViewPort);return(0,w.T)(u,u.pipe((0,M.g)(1),(0,C.w)(function(){return e(n,i,r,!0)})))}if(l<0||i.length&&l>0&&(s.targetScrollPos||r)>l)return n.ensureParams={index:i.length-1,atEnd:!0},e(n,i,0,!0);if("auto"===n.mode&&s.viewPortSize<a)return n.ensureParams={index:i.length-1,atEnd:!0},e(n,i,0,!0)}return(0,g.of)(s)}),(0,I.b)(function(){n.ensureParams&&(n.ensureParams.index=void 0)}))},x=this.ensureItem$.pipe((0,$.M)(this.items$),(0,C.w)(function(e){var n=a(e,2),i=n[0],r=n[1];return t.viewPort$.pipe((0,y.q)(1),(0,O.U)(function(e){var t={};if(null!=i&&(null==r?void 0:r.length)){var n=i;isNaN(n)&&(n=r.findIndex(function(e){return i===e})),n>=0&&(e&&n<=e.startIndex?(t.index=n,t.atEnd=!1):(!e||n>=e.endIndex)&&(t.index=n,t.atEnd=!0))}return t}))}),(0,_.O)(null),(0,k.d)({bufferSize:1,refCount:!1})),E=(0,P.R)(window,"resize").pipe((0,T.b)(5),(0,C.w)(function(){return s().pipe((0,O.U)(function(){return!1}))})),A=(0,w.T)(this.refresh$,E).pipe((0,$.M)(this.items$),(0,I.b)(function(e){var n=a(e,2),i=n[0],r=n[1];i&&(null==r?void 0:r.length)&&(t.lastCalculatedSize=void 0,r.forEach(function(e){return e.size=void 0}))}),(0,T.b)(100)),R=this.scrollPosition$.pipe((0,S.x)()),B=(0,m.aj)([n,i,o,l,u,x]).pipe((0,O.U)(function(e){var t=a(e,6);return{element:t[0],maxSize:t[1],mode:t[2],direction:t[3],itemsSize:t[4],ensureParams:t[5]}}),(0,T.b)(1)),U=(0,m.aj)([B,this.items$,R,A]).pipe((0,j.h)(function(e){return!!a(e,1)[0].element}),(0,C.w)(function(e){var n=a(e,3),i=n[0],r=n[1],o=n[2];t.log("scrollPosition",o);var s,l=t.lastCalculatedSize||i.maxSize||f(i.element,i.direction),u="auto"===i.maxSize?0:+i.maxSize;if((null==r?void 0:r.length)&&("auto"===l||l<80)){var c=(0,g.of)(t.measureViewPort);s=(0,w.T)(c,c.pipe((0,M.g)(1),(0,C.w)(function(){if(u=t.lastCalculatedSize=f(i.element,i.direction),"fixed"===i.mode)r.length*i.itemsSize<u&&(u=r.length*i.itemsSize);else if("variable"===i.mode){var e=0;r.find(function(t){return(e+=t.size||i.itemsSize)>u}),e<u&&(u=e)}return b(i,r,o)})))}else s=b(i,r,o);return s.pipe((0,O.U)(function(e){return Object.assign(Object.assign(Object.assign({},e),i),{scrollPosition:o})}))}));this.viewPort$=(0,w.T)(U,this.clear$).pipe((0,k.d)({bufferSize:1,refCount:!0}))}return d(e,[{key:"deleteSizeCache",value:function(){this.deleteSizeCache$.next()}},{key:"clear",value:function(){this.clear$.next(this.emptyViewPort)}},{key:"refresh",value:function(e){this.refresh$.next(e)}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.debug&&console.log(e,n.length?n:void 0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ee=function(){var e=function(e){t(r,e);var n=i(r);function r(e){var t;c(this,r),(t=n.call(this)).viewPortService=e,t.hasButtons=null,t.isHorizontal=null,t.itemClass=new s.vpe,t.hasUpButton=null,t.hasDownButton=null,t.buttons$=new h.xQ,t.viewPortElementSize$=new h.xQ,t.reloadViewPort$=new v.X(null),t.viewPort$=(0,m.aj)([e.viewPort$,t.reloadViewPort$]).pipe((0,O.U)(function(e){var t=a(e,1)[0];return Object.assign({},t)})),e.element$.pipe((0,S.x)(),(0,C.w)(function(t){return(0,P.R)(t,"scroll").pipe((0,S.x)(),(0,$.M)(e.direction$),(0,O.U)(function(e){var n=a(e,2),i=(n[0],n[1]);return Math.round("horizontal"===i?t.scrollLeft:t.scrollTop)}))}),(0,E.R)(t.destroyed$)).subscribe(function(e){t.viewPortService.scrollPosition$.next(e)}),e.element$.pipe((0,S.x)(),(0,C.w)(function(n){return(0,P.R)(n,"mousewheel").pipe((0,$.M)(e.direction$),(0,j.h)(function(e){var n=a(e,2);n[0];return"horizontal"===n[1]||t.hasButtons}),(0,I.b)(function(e){var t=a(e,2),i=t[0],r=t[1];i.stopPropagation(),i.preventDefault(),n.scroll("horizontal"===r?{left:n.scrollLeft+i.deltaY,top:0}:{left:0,top:n.scrollTop+i.deltaY})}))}),(0,E.R)(t.destroyed$)).subscribe(),e.viewPort$.pipe((0,E.R)(t.destroyed$)).subscribe(function(e){var n,i;t.hasUpButton=t.hasButtons&&"disabled"===e.mode?e.scrollPosition>0:e.beforeSize>0,t.hasDownButton=t.hasButtons&&"disabled"===e.mode?e.scrollPosition<e.viewPortSize-e.listSize:e.afterSize>0,(null==e?void 0:e.element)&&("horizontal"===e.direction?e.element.scrollLeft=null!==(n=e.targetScrollPos)&&void 0!==n?n:e.scrollPosition:e.element.scrollTop=null!==(i=e.targetScrollPos)&&void 0!==i?i:e.scrollPosition,t.viewPortElementSize$.next({size:"horizontal"===e.direction?e.element.clientWidth:e.element.clientHeight}))}),t.viewPortElementSize$.pipe((0,T.b)(1),(0,S.x)(),(0,$.M)(e.direction$,e.element$),(0,E.R)(t.destroyed$)).subscribe(function(e){var n=a(e,3),i=n[0],r=n[1],o=n[2],s="horizontal"===r?o.clientWidth:o.clientHeight;i.size>0&&s>i.size&&(console.log("ViewPort element size to small, refresh view port"),t.viewPortService.refresh()),i.size=s});var i=t.buttons$.pipe((0,T.b)(100),(0,O.U)(function(e){return e.map(function(e){return e.nativeElement})}),(0,S.x)(function(e,t){return(null==e?void 0:e.length)===(null==t?void 0:t.length)})),o=i.pipe((0,j.h)(function(e){return 0===e.length}));return i.pipe((0,j.h)(function(e){return 2===e.length}),(0,$.M)(e.element$),(0,C.w)(function(e){var n=a(e,2),i=n[0],r=n[1],s=t.isHorizontal?r.clientWidth:r.clientHeight,l=function(e,n){var i=n*(e.ctrlKey?s:2*+t.buttonsStep);r.scroll(t.isHorizontal?{left:r.scrollLeft+i,top:0}:{left:0,top:r.scrollTop+i})};return(0,z.D)(i).pipe((0,A.zg)(function(e){var t="down"===e.id?1:-1;return(0,P.R)(e,"mousedown").pipe((0,C.w)(function(e){return l(e,t),function(e){var n=(0,w.T)((0,P.R)(i[0],"mouseup"),(0,P.R)(i[0],"mouseleave"),(0,P.R)(i[1],"mouseup"),(0,P.R)(i[1],"mouseleave"));return(0,b.H)(750).pipe((0,A.zg)(function(){return(0,x.F)(50)}),(0,I.b)(function(){return l(e,t)}),(0,E.R)(n))}(e)}),(0,E.R)(o))}))}),(0,E.R)(t.destroyed$)).subscribe(),t}return d(r,[{key:"buttonsStep",get:function(){return this._buttonsStep||20},set:function(e){this._buttonsStep=(0,u.su)(e)}},{key:"models",set:function(e){this.items=e?e.map(function(e){return{model:e}}):[]}},{key:"items",set:function(e){this.viewPortService.items$.next(e)}},{key:"scrollingStyle",set:function(e){this.hasButtons="buttons"===e,this.viewPortService.refresh()}},{key:"direction",set:function(e){this.isHorizontal="horizontal"===e,this.viewPortService.direction$.next(e)}},{key:"itemSize",set:function(e){if(e){var t=(0,u.su)(e);this.viewPortService.itemsSize$.next(t)}}},{key:"wrapperElement",set:function(e){this.viewPortService.element$.next(e.nativeElement)}},{key:"buttons",set:function(e){this.buttons$.next(e)}},{key:"viewPortItemTemplate",get:function(){return this.viewPortItemTemplateExternal||this.viewPortItemTemplateInternal}},{key:"scrollPos",set:function(e){var t=Math.max((0,u.su)(e),0);this.viewPortService.scrollPosition$.next(t)}},{key:"viewPortMode",set:function(e){this.viewPortService.mode$.next(e)}},{key:"debugMode",set:function(e){this.viewPortService.debug=(0,u.Ig)(e)}},{key:"refreshViewPort",value:function(e){this.viewPortService.refresh(e)}},{key:"reloadViewPort",value:function(){this.reloadViewPort$.next()}},{key:"clearViewPort",value:function(){this.viewPortService.clear()}},{key:"ensureVisible",value:function(e){this.viewPortService.ensureItem$.next(e)}},{key:"getCssSize",value:function(e,t,n){var i=this.getItemSize(e,t,n);return i?"".concat(i,"px"):"auto"}},{key:"getItemSize",value:function(e,t,n){return"disabled"===n?null:"fixed"===n?t:"auto"===n?e.size||null:e.size&&e.size>40?e.size:t}},{key:"getItemClassName",value:function(e){var t=["listitem"];return this.itemClass.observers.length>0&&this.itemClass.next({item:e,classes:t}),t.join(" ")}}]),r}(f.yl);return e.\u0275fac=function(t){return new(t||e)(s.Y36(K))},e.\u0275cmp=s.Xpm({type:e,selectors:[["viewport"]],contentQueries:function(e,t,n){var i;(1&e&&s.Suo(n,R,5),2&e)&&(s.iGM(i=s.CRH())&&(t.viewPortItemTemplateInternal=i.first))},viewQuery:function(e,t){var n;(1&e&&(s.Gf(B,5),s.Gf(U,5)),2&e)&&(s.iGM(n=s.CRH())&&(t.wrapperElement=n.first),s.iGM(n=s.CRH())&&(t.buttons=n))},hostVars:2,hostBindings:function(e,t){2&e&&s.uIk("buttons",t.hasButtons)("horizontal",t.isHorizontal)},inputs:{viewPortItemTemplateExternal:"viewPortItemTemplateExternal",buttonsStep:"buttonsStep",models:"models",items:"items",scrollingStyle:"scrollingStyle",direction:"direction",itemSize:"itemSize",viewPortMode:"viewPortMode",debugMode:"debugMode"},outputs:{itemClass:"itemClass"},features:[s._Bn([K]),s.qOj],decls:6,vars:5,consts:[["id","up",4,"ngIf"],[1,"viewport-wrapper"],["wrapper",""],[4,"ngIf"],["id","down",4,"ngIf"],["id","up"],["button",""],[4,"ngIf","ngIfElse"],["horizontal",""],["class","fake",3,"height",4,"ngIf"],[3,"width","height",4,"ngFor","ngForOf"],[1,"fake"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","fake",3,"flex-basis",4,"ngIf"],[3,"height","flex-basis",4,"ngFor","ngForOf"],["id","down"]],template:function(e,t){1&e&&(s.YNc(0,V,4,1,"div",0),s.TgZ(1,"div",1,2),s.YNc(3,W,4,2,"ng-container",3),s.ALo(4,"async"),s.qZA(),s.YNc(5,G,4,1,"div",4)),2&e&&(s.Q6J("ngIf",t.hasButtons),s.xp6(3),s.Q6J("ngIf",s.lcZ(4,3,t.viewPort$)),s.xp6(2),s.Q6J("ngIf",t.hasButtons))},directives:[o.O5,l.Hw,o.sg,o.tP],pipes:[o.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden;position:relative}[_nghost-%COMP%]   #down[_ngcontent-%COMP%], [_nghost-%COMP%]   #up[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;justify-content:space-around;align-items:center;font-size:120%;cursor:pointer;z-index:1;padding:.15rem 0}[_nghost-%COMP%]   #down[hidden=true][_ngcontent-%COMP%], [_nghost-%COMP%]   #up[hidden=true][_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;width:100%;overflow:visible;overflow-y:auto;position:relative}[_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0;margin:0;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%] > div[mode=fixed][_ngcontent-%COMP%], [_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%] > div[mode=variable][_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%] > div.fake[_ngcontent-%COMP%]{opacity:0}[horizontal=true][_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%]{height:100%;overflow:visible;overflow-x:auto;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start}[horizontal=true][_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0}[horizontal=true][buttons=true][_nghost-%COMP%]{flex-direction:row}[horizontal=true][buttons=true][_nghost-%COMP%]   #down[_ngcontent-%COMP%], [horizontal=true][buttons=true][_nghost-%COMP%]   #up[_ngcontent-%COMP%]{padding:0 .15rem}[horizontal=true][buttons=true][_nghost-%COMP%]   #down[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [horizontal=true][buttons=true][_nghost-%COMP%]   #up[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(270Deg)}[buttons=true][_nghost-%COMP%]   .viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0}),e}(),te=function(){var e=function e(){c(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,l.Ps]]}),e}()},22728:function(n,r,s){"use strict";s.d(r,{M:function(){return u}});var a=s(59829),l=s(77e3);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new f(t,n))}}var f=function(){function e(t,n){c(this,e),this.observables=t,this.project=n}return d(e,[{key:"call",value:function(e,t){return t.subscribe(new v(e,this.observables,this.project))}}]),e}(),v=function(n){t(s,n);var r=i(s);function s(e,t,n){var i;c(this,s),(i=r.call(this,e)).observables=t,i.project=n,i.toRespond=[];var a=t.length;i.values=new Array(a);for(var u=0;u<a;u++)i.toRespond.push(u);for(var f=0;f<a;f++)i.add((0,l.D)(o(i),t[f],void 0,f));return i}return d(s,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;var i=this.toRespond;if(i.length>0){var r=i.indexOf(n);-1!==r&&i.splice(r,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var n=[t].concat(e(this.values));this.project?this._tryProject(n):this.destination.next(n)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),s}(a.L)}}])}();