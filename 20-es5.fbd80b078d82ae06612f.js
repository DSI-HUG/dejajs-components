!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Pkvd:function(t,a,c){"use strict";c.r(a),c.d(a,"DejaContentEditableDemoModule",(function(){return N}));var d=c("SVse"),u=c("s7LF"),s=c("PDjf"),f=c("pMoy"),b=c("M9ds"),m=c("l0rg"),p=c("8Y7J"),h=c("8LU1"),y=c("CDpB"),g=c("2Vo4"),v=c("xgIS"),j=c("Cfvw"),E=c("PqYM"),w=c("1G5W"),O=c("/uUt"),x=c("lJxs"),C=c("IzEk"),M=c("pLZG"),k=c("eIep"),I=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(s,t);var a,c,d,u=o(s);function s(t,i){var r;n(this,s),(r=u.call(this)).control=i,r._disabled=null,r._inEdition=!1,r._editMode=!1,r._mandatory=!1,r._multiline=!1,r.edit$=new g.a([!1,!1]),r.onTouchedCallback=function(){},r.onChangeCallback=function(e){},r.control&&(r.control.valueAccessor=l(r)),r.element=t.nativeElement,Object(v.a)(r.element,"mousedown").pipe(Object(w.a)(r.destroyed$)).subscribe((function(e){return r.inEdition||r.disabled?(e.cancelBubble=!0,!1):r.editMode?(r.edit$.next([!0,!0]),e.cancelBubble=!0,!1):void 0}));var o=Object(j.a)(r.edit$).pipe(Object(O.a)(),Object(x.a)((function(t){var n=e(t,2),i=n[0];return!1!==n[1]&&Object(E.a)(10).pipe(Object(C.a)(1),Object(w.a)(r.destroyed$)).subscribe((function(){r.selectAll(),r.focus()})),r._inEdition=i,i?r.element.setAttribute("contenteditable","true"):r.element.removeAttribute("contenteditable"),r.refreshView(),i}))),a=o.pipe(Object(M.a)((function(e){return!e}))),c=Object(v.a)(r.element.ownerDocument,"mousedown").pipe(Object(M.a)((function(e){return!r.isChildElement(e.target)})),Object(w.a)(a));o.pipe(Object(M.a)((function(e){return e})),Object(k.a)((function(){return c})),Object(w.a)(r.destroyed$)).subscribe((function(){var e=r.element.innerText.replace(/\n/g,"<br />").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");r.onTouchedCallback(),!e&&r.mandatory||(r.value=e),r.inEdition=!1}));var d=Object(v.a)(r.element,"keydown").pipe(Object(w.a)(a));return o.pipe(Object(M.a)((function(e){return e})),Object(k.a)((function(){return d})),Object(w.a)(r.destroyed$)).subscribe((function(e){if(e.cancelBubble=!0,e.stopPropagation(),e.code!==y.A.Enter||r.multiline)e.code===y.A.Escape&&(r.inEdition=!1);else{var t=r.element.innerText;!t&&r.mandatory||(r.value=t),r.inEdition=!1}return!1})),r}return a=s,(c=[{key:"writeValue",value:function(e){this.model=e,this.refreshView()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"ngOnInit",value:function(){this.model=this.element.innerHTML}},{key:"focus",value:function(){this.element.focus()}},{key:"selectAll",value:function(){var e=document.createRange();e.selectNodeContents(this.element);var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},{key:"edit",value:function(e){this.edit$.next([!this.disabled,e])}},{key:"isChildElement",value:function(e){for(var t=e;t&&t!==this.element;)t=t.parentElement;return t===this.element}},{key:"refreshView",value:function(){this.model&&(this.inEdition?this.element.innerText=this.model.replace(/<br\s*[/]?>/gi,"\n"):this.element.innerHTML=this.model.replace(/\n/g,"<br />"))}},{key:"mandatory",set:function(e){this._mandatory=Object(h.b)(e)},get:function(){return this._mandatory}},{key:"multiline",set:function(e){this._multiline=Object(h.b)(e)},get:function(){return this._multiline}},{key:"disabled",set:function(e){var t=Object(h.b)(e);this._disabled=t||null,this.disabled&&this.edit$.next([!1,!1])},get:function(){var e;return(null===(e=this.control)||void 0===e?void 0:e.disabled)||this._disabled}},{key:"editMode",set:function(e){this._editMode=Object(h.b)(e)},get:function(){return this._editMode}},{key:"inEdition",set:function(e){this.disabled||this.edit$.next([Object(h.b)(e),!1])},get:function(){return this._inEdition}},{key:"value",set:function(e){e!==this.model&&(this.writeValue(e),this.onChangeCallback(e))},get:function(){return this.model}}])&&i(a.prototype,c),d&&i(a,d),s}(y.s);I.\u0275fac=function(e){return new(e||I)(p["\u0275\u0275directiveInject"](p.ElementRef),p["\u0275\u0275directiveInject"](u.NgControl,10))},I.\u0275dir=p["\u0275\u0275defineDirective"]({type:I,selectors:[["","deja-editable",""]],hostVars:1,hostBindings:function(e,t){2&e&&p["\u0275\u0275attribute"]("disabled",t._disabled)},inputs:{inEdition:"inEdition",mandatory:"mandatory",multiline:"multiline",disabled:"disabled",editMode:["deja-editable","editMode"]},features:[p["\u0275\u0275InheritDefinitionFeature"]]}),I.ctorParameters=function(){return[{type:p.ElementRef},{type:u.NgControl,decorators:[{type:p.Self},{type:p.Optional}]}]},I.propDecorators={_disabled:[{type:p.HostBinding,args:["attr.disabled"]}],mandatory:[{type:p.Input}],multiline:[{type:p.Input}],disabled:[{type:p.Input}],editMode:[{type:p.Input,args:["deja-editable"]}],inEdition:[{type:p.Input}]};var S=function e(){n(this,e)};S.\u0275mod=p["\u0275\u0275defineNgModule"]({type:S}),S.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||S)},imports:[[d.c,u.FormsModule]]});var _=c("KYkd"),A=c("iInd"),D=c("iss+");function T(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-card",4),p["\u0275\u0275element"](1,"deja-markdown",5),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/content-editable/readme.md"))}function P(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"mat-card",4),p["\u0275\u0275elementStart"](1,"mat-toolbar",6),p["\u0275\u0275text"](2,"Content Editable Demo"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](3,"mat-card-content"),p["\u0275\u0275elementStart"](4,"mat-checkbox",7),p["\u0275\u0275listener"]("ngModelChange",(function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().designMode=e})),p["\u0275\u0275text"](5,"Design Mode\xa0"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"mat-checkbox",7),p["\u0275\u0275listener"]("ngModelChange",(function(e){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275nextContext"]().disabled=e})),p["\u0275\u0275text"](7,"Disabled"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"mat-card-content",8),p["\u0275\u0275elementStart"](9,"div",9),p["\u0275\u0275text"](10," Lorem ipsum dolor sit amet, consectetur adipiscing elit. "),p["\u0275\u0275element"](11,"br"),p["\u0275\u0275text"](12," Mauris auctor sit amet odio et aliquet. Curabitur auctor eleifend mattis. "),p["\u0275\u0275element"](13,"br"),p["\u0275\u0275text"](14," Nullam sit amet quam tellus. Ut mattis tellus sed erat ultricies ornare. "),p["\u0275\u0275element"](15,"br"),p["\u0275\u0275text"](16," Nulla dictum nisi eu tortor lacinia porttitor. Donec eu arcu et enim cursus viverra. "),p["\u0275\u0275element"](17,"br"),p["\u0275\u0275text"](18," Praesent pulvinar dui nisi, a tincidunt arcu finibus sed. "),p["\u0275\u0275element"](19,"br"),p["\u0275\u0275elementStart"](20,"a",10),p["\u0275\u0275text"](21,"Google"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){var i=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngModel",i.designMode),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngModel",i.disabled),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("deja-editable",i.designMode)("disabled",i.disabled)}}var R,V,$=A.f.forChild([{path:"",component:(R=function e(){n(this,e),this.tabIndex=1,this.designMode=!1,this.disabled=!1},R.\u0275fac=function(e){return new(e||R)},R.\u0275cmp=p["\u0275\u0275defineComponent"]({type:R,selectors:[["deja-content-editable-demo"]],decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["class","demo-card demo-basic",4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],["color","primary"],["color","primary",3,"ngModel","ngModelChange"],["id","contentEditableContainer"],["multiline","",3,"deja-editable","disabled"],["href","http://www.google.ch"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-tab-group",0),p["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabIndex=e.index})),p["\u0275\u0275element"](1,"mat-tab",1),p["\u0275\u0275element"](2,"mat-tab",2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](3,T,2,1,"mat-card",3),p["\u0275\u0275template"](4,P,22,4,"mat-card",3)),2&e&&(p["\u0275\u0275property"]("selectedIndex",t.tabIndex),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",0===t.tabIndex),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",1===t.tabIndex))},directives:[b.b,b.a,d.n,s.a,D.a,m.a,s.c,f.a,u.NgControlStatus,u.NgModel,I],encapsulation:2}),R)},{path:"**",redirectTo:"",pathMatch:"full"}]),N=((V=function e(){n(this,e)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:V}),V.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||V)},providers:[],imports:[[d.c,u.FormsModule,s.d,f.b,b.c,m.b,S,_.a,$]]}),V)}}])}();