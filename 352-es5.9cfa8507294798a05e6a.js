!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[352],{45352:function(t,r,n){"use strict";n.d(r,{tX:function(){return d},dp:function(){return g},zE:function(){return f}});var s=n(61511),a=n(31572),o=n(19861);function h(e,t){if(1&e){var i=a.EpF();a.TgZ(0,"split-gutter",2),a.NdJ("mousedown",function(e){a.CHM(i);var t=a.oxw().index;return a.oxw().startDragging(e,2*t+1)})("touchstart",function(e){a.CHM(i);var t=a.oxw().index;return a.oxw().startDragging(e,2*t+1)}),a.qZA()}if(2&e){var r=a.oxw().index,n=a.oxw();a.Q6J("order",2*r+1)("direction",n.direction)("size",n.gutterSize)("disabled",n.disabled)}}function u(e,t){1&e&&a.YNc(0,h,1,4,"split-gutter",1),2&e&&a.Q6J("ngIf",!1===t.last)}var c=["*"],l=function(){var t=function(){function t(i,r){e(this,t),this.elementRef=i,this.renderer=r,this._disabled=!1}return i(t,[{key:"order",set:function(e){this.setStyle("order",(0,o.su)(e))}},{key:"direction",set:function(e){this._direction=e,this.refreshStyle()}},{key:"size",set:function(e){this.setStyle("flex-basis",e?"".concat("string"==typeof e?(0,o.su)(e):e,"px"):"")}},{key:"disabled",set:function(e){this._disabled=(0,o.Ig)(e),this.refreshStyle()}},{key:"refreshStyle",value:function(){var e=this._disabled?"disabled":this._direction;this.setStyle("cursor",this.getCursor(e)),this.setStyle("background-image",'url("'.concat(this.getImage(e),'")')),"horizontal"===e&&this.setStyle("content"," ")}},{key:"setStyle",value:function(e,t){null==t?this.renderer.removeStyle(this.elementRef.nativeElement,e):this.renderer.setStyle(this.elementRef.nativeElement,e,t)}},{key:"getCursor",value:function(e){switch(e){case"disabled":return"default";case"vertical":return"row-resize";case"horizontal":return"col-resize";default:return null}}},{key:"getImage",value:function(e){switch(e){case"disabled":return"";case"vertical":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC";case"horizontal":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==";default:return null}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.Qsj))},t.\u0275dir=a.lG2({type:t,selectors:[["split-gutter"]],inputs:{order:"order",direction:"direction",size:"size",disabled:"disabled"}}),t}(),d=function(){var t=function(){function t(i,r,n){e(this,t),this.cdRef=i,this.elementRef=r,this.renderer=n,this.direction="horizontal",this.gutterSize=10,this.dragStart=new a.vpe(!1),this.dragProgress=new a.vpe(!1),this.dragEnd=new a.vpe(!1),this._areas=[],this.isDragging=!1,this.containerSize=0,this.areaAsize=0,this.areaBsize=0,this.eventsDragFct=[],this._disabled=!1}return i(t,[{key:"styleFlexDirection",get:function(){return"horizontal"===this.direction?"row":"column"}},{key:"styleWidth",get:function(){return this.width&&!isNaN(this.width)&&this.width>0?"".concat(this.width,"px"):"100%"}},{key:"styleHeight",get:function(){return this.height&&!isNaN(this.height)&&this.height>0?"".concat(this.height,"px"):"100%"}},{key:"nbGutters",get:function(){return this._areas.length-1}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,o.Ig)(e)||null}},{key:"areas",get:function(){return this._areas}},{key:"ngOnChanges",value:function(e){(e.gutterSize||e.disabled)&&this.refresh()}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"addArea",value:function(e,t,i,r){this._areas.push({component:e,orderUser:t,order:-1,sizeUser:i,size:-1,minPixel:r}),this.refresh()}},{key:"updateArea",value:function(e,t,i,r){var n=this._areas.find(function(t){return t.component===e});n&&(n.orderUser=t,n.sizeUser=i,n.minPixel=r,this.refresh())}},{key:"removeArea",value:function(e){var t=this._areas.find(function(t){return t.component===e});if(t){var i=this._areas.indexOf(t);this._areas.splice(i,1),this._areas.forEach(function(e,t){return e.order=2*t}),this.refresh()}}},{key:"startDragging",value:function(e,t){var i=this,r=e;if(r.preventDefault(),!this.disabled){var n=this._areas.find(function(e){return e.order===t-1}),s=this._areas.find(function(e){return e.order===t+1});if(n&&s){this.containerSize=this.elementRef.nativeElement["horizontal"===this.direction?"offsetWidth":"offsetHeight"],this.areaAsize=this.containerSize*n.size/100,this.areaBsize=this.containerSize*s.size/100;var a={x:r.screenX,y:r.screenY};this.eventsDragFct.push(this.renderer.listen("document","mousemove",function(e){return i.dragEvent(e,a,n,s)})),this.eventsDragFct.push(this.renderer.listen("document","touchmove",function(e){return i.dragEvent(e,a,n,s)})),this.eventsDragFct.push(this.renderer.listen("document","mouseup",function(){return i.stopDragging()})),this.eventsDragFct.push(this.renderer.listen("document","touchend",function(){return i.stopDragging()})),this.eventsDragFct.push(this.renderer.listen("document","touchcancel",function(){return i.stopDragging()})),n.component.lockEvents(),s.component.lockEvents(),this.isDragging=!0,this.notify("start")}}}},{key:"refresh",value:function(){this.stopDragging(),this._areas.filter(function(e){return null!==e.orderUser&&!isNaN(e.orderUser)}).length===this._areas.length&&this._areas.sort(function(e,t){return+e.orderUser-+t.orderUser}),this._areas.forEach(function(e,t){e.order=2*t,e.component.setStyle("order",e.order)});var e=this._areas.map(function(e){return e.sizeUser}).reduce(function(e,t){return e+t},0),t=this._areas.filter(function(e){return!e.sizeUser||isNaN(e.sizeUser)});if((e<99.99||e>100.01)&&this._areas.length>1)if(0===t.length)this._areas.forEach(function(t){var i=100*Number(t.sizeUser)/e;t.size=i});else if(e<99.99){var i=100-e,r=t.length;t.forEach(function(e){var t=i/r--;e.size=t,i-=t}),this._areas.filter(function(e){return e.sizeUser&&!isNaN(e.sizeUser)}).forEach(function(e){return e.size=Number(e.sizeUser)})}else{var n=Number((100/this._areas.length).toFixed(3));this._areas.forEach(function(e){return e.size=n})}else 0===e&&1===this._areas.length?this._areas[0].size=100:this._areas.forEach(function(e){return e.size=Number(e.sizeUser)});this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var e=this.gutterSize*this.nbGutters/this._areas.length;this._areas.forEach(function(t){return t.component.setStyle("flex-basis","calc( ".concat(t.size,"% - ").concat(e,"px )"))})}},{key:"dragEvent",value:function(e,t,i,r){this.isDragging&&this.drag(t,{x:e.screenX,y:e.screenY},i,r)}},{key:"drag",value:function(e,t,i,r){var n="horizontal"===this.direction?e.x-t.x:e.y-t.y,s=i.minPixel?(i.minPixel+5)/this.containerSize*100:0,a=r.minPixel?(r.minPixel+5)/this.containerSize*100:0,o=(this.areaAsize-n)/this.containerSize*100,h=(this.areaBsize+n)/this.containerSize*100;o<=s?(o=s,h=i.size+r.size-s):h<=a?(h=a,o=i.size+r.size-a):(o=Number(o.toFixed(3)),h=Number((i.size+r.size-o).toFixed(3))),i.size=o,r.size=h,this.refreshStyleSizes(),this.notify("progress")}},{key:"stopDragging",value:function(){if(this.isDragging){for(this._areas.forEach(function(e){return e.component.unlockEvents()});this.eventsDragFct.length>0;){var e=this.eventsDragFct.pop();e&&e()}this.containerSize=0,this.areaAsize=0,this.areaBsize=0,this.isDragging=!1,this.notify("end")}}},{key:"notify",value:function(e){var t=this._areas.map(function(e){return e.size});switch(e){case"start":return this.dragStart.emit(t);case"progress":return this.dragProgress.emit(t);case"end":return this.dragEnd.emit(t);default:return null}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.Qsj))},t.\u0275cmp=a.Xpm({type:t,selectors:[["deja-splitter"]],hostVars:6,hostBindings:function(e,t){2&e&&a.Udp("flex-direction",t.styleFlexDirection)("width",t.styleWidth)("height",t.styleHeight)},inputs:{direction:"direction",width:"width",height:"height",gutterSize:"gutterSize",disabled:"disabled"},outputs:{dragStart:"dragStart",dragProgress:"dragProgress",dragEnd:"dragEnd"},features:[a.TTD],ngContentSelectors:c,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"order","direction","size","disabled","mousedown","touchstart",4,"ngIf"],[3,"order","direction","size","disabled","mousedown","touchstart"]],template:function(e,t){1&e&&(a.F$t(),a.Hsn(0),a.YNc(1,u,1,1,"ng-template",0)),2&e&&(a.xp6(1),a.Q6J("ngForOf",t.areas))},directives:[s.sg,s.O5,l],styles:["deja-splitter{display:flex;flex-wrap:nowrap;justify-content:flex-start}deja-splitter split-gutter{flex:0 0 10px;background-position:50%;background-repeat:no-repeat}deja-splitter split-area{flex-grow:0;flex-shrink:0;height:100%;overflow:hidden}"],encapsulation:2,changeDetection:0}),t}(),f=function(){var t=function(){function t(i,r,n){e(this,t),this.elementRef=i,this.renderer=r,this.split=n,this._order=null,this._size=null,this._minSizePixel=0,this.eventsLockFct=[]}return i(t,[{key:"order",set:function(e){var t=(0,o.su)(e);this._order=isNaN(t)?null:t,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}},{key:"size",set:function(e){var t=(0,o.su)(e);this._size=isNaN(t)?null:t,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}},{key:"minSizePixel",set:function(e){var t=(0,o.su)(e);this._minSizePixel=!isNaN(t)&&t>0?t:0,this.split.updateArea(this,this._order,this._size,this._minSizePixel)}},{key:"ngOnInit",value:function(){this.split.addArea(this,this._order,this._size,this._minSizePixel)}},{key:"lockEvents",value:function(){this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement,"selectstart",function(){return!1})),this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement,"dragstart",function(){return!1}))}},{key:"unlockEvents",value:function(){for(;this.eventsLockFct.length>0;){var e=this.eventsLockFct.pop();e&&e()}}},{key:"setStyle",value:function(e,t){null==t?this.renderer.removeStyle(this.elementRef.nativeElement,e):this.renderer.setStyle(this.elementRef.nativeElement,e,t)}},{key:"ngOnDestroy",value:function(){this.split.removeArea(this)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(d))},t.\u0275dir=a.lG2({type:t,selectors:[["split-area"]],inputs:{order:"order",size:"size",minSizePixel:"minSizePixel"}}),t}(),g=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.ez]]}),t}()}}])}();