"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[567],{5856:(L,D,e)=>{e.d(D,{L:()=>E});class E{constructor(f,t){this.left=f||0,this.top=t||0}static equals(f,t){return f.left===t.left&&f.top===t.top}offset(f,t){return new E(this.left+f,this.top+t)}clone(){return new E(this.left,this.top)}constrain(f,t,i,h){return new E(Math.min(Math.max(f,this.left),t),Math.min(Math.max(i,this.top),h))}around(f,t,i,h){return Math.abs(this.left-f)<=i&&Math.abs(this.top-t)<=(h||i)}}},9918:(L,D,e)=>{e.d(D,{U:()=>m});var E=e(5856);class m{constructor(t,i,h,g){if("number"==typeof t)this.left=t||0,this.top=i||0,this.width=h||0,this.height=g||0;else{const s=t||{};this.left=s.left||0,this.top=s.top||0,this.width=void 0!==s.right?s.right-this.left:s.width||0,this.height=void 0!==s.bottom?s.bottom-this.top:s.height||0}}static equals(t,i){return t&&i&&t.left===i.left&&t.top===i.top&&t.width===i.width&&t.height===i.height}static union(t,i){return m.fromLTRB(Math.min(t.left,i.left),Math.min(t.top,i.top),Math.max(t.left+t.width,i.left+i.width),Math.max(t.top+t.height,i.top+i.height))}static overlapInfos(t,i){const h=Math.max(0,Math.min(t.right,i.right)-Math.max(t.left,i.left)),g=Math.max(0,Math.min(t.bottom,i.bottom)-Math.max(t.top,i.top));return{area:h*g,width:h,height:g,direction:h>g?"horizontal":"vertical"}}static fromLTRB(t,i,h,g){return new m(t,i,h-t,g-i)}static fromPoints(t,i){return m.fromLTRB(Math.min(t.left,i.left),Math.min(t.top,i.top),Math.max(t.left,i.left),Math.max(t.top,i.top))}set right(t){this.width=t-this.left}get right(){return this.left+this.width}set bottom(t){this.height=t-this.top}get bottom(){return this.top+this.height}get position(){return new E.L(this.left,this.top)}offset(t,i){return new m(this.left+t,this.top+i,this.width,this.height)}adjacent(t){return t.left<=this.right&&t.right>=this.left&&t.top<=this.bottom&&t.bottom>=this.top}contains(t){return t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom}containsPoint(t){return t.left>=this.left&&t.left<=this.right&&t.top>=this.top&&t.top<=this.bottom}intersectWith(t){return t.left<this.right&&t.right>this.left&&t.top<this.bottom&&t.bottom>this.top}isEmpty(){return!this.width||!this.height}clone(){return new m(this.left,this.top,this.width,this.height)}toClientRect(){return{left:this.left,top:this.top,bottom:this.bottom,right:this.right,width:this.width,height:this.height}}toRectStruct(){return this.toClientRect()}}},567:(L,D,e)=>{e.d(D,{$Q:()=>g});var E=e(5245),m=e(5e3);e(2884),e(837),e(6239),e(2747);let g=(()=>{class s{}return s.\u0275fac=function(p){return new(p||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[E.Ps]}),s})()},6239:(L,D,e)=>{e.d(D,{S:()=>U});var E=e(2031),m=e(1135),f=e(9300),t=e(8505),i=e(4326),h=e(2722),g=e(2718),s=e(2747),r=e(5e3),p=e(5245);const T=["block"],x=["content"];let U=(()=>{class _ extends E.yl{constructor(o,M){super(),this.elementRef=o,this.dragDropService=M,this.cursor$=new m.X(null),this.cursor$.pipe((0,f.h)(n=>!n),(0,t.b)(n=>{this.currentCursor&&(this.contentElement&&(this.contentElement.style.opacity="0"),this.iconElement&&(this.iconElement.style.opacity="0")),this.currentCursor=n}),(0,i.g)(300),(0,h.R)(this.destroyed$)).subscribe(()=>{this.position=void 0}),this.cursor$.pipe((0,f.h)(n=>!!n),(0,t.b)(n=>{o.nativeElement.style.display="",this.contentElement&&(this.contentElement.style.opacity="0"),this.iconElement&&(this.iconElement.style.opacity="0"),this.currentCursor=n}),(0,f.h)(n=>!n.className||"hidden"!==n.className),(0,t.b)(n=>{n.html?(o.nativeElement.className=n.className,this.contentElement&&(this.contentElement.innerHTML=n.html,this.contentElement.style.width=`${n.width||48}px`,this.contentElement.style.height=`${n.height||48}px`)):this.iconElement&&(this.iconElement.style.opacity="1")}),(0,i.g)(1),(0,h.R)(this.destroyed$)).subscribe(n=>{n.html&&this.contentElement&&(this.contentElement.style.opacity="1")}),this.dragDropService.dragCursor$.pipe((0,g.V)(this.dragDropService.dropCursor$),(0,h.R)(this.destroyed$)).subscribe(([n,l])=>{var v,y,c,u;const a=(n||l)&&{className:(null==l?void 0:l.className)||(null==n?void 0:n.className),html:(null==l?void 0:l.html)||(null==n?void 0:n.html)||l&&(null==n?void 0:n.originalHtml),width:(null==l?void 0:l.width)||(null==n?void 0:n.width),height:(null==l?void 0:l.height)||(null==n?void 0:n.height),position:null==n?void 0:n.position,originalEvent:null==n?void 0:n.originalEvent};(null==a?void 0:a.html)!==(null===(v=this.currentCursor)||void 0===v?void 0:v.html)||(null==a?void 0:a.className)!==(null===(y=this.currentCursor)||void 0===y?void 0:y.className)||(null==a?void 0:a.width)!==(null===(c=this.currentCursor)||void 0===c?void 0:c.width)||(null==a?void 0:a.height)!==(null===(u=this.currentCursor)||void 0===u?void 0:u.height)?this.cursor$.next(a):this.position=null==a?void 0:a.position})}set position(o){o?(this.elementRef.nativeElement.style.left=`${o.left}px`,this.elementRef.nativeElement.style.top=`${o.top}px`,this.elementRef.nativeElement.style.display=""):this.elementRef.nativeElement.style.display="none"}get iconElement(){var o;return null===(o=this.icon)||void 0===o?void 0:o.nativeElement}get contentElement(){var o;return null===(o=this.content)||void 0===o?void 0:o.nativeElement}}return _.\u0275fac=function(o){return new(o||_)(r.Y36(r.SBq),r.Y36(s.T))},_.\u0275cmp=r.Xpm({type:_,selectors:[["mouse-dragdrop-cursor"]],viewQuery:function(o,M){if(1&o&&(r.Gf(T,7),r.Gf(x,7)),2&o){let n;r.iGM(n=r.CRH())&&(M.icon=n.first),r.iGM(n=r.CRH())&&(M.content=n.first)}},features:[r.qOj],decls:7,vars:0,consts:[["id","block"],["block",""],["id","content"],["content",""]],template:function(o,M){1&o&&(r.TgZ(0,"div",0,1)(2,"mat-icon",null,1),r._uU(4,"block"),r.qZA()(),r._UZ(5,"div",2,3))},dependencies:[p.Hw],styles:["mouse-dragdrop-cursor{position:fixed;width:0;height:0;overflow:visible;z-index:10000;user-select:none;display:flex;align-items:center;justify-content:space-around}mouse-dragdrop-cursor #block{position:absolute;top:0;left:0;width:3rem;height:3rem;display:flex;align-items:center;justify-content:space-around;transform:translate(-50%,-50%);transition-property:opacity;transition-timing-function:linear;transition-duration:.3s;cursor:default}mouse-dragdrop-cursor #content{position:absolute;top:0;left:0;transform:translate(-50%,-50%);transition-property:opacity;transition-timing-function:linear;transition-duration:.3s;cursor:default}\n"],encapsulation:2}),_})()},2747:(L,D,e)=>{e.d(D,{T:()=>g});var E=e(2031),m=e(1135),f=e(8505),t=e(9300),i=e(2722),h=e(5e3);let g=(()=>{class s extends E.yl{constructor(){super(),this.dragCursor$=new m.X(null),this.dropCursor$=new m.X(null),this.dragging$=new m.X(!1),this._isDragging=!1,this.dragging$.pipe((0,f.b)(p=>this._isDragging=p),(0,t.h)(p=>!p),(0,i.R)(this.destroyed$)).subscribe(()=>this.context=void 0)}get isDragging(){return this._isDragging}}return s.\u0275fac=function(p){return new(p||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2884:(L,D,e)=>{e.d(D,{l:()=>l});var E=e(2031),m=e(9918),f=e(5856),t=e(4968),i=e(9300),h=e(3900),g=e(2722),s=e(9646),r=e(9751),p=e(576),x=e(5698),U=e(4004),_=e(7579),R=e(2181),o=e(8505),M=e(2747),n=e(5e3);let l=(()=>{class v extends E.yl{constructor(c,u){super();const a=c.nativeElement,j=(0,t.R)(a,"mouseleave"),C=(0,t.R)(a,"mouseenter"),P=(0,t.R)(a.ownerDocument,"mouseup"),W=(0,t.R)(a,"mousedown"),Y=(0,t.R)(a.ownerDocument,"mousemove");C.pipe((0,i.h)(()=>!u.isDragging),(0,h.w)(()=>W.pipe((0,i.h)(B=>1===B.buttons),(0,g.R)(j),(0,h.w)(B=>{const H=d=>d.tagName===this.context.target.toUpperCase()||`#${d.id}`===this.context.target||d.hasAttribute(this.context.target.substring(1,this.context.target.length-1))||d.className.split(" ").some(O=>`.${O}`===this.context.target);let K=(0,s.of)(null);if(this.context){let d;if(this.context.target)for(d=B.target;d&&!H(d);)d=d.parentElement;else d=a;if(d&&this.context.dragStart){const O=this.context.dragStart(d);O&&(function T(v){return!!v&&(v instanceof r.y||(0,p.m)(v.lift)&&(0,p.m)(v.subscribe))}(O)?K=O.pipe((0,x.q)(1),(0,U.U)(A=>(u.context=A,A&&d))):(u.context=O,K=(0,s.of)(d)))}}return K.pipe((0,i.h)(d=>!!d),(0,h.w)(d=>{u.dragging$.next(!0);const O=new _.x,N=C.pipe((0,i.h)($=>1!==$.buttons&&u.isDragging)),A=P.pipe((0,R.b)(N,O),(0,x.q)(1),(0,o.b)(()=>{u.dragCursor$.next(null),u.dragging$.next(!1)}));return Y.pipe((0,g.R)(A),(0,o.b)($=>{if(d&&1===$.buttons){const X=new m.U(a.getBoundingClientRect()),b=new f.L($.pageX,$.pageY),F=X.containsPoint(b)?d.innerHTML:void 0,I=5;let w=new m.U(B.pageX,B.pageY,2*I,2*I);w=w.offset(-I,-I),w.containsPoint(b)||u.dragCursor$.next({position:b,html:F,originalHtml:d.innerHTML,width:d.offsetWidth,height:d.offsetHeight,className:this.context.className,originalEvent:$})}else O.next();return!1}))}))}))),(0,g.R)(this.destroyed$)).subscribe()}set context(c){this._context=c}get context(){return this._context}}return v.\u0275fac=function(c){return new(c||v)(n.Y36(n.SBq),n.Y36(M.T))},v.\u0275dir=n.lG2({type:v,selectors:[["","mouse-draggable",""]],inputs:{context:["mouse-draggable","context"]},features:[n.qOj]}),v})()},837:(L,D,e)=>{e.d(D,{d:()=>U});var E=e(2031),m=e(9918),f=e(5856),t=e(1884),i=e(9300),h=e(3900),g=e(5698),s=e(8505),r=e(2722),p=e(9646),T=e(2747),x=e(5e3);let U=(()=>{class _ extends E.yl{constructor(o,M){super();const n=o.nativeElement;let l;const v=M.dragging$.pipe((0,t.x)()),y=M.dragCursor$.pipe((0,i.h)(c=>!!c),(0,h.w)(c=>v.pipe((0,i.h)(u=>!u),(0,g.q)(1),(0,s.b)(()=>{var u;l&&(null===(u=this.context)||void 0===u?void 0:u.drop)&&this.context.drop(l,c),l=void 0,M.dropCursor$.next(null)}))));v.pipe((0,i.h)(c=>c),(0,h.w)(()=>M.dragCursor$.pipe((0,r.R)(y),(0,h.w)(c=>{var u;const a=new m.U(n.getBoundingClientRect());if(this.context&&c){const{pageX:j,pageY:C}=c.originalEvent;if(a.containsPoint(new f.L(j,C))){if(l){if(this.context.dragOver){const P=this.context.dragOver(l,c);if(P)return(0,p.of)(P)}}else if(l=M.context,this.context.dragEnter){const P=this.context.dragEnter(l,c);if(P){const W=P;return W.subscribe?W:(0,p.of)(P)}}}else l&&(!(null===(u=this.context)||void 0===u)&&u.dragLeave&&this.context.dragLeave(l),l=void 0,M.dropCursor$.next(null))}return(0,p.of)(null)}))),(0,i.h)(c=>!!c),(0,r.R)(this.destroyed$)).subscribe(c=>M.dropCursor$.next(c))}set context(o){this._context=o}get context(){return this._context}}return _.\u0275fac=function(o){return new(o||_)(x.Y36(x.SBq),x.Y36(T.T))},_.\u0275dir=x.lG2({type:_,selectors:[["","mouse-droppable",""]],inputs:{context:["mouse-droppable","context"]},features:[x.qOj]}),_})()}}]);