(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[345],{532:function(e,t,s){"use strict";s.d(t,{LD:function(){return S},sQ:function(){return j}});var o=s(61511),i=s(31572),r=s(16073),n=s(15980),l=s(43691),a=s(27312),c=s(31305),d=s(78512),h=s(55959),u=s(81110),b=s(31906),p=s(87254),v=s(25416),g=s(79996),f=s(66599),_=s(98720),C=s(32862),y=s(47701),x=s(60509),m=s(43835),O=s(90611),w=s(19861);const k=["*"];function $(e,t){if(1&e&&i._UZ(0,"deja-color-fab",5),2&e){const e=t.index;i.Q6J("color",t.$implicit),i.uIk("index",e)}}function F(e,t){if(1&e&&i._UZ(0,"deja-color-fab",6),2&e){const e=t.$implicit,s=t.index;i.Udp("transition-duration",100*s+"ms"),i.Q6J("color",e),i.uIk("index",s)}}function M(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",7),i.NdJ("click",function(){return i.CHM(e),i.oxw().resetDefaultColor()}),i.TgZ(1,"mat-icon"),i._uU(2,"undo"),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.Udp("background-color",e._resetcolor.toHex()),i.xp6(1),i.Udp("color",e.getBestTextColor(e._resetcolor.toHex()))}}let I=(()=>{class e extends a.yl{constructor(e){super(),this.element=e.nativeElement}set color(e){if(this._colorFab=e,e){const t=(e,t)=>{t?this.element.setAttribute(e,t.toString()):this.element.removeAttribute(e)};e.active$.pipe((0,v.R)(this.destroyed$)).subscribe(e=>t("active",e)),(0,c.aj)([e.color$,e.disabled$]).pipe((0,g.U)(([e,t])=>e&&t?e.grayScale:e),(0,v.R)(this.destroyed$)).subscribe(e=>this.element.style.backgroundColor=e?e.toHex():"")}}get tile(){return this._colorFab}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275cmp=i.Xpm({type:e,selectors:[["deja-color-fab"]],inputs:{color:"color"},features:[i.qOj],ngContentSelectors:k,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},styles:["[_nghost-%COMP%]{border-radius:50%;cursor:pointer;transition:all .2s linear;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:space-around;margin:.45rem}[small][_nghost-%COMP%]{width:1.65rem;height:1.65rem;margin:.3rem}[active][_nghost-%COMP%]{transform:scale(1.4);transition:transform .2s linear!important}"]}),e})();class B{constructor(e,t=!1,s=!1){this._color=e,this._disabled=t,this._active=s,this.color$=new d.X(e),this.disabled$=new d.X(t),this.active$=new d.X(s)}set color(e){this.color$.next(this._color=e)}get color(){return this._color}set disabled(e){this.disabled$.next(this._disabled=e)}get disabled(){return this._disabled}set active(e){this.active$.next(this._active=e)}get active(){return this._active}}let S=(()=>{class e{constructor(t,s){this.control=s,this.colorhover=new i.vpe,this.destroyed$=new h.xQ,this._colors$=new d.X([]),this._resetcolor$=new d.X(null),this._colorFabs=[],this._subColorFabs=[],this._selectedBaseIndex=0,this._disabled=!1,this.selectedBaseIndex$=new d.X(0),this.selectedSubIndex$=new d.X(0),this.hilightedBaseIndex$=new h.xQ,this.hilightedSubIndex$=new h.xQ,this.onTouchedCallback=()=>{},this.onChangeCallback=e=>{};const o=t.nativeElement;this.control&&(this.control.valueAccessor=this),this._colorFabs$=this._colors$.pipe((0,g.U)(e=>e.map((e,t)=>new B(e,this._disabled,t===this._selectedBaseIndex))),(0,f.b)(e=>this._colorFabs=e)),(0,c.aj)([this._colors$,this._resetcolor$]).pipe((0,v.R)(this.destroyed$)).subscribe(([e,t])=>{if(!e||!e.length||!t)return void(this._resetcolor=void 0);let s;e.reduce((e,t)=>{const s=t;return s.subColors?e=[...e,...s.subColors]:e.push(t),e},[]).reduce((e,o)=>{const i=.3*Math.abs(o.r-t.r)+.4*Math.abs(o.g-t.g)+.25*Math.abs(o.b-t.b);return i<e?(s=o,i):e},765),this._resetcolor=s});const r=this.hilightedBaseIndex$.pipe((0,_.x)(),(0,C.D)(e=>(0,u.H)(void 0!==e?100:1e3)),(0,f.b)(e=>{var t,s;this.hilightedBaseIndex=e;const o=new CustomEvent("ColorEvent",{});o.color=e?null===(s=null===(t=this._colorFabs)||void 0===t?void 0:t[e])||void 0===s?void 0:s.color:this.value,this.colorhover.emit(o)}),(0,g.U)(e=>void 0!==e?e:this._selectedBaseIndex||0)),n=this.selectedBaseIndex$.pipe((0,f.b)(e=>this._selectedBaseIndex=e));this._subColorFabs$=(0,b.T)(r,n).pipe((0,_.x)(),(0,f.b)(e=>{this._colorFabs&&this._colorFabs.forEach((t,s)=>t.active=s===e)}),(0,y.b)(100),(0,f.b)(()=>o.setAttribute("sub-tr","")),(0,g.U)(e=>{var t;return(null===(t=this._colorFabs)||void 0===t?void 0:t[e])&&this._colorFabs[e].color.subColors}),(0,g.U)(e=>null==e?void 0:e.map((e,t)=>new B(e,this._disabled,t===this._selectedSubIndex))),(0,f.b)(e=>this._subColorFabs=e)),this._subColorFabs$.pipe((0,x.g)(100),(0,v.R)(this.destroyed$)).subscribe(()=>o.removeAttribute("sub-tr"));const l=this.hilightedSubIndex$.pipe((0,_.x)(),(0,C.D)(e=>(0,u.H)(void 0!==e?200:1100)),(0,f.b)(e=>{var t,s;this.hilightedSubIndex=e;const o=new CustomEvent("ColorEvent",{});o.color=void 0!==e?null===(s=null===(t=this._subColorFabs)||void 0===t?void 0:t[e])||void 0===s?void 0:s.color:this.value,this.colorhover.emit(o)}),(0,g.U)(e=>void 0!==e?e:this._selectedSubIndex||0)),O=this.selectedSubIndex$.pipe((0,_.x)(),(0,f.b)(e=>this._selectedSubIndex=e));(0,b.T)(l,O).pipe((0,m.h)(()=>!!this._subColorFabs),(0,v.R)(this.destroyed$)).subscribe(e=>this._subColorFabs.forEach((t,s)=>t.active=s===e)),(0,p.R)(o,"mousemove").pipe((0,m.h)(()=>!this._disabled),(0,v.R)(this.destroyed$)).subscribe(t=>{const s=t.target,o=s.attributes[e.INDEX_ATTRIBUTE];s.hasAttribute("basecolor")?(this.hilightedBaseIndex$.next(+o.value),this.hilightedSubIndex$.next(this.hilightedSubIndex)):s.hasAttribute("subcolor")?(this.hilightedBaseIndex$.next(this.hilightedBaseIndex),this.hilightedSubIndex$.next(+o.value)):(this.hilightedBaseIndex$.next(void 0),this.hilightedSubIndex$.next(void 0))}),(0,p.R)(o,"click").pipe((0,m.h)(()=>!this._disabled),(0,v.R)(this.destroyed$)).subscribe(e=>{const t=e.target;(t.hasAttribute("basecolor")||t.hasAttribute("subcolor"))&&(this.value=a.Il.parse(t.style.backgroundColor))})}get subColorFabs(){return this._subColorFabs}get subColorFabs$(){return this._subColorFabs$}get colorFabs$(){return this._colorFabs$}set resetcolor(e){""===e&&(e=new a.Il);const t=e&&("string"==typeof e?a.Il.parse(e):e);this._resetcolor$.next(t||null)}set disabled(e){const t=(0,w.Ig)(e);this._colorFabs&&this._colorFabs.forEach(e=>e.disabled=t),this._subColorFabs&&this._subColorFabs.forEach(e=>e.disabled=t),this._disabled=t||null}get disabled(){return this._disabled}getBestTextColor(e){return a.Il.fromHex(e).bestTextColor.toHex()}resetDefaultColor(){this.value=this._resetcolor}set colors(e){this._colors$.next(e||[]),this.selectedBaseIndex$.next(0)}set selectedColor(e){const t=e=>{(0,u.H)(1).pipe((0,O.q)(1),(0,v.R)(this.destroyed$)).subscribe(()=>this.selectedSubIndex$.next(e))};this._colorFabs&&(this._colorFabs.find((s,o)=>{var i;const r=s.color,n=null===(i=r.subColors)||void 0===i?void 0:i.findIndex(t=>a.Il.equals(t,e));return void 0!==n&&n>=0?(this.selectedBaseIndex$.next(o),t(n),!0):!!a.Il.equals(r,e)&&(this.selectedBaseIndex$.next(o),t(0),!0)})||(this.selectedBaseIndex$.next(0),t(0)))}set value(e){a.Il.equals(e,this._value)||(this.writeValue(e),this.onChangeCallback(e))}get value(){return this._value}writeValue(e){this._value=e,this.selectedColor=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.unsubscribe()}}return e.INDEX_ATTRIBUTE="index",e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(r.a5,10))},e.\u0275cmp=i.Xpm({type:e,selectors:[["deja-color-selector"]],inputs:{resetcolor:"resetcolor",disabled:"disabled",colors:"colors"},outputs:{colorhover:"colorhover"},decls:7,vars:7,consts:[["id","basecolors",1,"colors-wrapper"],["basecolor","","small","",3,"color",4,"ngFor","ngForOf"],["id","subcolors",1,"colors-wrapper"],["subcolor","",3,"transition-duration","color",4,"ngFor","ngForOf"],["id","reset",3,"background-color","click",4,"ngIf"],["basecolor","","small","",3,"color"],["subcolor","",3,"color"],["id","reset",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,$,1,2,"deja-color-fab",1),i.ALo(2,"async"),i.qZA(),i.TgZ(3,"div",2),i.YNc(4,F,1,4,"deja-color-fab",3),i.ALo(5,"async"),i.qZA(),i.YNc(6,M,3,4,"div",4)),2&e&&(i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,3,t.colorFabs$)),i.xp6(3),i.Q6J("ngForOf",i.lcZ(5,5,t.subColorFabs$)),i.xp6(2),i.Q6J("ngIf",!!t._resetcolor))},directives:[o.sg,o.O5,I,l.Hw],pipes:[o.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .colors-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap;margin:1rem .5rem}[_nghost-%COMP%]   .colors-wrapper[_ngcontent-%COMP%]   deja-color-fab[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]   .colors-wrapper[_ngcontent-%COMP%]   #subcolors[_ngcontent-%COMP%]   deja-color-fab[_ngcontent-%COMP%]{opacity:1}[sub-tr][_nghost-%COMP%]   #subcolors.colors-wrapper[_ngcontent-%COMP%]   deja-color-fab[_ngcontent-%COMP%]{opacity:0;transform:scale(0)}[_nghost-%COMP%]   #reset[_ngcontent-%COMP%]{padding:.5rem 0;cursor:pointer;text-align:center}"]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.ez,r.u5,l.Ps,n.ot]]}),e})()},42151:function(e,t,s){"use strict";s.d(t,{j:function(){return p},x:function(){return v}});var o=s(52076),i=s(61511),r=s(31572),n=s(27312),l=s(19861),a=s(81110),c=s(33982),d=s(25416),h=s(90611);function u(e,t){1&e&&r.Hsn(0)}const b=["*"];let p=(()=>{class e extends n.yl{constructor(e,t,s,o){super(),this.changeDetectorRef=e,this.elementRef=t,this.overlayContainer=s,this.overlayBackdropClass="cdk-overlay-transparent-backdrop",this.visibleChange=new r.vpe,this.closed=new r.vpe,this.overlayOffsetX=0,this.overlayOffsetY=0,this._isVisible=!1,this._hasBackdrop=!0,this._width=null,this._widthForMobile="100%",this._positions=n.Gg.default,this._isMobile=!1,this.disableMediaService=!1,this.overlayContainer.getContainerElement().addEventListener("contextmenu",e=>(e.preventDefault(),!1)),o.isMobile$.pipe((0,c.o)(()=>!this.disableMediaService),(0,d.R)(this.destroyed$)).subscribe(e=>{this._isMobile=e,this.updateOriginOverlay(),this.changeDetectorRef.markForCheck()})}get isVisible(){return this._isVisible}set isVisible(e){const t=(0,l.Ig)(e);if(this._isVisible!==t){this._isVisible=t;const e=this.overlayContainer.getContainerElement();e.className=Array.from(e.classList).filter(e=>e.startsWith("cdk")).join(" "),e.classList.add("deja-overlay-container"),this.isVisible&&this.overlayContainerClass&&this.overlayContainerClass.split(" ").forEach(t=>{e.classList.add(t)}),this.changeDetectorRef.markForCheck(),this.visibleChange.emit(this._isVisible)}}set hasBackdrop(e){this._hasBackdrop=(0,l.Ig)(e)}get hasBackdrop(){return this._hasBackdrop}set ownerElement(e){this._ownerElement=e,this.updateOriginOverlay()}get positionPairs(){return this.positions}get positions(){return this.isMobile?this._positionsForMobile?this._positionsForMobile:n.Gg.parse("start top start top"):this._positions}set positions(e){this._positions="string"==typeof e?n.Gg.parse(e):e}set positionsForMobile(e){this._positionsForMobile="string"==typeof e?n.Gg.parse(e):e}get isMobile(){return this._isMobile}set isMobile(e){this._isMobile=(0,l.Ig)(e),this.updateOriginOverlay(),this.disableMediaService=!0}get width(){return this._width}set width(e){this._width=(0,l.su)(e)}get widthForMobile(){return this._widthForMobile}set widthForMobile(e){this._widthForMobile=e}get overlayWidth(){return this.isMobile?this._widthForMobile:this._width}updatePosition(){var e,t;null===(t=null===(e=this.overlay)||void 0===e?void 0:e.overlayRef)||void 0===t||t.updatePosition()}show(e,t){this.overlayOffsetX=void 0!==t?+e:0,this.overlayOffsetY=t||0,this.overlayOrigin=new o.xu(new r.SBq(this.isMobile&&document.body||(null==e?void 0:e.target)||this.ownerElement||this.elementRef.nativeElement)),this.isVisible=!0,this.changeDetectorRef.markForCheck(),(0,a.H)(1).pipe((0,h.q)(1),(0,d.R)(this.destroyed$)).subscribe(()=>this.updatePosition())}close(){this.isVisible=!1,this.closed.emit(!0),this.changeDetectorRef.markForCheck()}updateOriginOverlay(){this.overlayOrigin=new o.xu(new r.SBq(this.isMobile&&document.body||this._ownerElement||this.elementRef.nativeElement))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(o.Xj),r.Y36(n.yJ))},e.\u0275cmp=r.Xpm({type:e,selectors:[["deja-overlay"]],viewQuery:function(e,t){if(1&e&&r.Gf(o.pI,7),2&e){let e;r.iGM(e=r.CRH())&&(t.overlay=e.first)}},inputs:{overlayBackdropClass:"overlayBackdropClass",overlayContainerClass:"overlayContainerClass",overlayOffsetX:"overlayOffsetX",overlayOffsetY:"overlayOffsetY",isVisible:"isVisible",hasBackdrop:"hasBackdrop",ownerElement:"ownerElement",positions:"positions",positionsForMobile:"positionsForMobile",isMobile:"isMobile",width:"width",widthForMobile:"widthForMobile"},outputs:{visibleChange:"visibleChange",closed:"closed"},features:[r.qOj],ngContentSelectors:b,decls:2,vars:8,consts:[["cdk-connected-overlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen","cdkConnectedOverlayOffsetY","cdkConnectedOverlayOffsetX","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","detach"],["overlayCmp",""]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,u,1,0,"ng-template",0,1,r.W1O),r.NdJ("backdropClick",function(){return t.close()})("detach",function(){return t.close()})),2&e&&r.Q6J("cdkConnectedOverlayHasBackdrop",t.hasBackdrop)("cdkConnectedOverlayBackdropClass",t.overlayBackdropClass)("cdkConnectedOverlayOpen",!!t.isVisible)("cdkConnectedOverlayOffsetY",t.overlayOffsetY)("cdkConnectedOverlayOffsetX",t.overlayOffsetX)("cdkConnectedOverlayOrigin",t.overlayOrigin)("cdkConnectedOverlayPositions",t.positionPairs)("cdkConnectedOverlayWidth",t.overlayWidth)},directives:[o.pI],styles:["@media print{.deja-overlay-container{display:none}}"],encapsulation:2,changeDetection:0}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,o.U8,n.cO]]}),e})()}}]);