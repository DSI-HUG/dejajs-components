"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[158,183],{1676:(Z,C,s)=>{s.d(C,{V:()=>m});var i=s(5804),h=s(9947),g=s(2254),v=s(2937),w=s(7979),p=s(7613);function O(...M){const u=(0,p.jO)(M);return u?(0,w.z)(O(...M),(0,v.Z)(u)):(0,h.e)((P,b)=>{(0,i.l)([P,...(0,g.k)(M)])(b)})}function m(...M){return O(...M)}},9952:(Z,C,s)=>{s.d(C,{M:()=>O});var i=s(9947),h=s(8889),g=s(9985),v=s(4623),w=s(6921),p=s(7613);function O(...m){const M=(0,p.jO)(m);return(0,i.e)((u,P)=>{const b=m.length,E=new Array(b);let _=m.map(()=>!1),x=!1;for(let t=0;t<b;t++)(0,g.Xf)(m[t]).subscribe(new h.Q(P,A=>{E[t]=A,!x&&!_[t]&&(_[t]=!0,(x=_.every(v.y))&&(_=null))},w.Z));u.subscribe(new h.Q(P,t=>{if(x){const A=[t,...E];P.next(M?M(...A):A)}}))})}},411:(Z,C,s)=>{s.d(C,{H:()=>O});var i=s(3668),h=s(5304),v=(s(7671),s(6019));function w(m,M){if(1&m){const u=i.EpF();i.TgZ(0,"img",11),i.NdJ("load",function(){return i.CHM(u),i.oxw(2).imageLoaded.emit()}),i.qZA()}if(2&m){const u=i.oxw(2);i.uIk("src",u.item.urlToImage,i.LSH)}}function p(m,M){if(1&m&&(i.TgZ(0,"span",1),i.TgZ(1,"span",2),i.YNc(2,w,1,1,"img",3),i.qZA(),i.TgZ(3,"span",4),i.TgZ(4,"span",5),i._uU(5),i.qZA(),i.TgZ(6,"span",6),i._uU(7),i.qZA(),i.TgZ(8,"span",7),i.TgZ(9,"a",8),i._uU(10),i.qZA(),i.TgZ(11,"span",9),i._uU(12),i.qZA(),i.TgZ(13,"span",10),i._uU(14),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&m){const u=i.oxw();i.xp6(2),i.Q6J("ngIf",u.item.urlToImage),i.xp6(3),i.Oqu(u.item.title),i.xp6(2),i.Oqu(u.item.description),i.xp6(2),i.uIk("href",u.item.url,i.LSH),i.xp6(1),i.Oqu(u.item.url),i.xp6(2),i.Oqu(u.item.author),i.xp6(2),i.Oqu(u.item.publishedAt)}}let O=(()=>{class m{constructor(u,P){this.elementRef=u,this.imageLoaded=new i.vpe,P&&(this.item=P)}}return m.\u0275fac=function(u){return new(u||m)(i.Y36(i.SBq),i.Y36(h.WI,8))},m.\u0275cmp=i.Xpm({type:m,selectors:[["news-card"]],inputs:{item:"item"},outputs:{imageLoaded:"imageLoaded"},decls:1,vars:1,consts:[["class","news",4,"ngIf"],[1,"news"],[1,"logo"],[3,"load",4,"ngIf"],[1,"text"],[1,"title"],[1,"description"],[1,"footer"],[1,"url"],[1,"author"],[1,"publishedAt"],[3,"load"]],template:function(u,P){1&u&&i.YNc(0,p,15,7,"span",0),2&u&&i.Q6J("ngIf",P.item)},directives:[v.O5],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]{padding:5px;overflow:hidden;display:flex;flex-direction:row}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{flex:0 0 25%}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;-o-object-fit:contain;object-fit:contain;max-width:100%;max-height:100%}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-left:1px #aaa solid;padding-left:.3rem;margin-left:.3rem;flex:0 0 75%}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:200%;margin:0 1rem .3rem .3rem;white-space:normal}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:120%;margin:.3rem 1rem .3rem .3rem;white-space:normal}[_nghost-%COMP%]   .news[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.3rem 1rem 0 .3rem;overflow:hidden;justify-content:space-between;flex-wrap:wrap}"]}),m})()},9183:(Z,C,s)=>{s.r(C),s.d(C,{NewsCardModule:()=>w});var i=s(6019),h=s(1574),g=s(411),v=s(3668);let w=(()=>{class p extends h.sw{constructor(){super(g.H)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=v.oAB({type:p}),p.\u0275inj=v.cJS({providers:[],imports:[[i.ez]]}),p})()},7671:(Z,C,s)=>{s.d(C,{ef:()=>w,wg:()=>p});var i=s(4762),h=s(6563);class w{constructor(){this.sources=void 0,this.status=void 0}}(0,i.gn)([(0,h.ep)({type:class{constructor(){this.id=void 0,this.name=void 0,this.category=void 0,this.language=void 0,this.country=void 0,this.sortBysAvailable=void 0}}}),(0,i.w6)("design:type",Array)],w.prototype,"sources",void 0);class p{constructor(){this.articles=void 0,this.status=void 0,this.sources=void 0}}(0,i.gn)([(0,h.ep)({type:class{constructor(){this.author=void 0,this.title=void 0,this.description=void 0,this.url=void 0,this.urlToImage=void 0,this.publishedAt=void 0}}}),(0,i.w6)("design:type",Array)],p.prototype,"articles",void 0)},1675:(Z,C,s)=>{s.d(C,{Y:()=>u});var i=s(6563),h=s(6111),g=s(4753),v=s(3067),w=s(7384),p=s(7038),O=s(7671),m=s(3668),M=s(4522);let u=(()=>{class P{constructor(E){this.httpClient=E,this.news$=this.httpClient.get("https://newsapi.org/v1/sources?language=en").pipe((0,g.U)(_=>i.cV.deserialize(O.ef,_)),(0,g.U)(_=>{if("ok"!==_.status)throw new Error("Fail to get news");return _.sources}),(0,g.U)(_=>_.filter(x=>"technology"===x.category||"gaming"===x.category)),(0,v.w)(_=>{const x=_[Math.round(Math.random()*(_.length-1))];return this.httpClient.get(`https://newsapi.org/v1/articles?source=${x.id}&apiKey=228bc9410a2a4f608d2ad2e5626896f3`)}),(0,g.U)(_=>i.cV.deserialize(O.wg,_)),(0,g.U)(_=>{if("ok"!==_.status)throw new Error("Fail to get news");return _.articles}),(0,w.b)(_=>{console.log("x",_)}),(0,p.d)({bufferSize:1,refCount:!1}))}getNews$(E){return this.news$.pipe((0,g.U)(_=>{let x=_;if(E)for(;E>0;)x=x.concat((0,h.Z)(_)),E-=_.length;return x}))}}return P.\u0275fac=function(E){return new(E||P)(m.LFG(M.eN))},P.\u0275prov=m.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},2009:(Z,C,s)=>{s.r(C),s.d(C,{ViewPortDemoModule:()=>o});var i=s(6019),h=s(9133),g=s(86),v=s(888),w=s(904),p=s(3660),O=s(138),m=s(2605),M=s(8643),u=s(8686),P=s(6412),b=s(9183),E=s(3507),_=s(7038),x=s(1675),t=s(3668),A=s(7991),L=s(8167),N=s(411);const R=["viewport"];function B(n,r){1&n&&(t.TgZ(0,"mat-card",4),t._UZ(1,"deja-markdown",5),t.qZA()),2&n&&(t.xp6(1),t.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/v2/viewport/readme.md"))}function S(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"news-card",21),t.NdJ("imageLoaded",function(){const l=t.CHM(e).$implicit;return t.oxw(2).imageLoaded(l)}),t.qZA()}2&n&&t.Q6J("item",r.$implicit.model)}function V(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",4),t.TgZ(1,"mat-toolbar",6),t._uU(2,"Viewport"),t.qZA(),t.TgZ(3,"mat-card-content",7),t.TgZ(4,"div",8),t._uU(5,"Sample with a big list of more than 3000 templates. Rendering can be horizontal or vertical. Only the visible templates are created on the dom. In this example, the size of the template is automatically calculated on the rendering, and the scroll bar is adapted during the scolling. This is the worst case for perfomances."),t.qZA(),t.TgZ(6,"div",9),t.TgZ(7,"mat-checkbox",10),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().isHorizontal=a}),t._uU(8,"Horizontal"),t.qZA(),t.TgZ(9,"mat-checkbox",11),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().hasButtons=a}),t._uU(10,"Buttons Scrolling (Tips: press ctrl to increase the step)"),t.qZA(),t.TgZ(11,"span",12),t.TgZ(12,"span"),t._uU(13,"Ensure index:"),t.qZA(),t.TgZ(14,"mat-form-field",13),t.TgZ(15,"input",14),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().ensureIndex=a}),t.qZA(),t.qZA(),t.TgZ(16,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(29),l=t.oxw();return a.ensureVisible(l.ensureIndex)}),t._uU(17,"Go"),t.qZA(),t.TgZ(18,"a",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().reload()}),t.TgZ(19,"mat-icon"),t._uU(20,"refresh"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"span",17),t.TgZ(22,"span"),t._uU(23,"Ensure scroll position:"),t.qZA(),t.TgZ(24,"mat-form-field",13),t.TgZ(25,"input",14),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().scrollPosition=a}),t.qZA(),t.qZA(),t.TgZ(26,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(29),l=t.oxw();return a.viewPortService.scrollPosition$.next(l.scrollPosition)}),t._uU(27,"Go"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"viewport",18,19),t.ALo(30,"async"),t.YNc(31,S,1,1,"ng-template",null,20,t.W1O),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.isHorizontal),t.xp6(2),t.Q6J("ngModel",e.hasButtons),t.xp6(6),t.Q6J("ngModel",e.ensureIndex),t.xp6(10),t.Q6J("ngModel",e.scrollPosition),t.xp6(3),t.Q6J("debugMode",!1)("models",t.lcZ(30,8,e.news$))("direction",e.isHorizontal?"horizontal":"vertical")("scrollingStyle",e.hasButtons?"buttons":"scrollbar")}}const J=E.Bz.forChild([{path:"",component:(()=>{class n{constructor(e){this.tabIndex=1,this.isHorizontal=!1,this.hasButtons=!1,this.exampleValue='\n    <viewport [models]="news$ | async" itemSize="120">\n        <ng-template #viewPortItemTemplate let-item>\n            <div *ngIf="item" class="news" [attr.id]="id">\n                <img [attr.src]="item.urlsToLogos.medium" class="logo">\n                <span class="text">\n                    <span class="name">{{ item.name }}</span>\n                    <span class="description">{{ item.description }}</span>\n                    <div class="footer">\n                        <a class="url" [attr.href]="item.url">{{ item.url }}</a>\n                        <span class="category">{{ item.category }}</span>\n                        <span class="country">{{ item.country }}</span>\n                        <span class="language">{{ item.language }}</span>\n                    </div>\n                </span>\n            </div>\n        </ng-template>\n    </viewport>',this.news$=e.getNews$(50).pipe((0,_.d)({bufferSize:1,refCount:!1}))}reload(){this.viewport&&this.viewport.reloadViewPort()}imageLoaded(e){requestAnimationFrame(()=>requestAnimationFrame(()=>{e.loaded||(e.loaded=!0,e.size=void 0,this.viewport.refreshViewPort())}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["viewport-demo"]],viewQuery:function(e,c){if(1&e&&t.Gf(R,5),2&e){let a;t.iGM(a=t.CRH())&&(c.viewport=a.first)}},decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["class","demo-card demo-basic",4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],["color","primary"],["id","viewPortContainer"],[1,"viewPortTitle"],[1,"viewPortOptions"],[3,"ngModel","ngModelChange"],[1,"flexOffset1rl",3,"ngModel","ngModelChange"],[1,"viewPortEnsureIndex"],[1,"flex3r"],["matInput","","type","number","autocomplete","off",3,"ngModel","ngModelChange"],["type","button","mat-button","",3,"click"],["mat-button","",3,"click"],[1,"viewPortEnsureScrollPos"],["viewPortMode","auto","itemSize","41",3,"debugMode","models","direction","scrollingStyle"],["viewport",""],["viewPortItemTemplate",""],[3,"item","imageLoaded"]],template:function(e,c){1&e&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedTabChange",function(l){return c.tabIndex=l.index}),t._UZ(1,"mat-tab",1),t._UZ(2,"mat-tab",2),t.qZA(),t.YNc(3,B,2,1,"mat-card",3),t.YNc(4,V,33,10,"mat-card",3)),2&e&&(t.Q6J("selectedIndex",c.tabIndex),t.xp6(3),t.Q6J("ngIf",0===c.tabIndex),t.xp6(1),t.Q6J("ngIf",1===c.tabIndex))},directives:[m.SP,m.uX,i.O5,v.a8,A.F,M.Ye,v.dn,w.oG,h.JJ,h.On,L.KE,O.Nt,h.wV,h.Fj,g.lW,g.zs,p.Hw,u.Ef,N.H],pipes:[i.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .mat-tab-group[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortTitle[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortOptions[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortOptions[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortOptions[_ngcontent-%COMP%]   .viewPortEnsureIndex[_ngcontent-%COMP%], [_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortOptions[_ngcontent-%COMP%]   .viewPortEnsureScrollPos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding-left:2rem}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortOptions[_ngcontent-%COMP%]   .viewPortEnsureIndex[_ngcontent-%COMP%]   .flex3r[_ngcontent-%COMP%], [_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .viewPortOptions[_ngcontent-%COMP%]   .viewPortEnsureScrollPos[_ngcontent-%COMP%]   .flex3r[_ngcontent-%COMP%]{flex:0 0 3rem;overflow:hidden}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[_ngcontent-%COMP%]{padding-top:1rem;flex:1 1 100%}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]{box-shadow:inset 1px 0 #aaa,inset -1px 0 #aaa,inset 0 -1px #aaa}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]:first-child{box-shadow:inset 1px 0 #aaa,inset -1px 0 #aaa,inset 0 -1px #aaa,inset 0 1px #aaa}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[horizontal=true][_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]{box-shadow:inset -1px 0 #aaa,inset 0 -1px #aaa,inset 0 1px #aaa}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[horizontal=true][_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]:first-child{box-shadow:inset 1px 0 #aaa,inset -1px 0 #aaa,inset 0 -1px #aaa,inset 0 1px #aaa}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[horizontal=true][_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]{max-width:45rem;display:block}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[horizontal=true][_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:20rem!important}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[horizontal=true][_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:0 1 25rem!important}[_nghost-%COMP%]   .demo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   viewport[horizontal=true][_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{flex-direction:column!important}"]}),n})()},{path:"**",redirectTo:"",pathMatch:"full"}]);let o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[i.ez,P.O,h.u5,g.ot,v.QW,w.p9,p.Ps,O.c,m.Nh,M.g0,b.NewsCardModule,J,u.J0]]}),n})()},4762:(Z,C,s)=>{function w(o,n,r,e){var l,c=arguments.length,a=c<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,n,r,e);else for(var f=o.length-1;f>=0;f--)(l=o[f])&&(a=(c<3?l(a):c>3?l(n,r,a):l(n,r))||a);return c>3&&a&&Object.defineProperty(n,r,a),a}function O(o,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,n)}function m(o,n,r,e){return new(r||(r=Promise))(function(a,l){function f(T){try{d(e.next(T))}catch(I){l(I)}}function D(T){try{d(e.throw(T))}catch(I){l(I)}}function d(T){T.done?a(T.value):function(a){return a instanceof r?a:new r(function(l){l(a)})}(T.value).then(f,D)}d((e=e.apply(o,n||[])).next())})}s.d(C,{gn:()=>w,w6:()=>O,mG:()=>m})}}]);