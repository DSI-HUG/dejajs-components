(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"7trc":function(e,t,n){"use strict";n.r(t);var a=n("SVse"),i=n("s7LF"),r=n("Dxy4"),o=n("PDjf"),s=n("M9ds"),l=n("l0rg"),c=n("650w"),m=n("mrSG"),g=n("8Y7J"),d=n("8LU1"),h=n("Z5sx"),p=n("xgIS"),u=n("VRyK"),f=n("SxV6"),x=n("vkgz"),w=n("1G5W");const C=["rangeTemplate"],b=["separatorTemplate"];function O(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span",7),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate2"]("",e.min," - ",e.max,"")}}function M(e,t){}function y(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",10),g["\u0275\u0275element"](1,"span",11),g["\u0275\u0275elementEnd"]())}function _(e,t){}const P=function(e,t,n){return{$implicit:e,index:t,ranges:n}};function v(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span",8),g["\u0275\u0275listener"]("mousedown",(function(t){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275nextContext"]().index;return g["\u0275\u0275nextContext"]().onMouseDown(t,n)})),g["\u0275\u0275template"](1,y,2,0,"span",9),g["\u0275\u0275template"](2,_,0,0,"ng-template",5),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](),t=e.$implicit,n=e.index,a=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!a.separatorTemplate),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngTemplateOutlet",a.separatorTemplate)("ngTemplateOutletContext",g["\u0275\u0275pureFunction3"](3,P,t,n,a.ranges))}}function E(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section",2),g["\u0275\u0275elementStart"](1,"span",3),g["\u0275\u0275listener"]("mousedown",(function(n){g["\u0275\u0275restoreView"](e);const a=t.index;return g["\u0275\u0275nextContext"]().onSelect(n,a)})),g["\u0275\u0275template"](2,O,2,2,"span",4),g["\u0275\u0275template"](3,M,0,0,"ng-template",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,v,3,7,"span",6),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=g["\u0275\u0275nextContext"]();g["\u0275\u0275styleProp"]("width",e.$width,"px"),g["\u0275\u0275advance"](1),g["\u0275\u0275classProp"]("selected",a.selected===n),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!a.rangeTemplate),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngTemplateOutlet",a.rangeTemplate)("ngTemplateOutletContext",g["\u0275\u0275pureFunction3"](8,P,e,n,a.ranges)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",a.ranges.length>n+1)}}class S{constructor(e,t,n){this.min=e,this.max=t,this.$width=n}}let k=(()=>{let e=class extends h.s{constructor(e,t,n){super(),this.changeDetectorRef=e,this.elementRef=t,this._control=n,this.step=1,this.selected=0,this.select=new g.EventEmitter,this.errorFeedback=new g.EventEmitter,this.minimumRangePercentage=.01,this._readOnly=!0,this._disabled=!1,this._onChangeCallback=e=>{},this._onTouchCallback=e=>{},this._control&&(this._control.valueAccessor=this)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchCallback=e}get ranges(){return this._ranges||[]}set ranges(e){e&&(this.writeValue(e),this._onChangeCallback(e))}set disabled(e){this._disabled=Object(d.b)(e),this.changeDetectorRef.markForCheck()}get disabled(){return this._disabled}set readOnly(e){this._readOnly=Object(d.b)(e)}get readOnly(){return this._readOnly||this.disabled}writeValue(e){if(e&&e.length){const t=this.elementRef.nativeElement.firstElementChild.getBoundingClientRect().width,n=e[e.length-1].max-e[0].min;this._ranges=e.map((a,i)=>(a.$width=+(t*((e[i].max-e[i].min)/(n/100))/100).toFixed(2),a)),this.changeDetectorRef.markForCheck()}}setDisabledState(e){this.disabled=e}onResize(){this.ranges=this.ranges.concat()}add(){if(!this.readOnly){if("number"!=typeof this.step)throw new Error("Invalid step type, you have to implement the add function yourself for the fn & array.");{const e=this.ranges,t=this.selected,n=e[t],a=n.max-n.min;let i,r;const o=a>=2*this.step;if(a/(e[e.length-1].max-e[0].min)>2*this.minimumRangePercentage&&o){i=n.min+a/2,r=new S(n.min,i),n.min=i;const o=e.slice(0,t),s=e.length-1>t?e.slice(t+1):[];let l=Object(m.c)(o,[r,n],s);const c=l.indexOf(r);l[c].max=this.toStep(l,c,l[c].max),l=l.map((e,t)=>(0!==t&&(e.min=l[t-1].max),e)),this.ranges=l}else this.errorFeedback.emit(new Error("Range is too small to be splitted"))}}}remove(){if(!this.readOnly&&this.ranges.length>2){const e=this.ranges.filter((e,t)=>this.selected!==t);this.ranges=e.map((t,n)=>(n!==e.length-1&&(t.max=e[n+1].min),t))}}refresh(){this.changeDetectorRef.markForCheck()}onSelect(e,t){if(!this.disabled&&this.selected!==t){const n=e;n.range=this.ranges[t],n.index=t,n.ranges=this.ranges,this.select.emit(n),this.selected=t}}onMouseDown(e,t){if(!this.readOnly){const n=e.pageX,a=this.ranges,i=this.ranges[t],r=i.max;let o=e.target.parentElement;for(;!o.classList.contains("block");)o=o.parentElement;const s=Object(p.a)(document,"mouseup"),l=Object(p.a)(document.body,"mouseleave"),c=Object(u.a)(s,l).pipe(Object(f.a)(),Object(x.a)(()=>{this.elementRef.nativeElement.firstElementChild.ownerDocument.body.classList.remove("noselect"),this._onChangeCallback(this._ranges)}));Object(p.a)(document,"mousemove").pipe(Object(w.a)(c),Object(w.a)(this.destroyed$)).subscribe(e=>{const o=-(n-e.pageX),s=this.ranges[t+1],l=a[a.length-1].max-a[0].min,c=this.elementRef.nativeElement.firstElementChild,m=c.getBoundingClientRect().width;c.ownerDocument.body.classList.add("noselect");let g=r+o*l/m;const d=this.minimumRangePercentage*l,h=i.min+d;g=Math.min(g,s.max-d),g=Math.max(g,h);const p=this.toStep(a,t,g);s.min=i.max=p,a[t]=i,a[t+1]=s,this.writeValue(a)})}}toStep(e,t,n){const a=e[t],i=e[e.length-1>t?t+1:t].max,r=0!==t?e[t-1].max:0,o=this.minimumRangePercentage*(e[e.length-1].max-e[0].min),s=a.min+o,l=i-o;if("number"==typeof this.step){const e=this.step,t=100/(100*e),o=Math.round(n*t)/t,c=e.toString().replace(/[0-9]+\./,"").length,m=+o.toFixed(c),g=Math.min(m,i-e),d=Math.max(m,r+e),h=s<d?d:s,p=l>g?g:l;return n>a.max?p:h}if("function"==typeof this.step){const e={};return e.range=this.ranges[t],e.index=t,e.ranges=this.ranges,e.newMax=n,this.step(e)}if(this.step instanceof Array){let e,t=n;return this.step.filter(e=>e<=l&&e>=s).forEach(a=>{const i=Math.abs(a-n);(void 0===e||e>i)&&(t=a,e=i)}),t}throw new Error("Invalid step type.")}};return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](g.ElementRef),g["\u0275\u0275directiveInject"](i.NgControl,10))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-range"]],contentQueries:function(e,t,n){var a;1&e&&(g["\u0275\u0275contentQuery"](n,C,!0),g["\u0275\u0275contentQuery"](n,b,!0)),2&e&&(g["\u0275\u0275queryRefresh"](a=g["\u0275\u0275loadQuery"]())&&(t.rangeTemplate=a.first),g["\u0275\u0275queryRefresh"](a=g["\u0275\u0275loadQuery"]())&&(t.separatorTemplate=a.first))},hostBindings:function(e,t){1&e&&g["\u0275\u0275listener"]("resize",(function(){return t.onResize()}),!1,g["\u0275\u0275resolveWindow"])},inputs:{step:"step",selected:"selected",disabled:"disabled",readOnly:"readOnly"},outputs:{select:"select",errorFeedback:"errorFeedback"},features:[g["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:1,consts:[["id","container"],["ngFor","",3,"ngForOf"],[1,"block"],[1,"range",3,"mousedown"],["class","default-range",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"mousedown",4,"ngIf"],[1,"default-range"],[1,"separator",3,"mousedown"],["class","default-separator",4,"ngIf"],[1,"default-separator"],[1,"default-separator-item"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"section",0),g["\u0275\u0275template"](1,E,5,12,"ng-template",1),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.ranges))},directives:[a.m,a.n,a.s],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]{width:100%;display:flex;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);height:32px}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{display:inline-flex;flex-grow:100;justify-content:center;width:7px;cursor:pointer}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:inline-flex;flex-basis:auto;justify-content:center;z-index:5;cursor:ew-resize}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]:hover{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .default-range[_ngcontent-%COMP%]{align-self:center;font-size:10pt;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   .default-separator[_ngcontent-%COMP%]{width:7px;height:25.6px;margin-top:3.2px;display:flex;justify-content:center}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   .default-separator[_ngcontent-%COMP%]   .default-separator-item[_ngcontent-%COMP%]{height:100%;width:1px}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range.selected[_ngcontent-%COMP%]{-webkit-animation-name:selected;animation-name:selected;-webkit-animation-duration:175ms;animation-duration:175ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]:not(.selected){-webkit-animation-name:not-selected;animation-name:not-selected;-webkit-animation-duration:175ms;animation-duration:175ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}"],changeDetection:0}),e})(),j=(()=>{let e=class{};return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})();var R=n("KUKF"),F=n("KYkd"),I=n("iInd"),W=n("Cfvw"),V=n("lJxs"),D=n("Kqap"),T=n("xbPD");class z{constructor(e,t){this.minWeight=e,this.maxWeight=t}}const $=[new S(4,16),new S(16,20),new S(20,24),new S(24,36)],Q=[new S(0,12.5),new S(12.5,25),new S(25,30)],A=[new S(0,12),new S(12,20),new S(20,24)],B=[new z(3,4),new z(4,6),new z(6,9),new z(9,12),new z(12,16),new z(16,20),new z(20,25),new z(25,32),new z(32,40),new z(40,200)],L=[1,2,4,8,16,20,22,24];var N=n("iss+");const q=["dejaRange"],K=["dejaWeight"];function G(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"mat-card",5),g["\u0275\u0275element"](1,"deja-markdown",6),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/dev/projects/deja-js/component/range/readme.md"))}function J(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span",22),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"number"),g["\u0275\u0275pipe"](3,"number"),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate2"]("",g["\u0275\u0275pipeBind2"](2,2,e.minWeight,"1.0-2")," - ",g["\u0275\u0275pipeBind2"](3,5,e.maxWeight,"1.0-2")," kg")}}function U(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",23),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",24),g["\u0275\u0275element"](2,"polygon",25),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"svg",26),g["\u0275\u0275element"](4,"rect",27),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"svg",24),g["\u0275\u0275element"](6,"polygon",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"deja-snackbar",30),g["\u0275\u0275listener"]("onAnimationDone",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().$implicit.gate=!1})),g["\u0275\u0275elementStart"](1,"deja-message-box",31),g["\u0275\u0275text"](2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275property"]("duration",5e3),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.message)}}function Y(e,t){if(1&e&&g["\u0275\u0275template"](0,X,3,2,"deja-snackbar",29),2&e){const e=t.$implicit;g["\u0275\u0275property"]("ngIf",null==e?null:e.gate)}}function H(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"mat-card",7),g["\u0275\u0275elementStart"](2,"mat-toolbar",8),g["\u0275\u0275text"](3,"Default template : Read Only"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"mat-card-content"),g["\u0275\u0275elementStart"](5,"deja-range",9),g["\u0275\u0275listener"]("ngModelChange",(function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().readOnlyRanges=t})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"mat-card",7),g["\u0275\u0275elementStart"](7,"mat-toolbar",8),g["\u0275\u0275text"](8,"Default template : Movable separator, with an array of accepted intervals"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"mat-card-content"),g["\u0275\u0275elementStart"](10,"deja-range",10),g["\u0275\u0275listener"]("ngModelChange",(function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().rangesWithInterval=t})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"mat-card",7),g["\u0275\u0275elementStart"](12,"mat-toolbar",8),g["\u0275\u0275text"](13,"Default template : Movable separator, with a numeric step"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"mat-card-content"),g["\u0275\u0275elementStart"](15,"deja-range",11,12),g["\u0275\u0275listener"]("ngModelChange",(function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().ranges=t}))("errorFeedback",(function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().errorFeed.emit(t)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"mat-card-content"),g["\u0275\u0275elementStart"](18,"button",13),g["\u0275\u0275text"](19,"Simple"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"button",14),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](16);return t.add(t.selected)})),g["\u0275\u0275text"](21,"Split selected range"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"button",14),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](16);return t.remove(t.selected)})),g["\u0275\u0275text"](23,"Remove selected range"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"mat-card",7),g["\u0275\u0275elementStart"](25,"mat-toolbar",8),g["\u0275\u0275text"](26,"Custom template : Movable separator, with a function based step, logarithmic interpolation bewtween the model (weight) and the inner model"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"mat-card-content"),g["\u0275\u0275elementStart"](28,"deja-range",15,16),g["\u0275\u0275listener"]("ngModelChange",(function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().weights=t}))("ngModelChange",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().computeRangeFromWeight()}))("errorFeedback",(function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().errorFeed.emit(t)})),g["\u0275\u0275template"](30,J,4,8,"ng-template",null,17,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275template"](32,U,7,0,"ng-template",null,18,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"mat-card-content"),g["\u0275\u0275elementStart"](35,"button",14),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](29);return g["\u0275\u0275nextContext"]().add(t.selected)})),g["\u0275\u0275text"](36,"Split selected range"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"button",14),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](29);return g["\u0275\u0275nextContext"]().remove(t.selected)})),g["\u0275\u0275text"](38,"Remove selected range"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"button",19),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().decrease()})),g["\u0275\u0275text"](40,"Decrease minimum"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"button",20),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().increase()})),g["\u0275\u0275text"](42,"Increase maximum"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](43,Y,1,1,"ng-template",21),g["\u0275\u0275pipe"](44,"async"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.readOnlyRanges),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.rangesWithInterval)("readOnly",!1)("selected",1)("step",e.steps),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.ranges)("readOnly",!1)("step",2.5),g["\u0275\u0275advance"](13),g["\u0275\u0275property"]("ngModel",e.weights)("readOnly",!1)("selected",0)("step",e.stepFn),g["\u0275\u0275advance"](11),g["\u0275\u0275property"]("disabled",0===(null==e.weights[0]?null:e.weights[0].minWeight)),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pipeBind1"](44,14,e.errors))}}const Z=I.f.forChild([{path:"",component:(()=>{class e{constructor(){this.tabIndex=1,this.numericStep=1,this.errorFeed=new g.EventEmitter,this.readOnlyRanges=$,this.rangesWithInterval=A,this.ranges=Q,this.weights=B,this.steps=L,this.computeRangeFromWeight(),this.errors=Object(W.a)(this.errorFeed).pipe(Object(V.a)(e=>({gate:!0,message:e.message})),Object(D.a)((e,t)=>[...e,t],[]),Object(T.a)([]))}stepFn(e){const t=e.ranges[e.index],n=e.ranges.length-1===e.index,a=Math.pow(Math.E,e.newMax-t.min)/4;let i=t.minWeight+a;if(i=Math.round(i),i=Math.max(i,t.minWeight+1),!n){const n=e.ranges[e.index+1];i=Math.min(i,n.maxWeight-1),n.minWeight=i,t.maxWeight=i}return t.min+Math.log(4*(i-t.minWeight))}remove(e){if(this.weights.length>=2){const t=this.weights.find((t,n)=>e===n),n=this.weights.filter((t,n)=>e!==n);e>0&&(n[e-1].maxWeight=t.maxWeight),this.weights=n,this.weightRef.selected=0,this.computeRangeFromWeight()}}add(e){const t=this.weights.find((t,n)=>e===n),n=t.maxWeight-t.minWeight;if(n>=2){const a=new z(t.minWeight,t.minWeight+n/2);t.minWeight=t.minWeight+n/2;const i=0!==e?this.weights.slice(0,e):[],r=e<this.weights.length?this.weights.slice(e+1):[];this.weights=[...i,a,t,...r],this.weightRef.selected=0,this.computeRangeFromWeight()}}increase(){this.weights[this.weights.length-1].maxWeight++,this.computeRangeFromWeight()}decrease(){this.weights[0].minWeight>0&&(this.weights[0].minWeight--,this.computeRangeFromWeight())}computeRangeFromWeight(){let e=0;this.weights=this.weights.map(t=>{const n=Math.log(4*(t.maxWeight-t.minWeight));return t.min=e,t.max=e+n,e+=n,t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-range-demo"]],viewQuery:function(e,t){var n;1&e&&(g["\u0275\u0275viewQuery"](q,!0),g["\u0275\u0275viewQuery"](K,!0)),2&e&&(g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.rangeRef=n.first),g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.weightRef=n.first))},outputs:{errorFeed:"errorFeed"},decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["class","demo-card demo-basic",4,"ngIf"],[4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],[1,"demo-card"],["color","primary"],[3,"ngModel","ngModelChange"],[3,"ngModel","readOnly","selected","step","ngModelChange"],[3,"ngModel","readOnly","step","ngModelChange","errorFeedback"],["dejaRange",""],["mat-raised-button",""],["mat-raised-button","",3,"click"],["id","custom-range",3,"ngModel","readOnly","selected","step","ngModelChange","errorFeedback"],["dejaWeight",""],["rangeTemplate",""],["separatorTemplate",""],["id","decrease","mat-raised-button","",3,"disabled","click"],["id","increase","mat-raised-button","",3,"click"],["ngFor","",3,"ngForOf"],[1,"custom-range"],[1,"custom-separator"],[1,"triangle"],["points","0,0 10,0 5,5"],[1,"line"],["x","4.5","y","0"],["points","0,5 5,0 10,5 "],["alignment","bottom right",3,"duration","onAnimationDone",4,"ngIf"],["alignment","bottom right",3,"duration","onAnimationDone"],["type","warn","horizontal",""]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"mat-tab-group",0),g["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabIndex=e.index})),g["\u0275\u0275element"](1,"mat-tab",1),g["\u0275\u0275element"](2,"mat-tab",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](3,G,2,1,"mat-card",3),g["\u0275\u0275template"](4,H,45,16,"div",4)),2&e&&(g["\u0275\u0275property"]("selectedIndex",t.tabIndex),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",0===t.tabIndex),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1===t.tabIndex))},directives:[s.b,s.a,a.n,o.a,N.a,l.a,o.c,k,i.NgControlStatus,i.NgModel,r.b,a.m,R.a,c.a],pipes:[a.b,a.f],styles:["[_nghost-%COMP%]   #custom-range-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   #flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;\n  justify-content:flex-end}[_nghost-%COMP%]   #flex-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:block;flex-grow:1;flex-shrink:0;box-sizing:border-box;margin:1rem}[_nghost-%COMP%]   #flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:1;flex-basis:36px;box-sizing:border-box;margin:1rem}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]{flex-basis:max-content;align-self:center;height:24px}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-range[_ngcontent-%COMP%]{display:flex;align-self:center;font-size:10pt;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]{display:flex;width:10px;flex-wrap:wrap}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.triangle[_ngcontent-%COMP%]{margin-top:-5px;width:10px;height:5px}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.triangle[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{fill:#333}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.line[_ngcontent-%COMP%]{height:34px;margin-top:-5px}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.line[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#333;height:34px;width:1px}"]}),e})()},{path:"**",redirectTo:"",pathMatch:"full"}]);n.d(t,"DejaRangeDemoModule",(function(){return ee}));let ee=(()=>{class e{}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,i.FormsModule,o.d,s.c,l.b,r.c,j,F.a,R.b,c.b,Z]]}),e})()}}]);