(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{xnvj:function(e,t,n){"use strict";n.r(t);var l=n("SVse"),r=n("s7LF"),a=n("PDjf"),o=n("Tj54"),i=n("M9ds"),s=n("l0rg"),m=(n("mrSG"),n("8Y7J")),c=n("YRDH"),d=n("u14H"),u=n("XAGK"),p=n("Z5sx"),g=n("8LU1"),h=n("xgIS"),f=n("XNiG"),x=n("VRyK"),w=n("LRne"),b=n("Cfvw"),v=n("jtHE"),C=n("itXk"),y=n("PqYM"),S=n("pLZG"),E=n("eIep"),j=n("SxV6"),I=n("vkgz"),P=n("1G5W"),L=n("D0XW");const T=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var O=n("mlxB"),_=n("l7GE"),M=n("ZUHj");class F{constructor(e,t,n,l){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=l}call(e,t){return t.subscribe(new R(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class R extends _.a{constructor(e,t,n,l,r){super(e),this.absoluteTimeout=t,this.waitFor=n,this.withObservable=l,this.scheduler=r,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(Object(M.a)(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(R.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var D=n("z6cu"),V=n("JIr8"),z=n("lJxs"),$=n("Kj3r");function k(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"label",5),m["\u0275\u0275text"](1,"Drag one column here to group by this column"),m["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",6),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("deja-draggable",l.getDragContext(e)),m["\u0275\u0275attribute"]("groupname",e.name)("index",n),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.label)}}const H=["columnHeaderTemplate"];function W(e,t){if(1&e&&m["\u0275\u0275element"](0,"div"),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("flex-basis",e.columnLayout.vpBeforeWidth,"px")}}function B(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",10),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275attribute"]("sorting",e.sorting||null),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.label)}}function G(e,t){}const N=function(e){return{$implicit:e}};function Q(e,t){if(1&e&&m["\u0275\u0275template"](0,G,0,0,"ng-template",11),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngTemplateOutlet",t.columnHeaderTemplate)("ngTemplateOutletContext",m["\u0275\u0275pureFunction1"](2,N,e))}}function K(e,t){if(1&e&&m["\u0275\u0275element"](0,"deja-sort-indicator",12),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("sort-infos",e.sortInfos)}}function q(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",13),m["\u0275\u0275element"](1,"mat-icon",14),m["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275template"](1,B,2,2,"div",5),m["\u0275\u0275template"](2,Q,1,4,void 0,6),m["\u0275\u0275template"](3,K,1,1,"deja-sort-indicator",7),m["\u0275\u0275element"](4,"div",8),m["\u0275\u0275template"](5,q,2,0,"div",9),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("flex-basis",e.w,"px"),m["\u0275\u0275classProp"]("dragged",e.dragged),m["\u0275\u0275property"]("deja-draggable",l.getDragContext(e)),m["\u0275\u0275attribute"]("index",n)("colname",e.name)("sizeable",!1!==e.sizeable&&null),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!l.columnHeaderTemplate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",l.columnHeaderTemplate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",l.sortInfos&&l.sortInfos.name===e.name),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",e.sorting)}}function Z(e,t){if(1&e&&m["\u0275\u0275element"](0,"div"),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("flex-basis",e.columnLayout.vpAfterWidth,"px")}}const J=["parentTitleTemplate"],X=["cellTemplate"];function Y(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",5),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.row.toString())}}function ee(e,t){}function te(e,t){if(1&e&&m["\u0275\u0275template"](0,ee,0,0,"ng-template",6),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("ngTemplateOutlet",e.parentTitleTemplate)("ngTemplateOutletContext",m["\u0275\u0275pureFunction1"](2,N,e.row))}}function ne(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",2),m["\u0275\u0275template"](1,Y,2,1,"div",3),m["\u0275\u0275template"](2,te,1,4,void 0,4),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("width",e.columnLayoutOfColumn0,"px"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.parentTitleTemplate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.parentTitleTemplate)}}function le(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",5),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.getCellText(t.row,e.column.name))}}function re(e,t){}const ae=function(e,t,n){return{$implicit:e,flatIndex:t,column:n}};function oe(e,t){if(1&e&&m["\u0275\u0275template"](0,re,0,0,"ng-template",6),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngTemplateOutlet",t.cellTemplate)("ngTemplateOutletContext",m["\u0275\u0275pureFunction3"](2,ae,t.row,t.flatIndex,e.column))}}function ie(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",7),m["\u0275\u0275template"](1,le,2,1,"div",3),m["\u0275\u0275template"](2,oe,1,6,void 0,4),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("left",e.left,"px")("width",e.column.w,"px"),m["\u0275\u0275classProp"]("dragged",e.column.dragged),m["\u0275\u0275attribute"]("colindex",n)("colname",e.column.name),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!l.cellTemplate||!e.column.useCellTemplate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",l.cellTemplate&&e.column.useCellTemplate)}}function se(e,t){if(1&e&&m["\u0275\u0275element"](0,"div"),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("flex-basis",e.columnLayout.vpBeforeWidth,"px")}}function me(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",5),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.getCellText(t.row,e.name))}}function ce(e,t){}function de(e,t){if(1&e&&m["\u0275\u0275template"](0,ce,0,0,"ng-template",6),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngTemplateOutlet",t.cellTemplate)("ngTemplateOutletContext",m["\u0275\u0275pureFunction3"](2,ae,t.row,t.flatIndex,e))}}function ue(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",2),m["\u0275\u0275template"](1,me,2,1,"span",3),m["\u0275\u0275template"](2,de,1,6,void 0,4),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("flex-basis",e.w,"px"),m["\u0275\u0275classProp"]("dragged",e.dragged),m["\u0275\u0275attribute"]("colindex",n)("colname",e.name)("current",e.isCurrent||null),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!l.cellTemplate||!e.useCellTemplate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",l.cellTemplate&&e.useCellTemplate)}}function pe(e,t){if(1&e&&m["\u0275\u0275element"](0,"div"),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("flex-basis",e.columnLayout.vpAfterWidth,"px")}}const ge=["rowTemplate"],he=["parentRowTemplate"],fe=["headerTemplate"],xe=["searchPrefixTemplate"],we=["searchSuffixTemplate"];function be(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"deja-grid-grouparea",6),m["\u0275\u0275listener"]("groupsChanged",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onGroupsChanged(t)}))("groupRemoved",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onGroupRemoved(t)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("groups",e.columnGroups)}}function ve(e,t){if(1&e&&m["\u0275\u0275element"](0,"deja-grid-parent-row",8),2&e){const e=m["\u0275\u0275nextContext"](),t=e.$implicit,n=e.flatindex,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("width",l.rowsWidth,"px"),m["\u0275\u0275property"]("row",t)("flatIndex",n)("columns",l.columns)("parentTitleTemplateExternal",l.parentTitleTemplate)("cellTemplateExternal",l.cellTemplate)}}function Ce(e,t){if(1&e&&m["\u0275\u0275template"](0,ve,1,7,"deja-grid-parent-row",7),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngIf",!e.parentRowTemplate)}}function ye(e,t){if(1&e&&m["\u0275\u0275element"](0,"deja-grid-row",10),2&e){const e=m["\u0275\u0275nextContext"](),t=e.$implicit,n=e.flatindex,l=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("width",l.rowsWidth,"px"),m["\u0275\u0275property"]("row",t)("flatIndex",n)("columnLayout",l.columnLayout)("cellTemplateExternal",l.cellTemplate)}}function Se(e,t){if(1&e&&m["\u0275\u0275template"](0,ye,1,6,"deja-grid-row",9),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngIf",!e.rowTemplate)}}function Ee(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"deja-grid-header",12,13),m["\u0275\u0275listener"]("columnDragEnd",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onColumnDragEnd()}))("columnLayoutChanged",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onColumnLayoutChanged(t)}))("columnSizeChanged",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onColumnSizeChanged(t)}))("columnHeaderClicked",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onColumnHeaderClicked(t)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"](2),t=m["\u0275\u0275reference"](2);m["\u0275\u0275property"]("sortInfos",t.sortInfos)("columnLayout",e.columnLayout)("columnsDraggable",e.columnsDraggable||e.groupArea)("columnsSortable",e.columnsSortable)("columnsSizable",e.columnsSizable)("columnHeaderTemplateExternal",e.columnHeaderTemplate)}}function je(e,t){if(1&e&&m["\u0275\u0275template"](0,Ee,2,6,"deja-grid-header",11),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngIf",!e.columnsHeaderTemplate&&e.columnLayout&&e.columnLayout.columns&&e.columnLayout.columns.length)}}let Ie=(()=>{let e=class{constructor(e,t){this.changeDetectorRef=e,this.clipboardService=t,this.groupsChanged=new m.EventEmitter,this.groupRemoved=new m.EventEmitter,this._groups=[],this.columnGroupKey="deja-grid-column",this.groupGroupKey="deja-grid-group"}get groups(){return this._groups}set groups(e){this._groups=e||[]}getDragContext(e){return this.clipboardService?{dragendcallback:e=>{e.dragInfo.hasOwnProperty(this.columnGroupKey)},dragstartcallback:t=>{t.dragInfo[this.groupGroupKey]=e}}:null}getDropContext(){if(!this.clipboardService)return null;const e=e=>{const t={column:e,columns:this.groups,originalEvent:event};this.groupsChanged.emit(t),event.preventDefault()},t=t=>{if(t.dragInfo.hasOwnProperty(this.columnGroupKey)){const e=t.dragInfo[this.columnGroupKey];this.groups.find(t=>t===e)||t.preventDefault()}else{if(!t.dragInfo.hasOwnProperty(this.groupGroupKey))return;{const n=this.getGroupElementFromHTMLElement(t.target),l=n&&n.getAttribute("index")||null,r=null!==l?+l:null;if(null===r)return;const a=t.dragInfo[this.groupGroupKey],o=this.groups.findIndex(e=>e===a);if(o===r)return void t.preventDefault();this.groups.splice(o,1),this.groups.splice(r,0,a),e(a),this.changeDetectorRef.markForCheck(),t.preventDefault()}}};return{dragentercallback:t,dragovercallback:t,dropcallback:t=>{if(t.dragInfo.hasOwnProperty(this.columnGroupKey)){const n=t.dragInfo[this.columnGroupKey],l=this.getGroupElementFromHTMLElement(t.target),r=l&&l.getAttribute("index")||null,a=null!==r?+r:null;if(null!==a){const e=l.getBoundingClientRect();t.x<=e.left+e.width/2?this.groups.splice(a,0,n):a<this.groups.length-1?this.groups.splice(a+1,0,n):this.groups.push(n)}else this.groups.push(n);e(n)}else t.dragInfo.hasOwnProperty(this.groupGroupKey)&&e(t.dragInfo[this.groupGroupKey]);this.changeDetectorRef.markForCheck()}}}removeGroup(e){return this.groupRemoved.emit(e),e.stopPropagation(),!1}getGroupElementFromHTMLElement(e){let t=e;for(;t&&!t.hasAttribute("groupname");)e=t,t=t.parentElement;if(t)return t}};return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ChangeDetectorRef),m["\u0275\u0275directiveInject"](p.e,8))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-grid-grouparea"]],inputs:{groups:"groups"},outputs:{groupsChanged:"groupsChanged",groupRemoved:"groupRemoved"},decls:6,vars:3,consts:[["id","deja-grid-grouparea",3,"deja-droppable"],["groupAreaElement",""],["id","placeholder",4,"ngIf"],[3,"items","close"],["itemTemplate",""],["id","placeholder"],[1,"label",3,"deja-draggable"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0,1),m["\u0275\u0275template"](2,k,2,0,"label",2),m["\u0275\u0275elementStart"](3,"deja-chips",3),m["\u0275\u0275listener"]("close",(function(e){return t.removeGroup(e)})),m["\u0275\u0275template"](4,A,2,4,"ng-template",null,4,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("deja-droppable",t.getDropContext()),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",0===t.groups.length),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("items",t.groups))},directives:[d.c,l.n,c.a,d.b],styles:["[_nghost-%COMP%]   #deja-grid-grouparea[_ngcontent-%COMP%]{padding:.5rem;margin-bottom:1rem;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   #deja-grid-grouparea[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:.35rem}"],changeDetection:0}),e})(),Pe=(()=>{let e=class extends p.s{constructor(e,t,n){super(),this.changeDetectorRef=t,this.clipboardService=n,this.columnSizeChanged=new m.EventEmitter,this.columnLayoutChanged=new m.EventEmitter,this.columnHeaderClicked=new m.EventEmitter,this.columnDragEnd=new m.EventEmitter,this._columnsDraggable=!1,this._columnsSortable=!1,this._columnsSizable=!1,this._columnLayout={},this.backupColumnOrder=[],this.columnGroupKey="deja-grid-column";const l=e.nativeElement;Object(h.a)(l,"mousedown").pipe(Object(S.a)(e=>1===e.buttons),Object(E.a)(e=>{const t=e.target,n=this.getColumnFromHTMLElement(e.target),r=Object(h.a)(l.ownerDocument,"mouseup");if(!t.hasAttribute("separator")){const e=n;return r.pipe(Object(j.a)(),function(e,t=L.a){return function(e,t,n=L.a){return l=>{let r=Object(O.a)(e),a=r?+e-n.now():Math.abs(e);return l.lift(new F(a,r,t,n))}}(1e3,Object(D.a)(new T),t)}(),Object(I.a)(t=>{const n=this.getColumnElementFromHTMLElement(t.target);if((n&&n.getAttribute("colname"))===e.name){const l=+n.getAttribute("index");this.columnHeaderClicked.emit({column:e,originalEvent:t,index:l}),this.changeDetectorRef.markForCheck()}}),Object(V.a)(e=>Object(w.a)(null)))}if(this.columnsSizable&&!1!==n.sizeable){this._sizedColumn=n;const t=e.screenX,a=new f.a,o=r.pipe(Object(j.a)(),Object(I.a)(()=>{this.columnSizeChanged.emit({column:null}),this.changeDetectorRef.markForCheck(),this._sizedColumn=void 0})),i=Object(h.a)(l.ownerDocument,"mousemove").pipe(Object(P.a)(r),Object(P.a)(a),Object(P.a)(this.destroyed$),Object(I.a)(e=>{1===e.buttons?(this.columnSizeChanged.emit({column:this._sizedColumn,offsetWidth:e.screenX-t,originalEvent:e}),this.changeDetectorRef.markForCheck()):a.next()}));return e.stopPropagation(),Object(x.a)(o,i)}return Object(w.a)(null)}),Object(P.a)(this.destroyed$)).subscribe()}set columnsDraggable(e){this._columnsDraggable=Object(g.b)(e)}get columnsDraggable(){return this._columnsDraggable}set columnsSortable(e){this._columnsSortable=Object(g.b)(e)}get columnsSortable(){return this._columnsSortable}get sizedColumn(){return this._sizedColumn}set columnsSizable(e){this._columnsSizable=Object(g.b)(e)}get columnsSizable(){return this._columnsSizable}set columnLayout(e){this._columnLayout=e||{columns:[],scrollLeft:0,vpAfterWidth:0,vpBeforeWidth:0,refresh$:new f.a},this.changeDetectorRef.markForCheck()}get columnLayout(){return this._columnLayout}get columnHeaderTemplate(){return this.columnHeaderTemplateExternal||this.columnHeaderTemplateInternal}refresh(){this.changeDetectorRef.markForCheck()}getDragContext(e){return this.clipboardService&&(this.columnsDraggable||this.columnsSortable)&&!1!==e.draggable?{dragendcallback:t=>{t.dragInfo.hasOwnProperty(this.columnGroupKey)&&(e.dragged=!1,this.backupColumnOrder=[],this.columnDragEnd.emit(),this.changeDetectorRef.markForCheck())},dragstartcallback:t=>{this._sizedColumn?t.preventDefault():(t.dragInfo[this.columnGroupKey]=e,e.dragged=!0,this.backupColumnOrder=this._columnLayout.columns.map(e=>e))}}:null}getDropContext(){if(!this.clipboardService)return null;const e=e=>{var t;if(!this.columnsSortable||!e.dragInfo.hasOwnProperty(this.columnGroupKey))return;const n=this.getColumnElementFromHTMLElement(e.target),l=null===(t=n)||void 0===t?void 0:t.getBoundingClientRect(),r=n&&+n.getAttribute("index");if(void 0===r)return;const a=e.dragInfo[this.columnGroupKey],o=this._columnLayout.columns.findIndex(e=>e===a);if(o!==r){if(r===o+1){if(e.x<=l.left+l.width/2)return void e.preventDefault()}else if(r===o-1&&e.x>=l.left+l.width/2)return void e.preventDefault();this.columnLayoutChanged.emit({column:a,index:o,originalEvent:e,target:this._columnLayout.columns[r],targetIndex:r}),e.preventDefault()}else e.preventDefault()};return{dragleavecallback:()=>{this.backupColumnOrder.length&&(this._columnLayout.columns=this.backupColumnOrder.map(e=>e))},dragentercallback:e,dragovercallback:e,dropcallback:e}}getColumnElementFromHTMLElement(e){let t=e;for(;t&&!t.hasAttribute("colname");)e=t,t=t.parentElement;if(t)return t}getColumnFromHTMLElement(e){var t;const n=null===(t=this.getColumnElementFromHTMLElement(e))||void 0===t?void 0:t.getAttribute("colname");return n&&this._columnLayout.columns.find(e=>e.name===n)}};return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ElementRef),m["\u0275\u0275directiveInject"](m.ChangeDetectorRef),m["\u0275\u0275directiveInject"](p.e,8))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-grid-header"]],contentQueries:function(e,t,n){var l;1&e&&m["\u0275\u0275contentQuery"](n,H,!0),2&e&&m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.columnHeaderTemplateInternal=l.first)},inputs:{columnsDraggable:"columnsDraggable",columnsSortable:"columnsSortable",columnsSizable:"columnsSizable",columnLayout:"columnLayout",columnHeaderTemplateExternal:"columnHeaderTemplateExternal",sortInfos:"sortInfos"},outputs:{columnSizeChanged:"columnSizeChanged",columnLayoutChanged:"columnLayoutChanged",columnHeaderClicked:"columnHeaderClicked",columnDragEnd:"columnDragEnd"},features:[m["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:9,consts:[["id","deja-grid-header","continous-dragover","",3,"deja-droppable"],["headerElement",""],[3,"flex-basis",4,"ngIf"],["class","column-header-wrapper",3,"deja-draggable","dragged","flex-basis",4,"ngFor","ngForOf"],[1,"column-header-wrapper",3,"deja-draggable"],["class","column-header",4,"ngIf"],[4,"ngIf"],[3,"sort-infos",4,"ngIf"],["separator",""],["class","sort-waiter",4,"ngIf"],[1,"column-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"sort-infos"],[1,"sort-waiter"],["fontSet","deja-icons","fontIcon","cached"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0,1),m["\u0275\u0275template"](2,W,1,2,"div",2),m["\u0275\u0275template"](3,U,6,12,"div",3),m["\u0275\u0275template"](4,Z,1,2,"div",2),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275styleProp"]("left",t.columnLayout.scrollLeft,"px"),m["\u0275\u0275classProp"]("onsizer",!!t.sizedColumn||null),m["\u0275\u0275property"]("deja-droppable",t.getDropContext()),m["\u0275\u0275attribute"]("sizable",t.columnsSizable||null),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.columnLayout.vpBeforeWidth),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.columnLayout.columns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.columnLayout.vpAfterWidth))},directives:[d.c,l.n,l.m,d.b,l.s,p.o,o.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;overflow:visible;position:relative}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0!important;margin:0!important;flex-grow:0;flex-shrink:0;height:100%}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]   .sort-waiter[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;width:100%;height:100%}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]   .sort-waiter[_ngcontent-%COMP%]   [fontIcon][_ngcontent-%COMP%]{-webkit-animation:1s linear .5s infinite spin;animation:1s linear .5s infinite spin}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]   [separator][_ngcontent-%COMP%]{flex:0 0 4px;padding:.5rem 0;margin-right:.3rem;cursor:ew-resize}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:.5rem .1rem;display:block}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]   .column-header[sorting][_ngcontent-%COMP%]{opacity:.2}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div.column-header-wrapper[_ngcontent-%COMP%]   deja-sort-indicator[_ngcontent-%COMP%]{opacity:.6;flex:0 0 auto}[_nghost-%COMP%]   #deja-grid-header[_ngcontent-%COMP%] > div[sizable][_ngcontent-%COMP%]   .column-header-wrapper[_ngcontent-%COMP%]:not([sizeable=false])   [separator][_ngcontent-%COMP%]{cursor:ew-resize}"],changeDetection:0}),e})(),Le=(()=>{let e=class{constructor(e){this.changeDetectorRef=e,this._columnLayout={}}get columnLayoutOfColumn0(){return this._columnLayout.column0}get columnLayoutOfColumns(){return this._columnLayout.columns}set columns(e){let t=0;this._columnLayout.columns=[],e.forEach(e=>{this.getCellText(this.row,e.name)&&(0===this._columnLayout.column0&&(this._columnLayout.column0=t),this._columnLayout.columns.push({column:e,left:t})),t+=e.w}),this._columnLayout.column0=t,this.changeDetectorRef.markForCheck()}get cellTemplate(){return this.cellTemplateExternal||this.cellTemplateInternal}get parentTitleTemplate(){return this.parentTitleTemplateExternal||this.parentTitleTemplateInternal}getCellText(e,t){return p.z.getItemText(e,t)}};return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ChangeDetectorRef))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-grid-parent-row"]],contentQueries:function(e,t,n){var l;1&e&&(m["\u0275\u0275contentQuery"](n,J,!0),m["\u0275\u0275contentQuery"](n,X,!0)),2&e&&(m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.parentTitleTemplateInternal=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.cellTemplateInternal=l.first))},inputs:{columns:"columns",row:"row",cellTemplateExternal:"cellTemplateExternal",parentTitleTemplateExternal:"parentTitleTemplateExternal",flatIndex:"flatIndex"},decls:2,vars:2,consts:[["id","parent-title","class","cell-wrapper",3,"width",4,"ngIf"],["class","cell-wrapper",3,"dragged","left","width",4,"ngFor","ngForOf"],["id","parent-title",1,"cell-wrapper"],["class","cell",4,"ngIf"],[4,"ngIf"],[1,"cell"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cell-wrapper"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,ne,3,4,"div",0),m["\u0275\u0275template"](1,ie,3,10,"span",1)),2&e&&(m["\u0275\u0275property"]("ngIf",t.columnLayoutOfColumn0),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.columnLayoutOfColumns))},directives:[l.n,l.m,l.s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center;overflow:hidden;flex-grow:0;flex-shrink:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:0!important;margin:0!important;flex-grow:0;flex-shrink:0;height:100%}[_nghost-%COMP%] > div.cell-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;height:100%}[_nghost-%COMP%] > div.cell-wrapper[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.08)}[_nghost-%COMP%] > div.cell-wrapper.dragged[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08)}[_nghost-%COMP%] > div.cell-wrapper[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:.25rem;display:block}"],changeDetection:0}),e})(),Te=(()=>{let e=class{constructor(e){this.changeDetectorRef=e,this._columnLayout={}}set columnLayout(e){this.refresh$sub&&(this.refresh$sub.unsubscribe(),this.refresh$sub=void 0),this._columnLayout=e||{columns:[],scrollLeft:0,vpAfterWidth:0,vpBeforeWidth:0,refresh$:void 0},this._columnLayout.refresh$&&(this.refresh$sub=Object(b.a)(this._columnLayout.refresh$).subscribe(()=>this.changeDetectorRef.markForCheck()))}get columnLayout(){return this._columnLayout}get cellTemplate(){return this.cellTemplateExternal||this.cellTemplateInternal}ngOnDestroy(){this.refresh$sub&&this.refresh$sub.unsubscribe()}getCellText(e,t){return p.z.getItemText(e,t)}};return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ChangeDetectorRef))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-grid-row"]],contentQueries:function(e,t,n){var l;1&e&&m["\u0275\u0275contentQuery"](n,X,!0),2&e&&m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.cellTemplateInternal=l.first)},inputs:{columnLayout:"columnLayout",row:"row",cellTemplateExternal:"cellTemplateExternal",flatIndex:"flatIndex"},decls:3,vars:3,consts:[[3,"flex-basis",4,"ngIf"],["class","cell-wrapper",3,"dragged","flex-basis",4,"ngFor","ngForOf"],[1,"cell-wrapper"],["class","cell",4,"ngIf"],[4,"ngIf"],[1,"cell"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,se,1,2,"div",0),m["\u0275\u0275template"](1,ue,3,9,"div",1),m["\u0275\u0275template"](2,pe,1,2,"div",0)),2&e&&(m["\u0275\u0275property"]("ngIf",t.columnLayout.vpBeforeWidth),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.columnLayout.columns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.columnLayout.vpAfterWidth))},directives:[l.n,l.m,l.s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center;overflow:hidden;flex-grow:0;flex-shrink:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:0!important;margin:0!important;flex-grow:0;flex-shrink:0;height:100%}[_nghost-%COMP%] > div.cell-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;height:100%}[_nghost-%COMP%] > div.cell-wrapper[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.08)}[_nghost-%COMP%] > div.cell-wrapper.dragged[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08)}[_nghost-%COMP%] > div.cell-wrapper[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:.25rem;display:block}"],changeDetection:0}),e})();class Oe{constructor(e){this.columnsWidth={},this.percentColumns=[],this.fixedColumns=[],this.responsiveColumns=[],this.totalFixedWidth=0,this.totalPercentWidth=0,e.forEach(e=>{let t=new p.J(e.width);if(void 0===t.value&&(t=new p.J(10,"%")),t.isInvalid())throw new Error("Invalid column width unit can be for example: 11px or 23%");if(t.unit&&"px"!==t.unit&&"%"!==t.unit)throw new Error("Column width unit can be only px or %");"%"===t.unit?(this.percentColumns.push(e),this.totalPercentWidth+=t.value):(this.fixedColumns.push(e),this.totalFixedWidth+=t.value),"number"!=typeof e.responsive&&!0!==e.responsive||this.responsiveColumns.push(e),this.columnsWidth[e.name]=t}),this.responsiveColumns.sort((e,t)=>!0===e.responsive?1:!0===t.responsive?-1:+e.responsive-+t.responsive)}}let _e=(()=>{let e=class extends p.s{constructor(e,t,n){super(),this.changeDetectorRef=e,this.elementRef=t,this.clipboardService=n,this.minSearchLength=0,this.query="",this.maxHeight=0,this.pageSize=0,this.viewPortRowHeight=p.K.itemDefaultSize,this.viewportMode=p.M.fixed,this.columnsMinWidth=15,this.itemDragEnd=new m.EventEmitter,this.itemDragStart=new m.EventEmitter,this.selectedChange=new m.EventEmitter,this.columnLayoutChanged=new m.EventEmitter,this.columnSizeChanged=new m.EventEmitter,this.viewPortChanged=new m.EventEmitter,this.sortChanged=new m.EventEmitter,this.groupChanged=new m.EventEmitter,this.rowsWidth=null,this._columnLayout={scrollLeft:0,vpBeforeWidth:0,vpAfterWidth:0,columns:[],refresh$:new f.a},this.lastScrollLeft=0,this.printColumnLayout$=new f.a,this.disableUserSelection$=new f.a,this._noHorizontalScroll=!1,this.hasPercentageColumns=!1,this._sortable=!1,this._searchArea=!1,this._groupArea=!1,this._rowsDraggable=!1,this._rowsSortable=!1,this._columnsDraggable=!1,this._columnsSortable=!1,this._columnsSizable=!1,this._multiSelect=!1,this.columnGroups$=new f.a,this.columns$=new v.a(1),this._columnGroups=[];const l=this.elementRef.nativeElement;this.clearColumnLayout(),Object(C.b)(this.columns$,this.columnGroups$).pipe(Object(z.a)(([e,t])=>{if("string"==typeof t){const n=t.split(",").map(e=>e.trim());return this._columnGroups=n.map(t=>e.find(e=>e.name===t))}return this._columnGroups=t}),Object(z.a)(e=>{const t=[],n=this.treeListComponent.sortInfos;return e.forEach(e=>{const l={};n&&n.name===e.name&&(l.sortInfos=n),l.groupByField=e.groupByField||e.name,l.groupTextField=e.groupTextField||e.name,t.push(l)}),t}),Object(E.a)(e=>this.treeListComponent.group$(e).pipe(Object(z.a)(()=>e))),Object(P.a)(this.destroyed$)).subscribe(e=>{this.groupChanged.emit(e),this.changeDetectorRef.markForCheck()}),Object(b.a)(this.columns$).pipe(Object(I.a)(e=>this._columns=e),Object($.a)(1),Object(P.a)(this.destroyed$)).subscribe(()=>this.calcColumnsLayout()),Object(b.a)(this.printColumnLayout$).pipe(Object($.a)(1e3),Object(P.a)(this.destroyed$)).subscribe(()=>{console.log(""),console.log("Auto columns layout:"),console.log(JSON.stringify(this._columns,null,4)),console.log("")}),Object(b.a)(this.disableUserSelection$).pipe(Object(I.a)(()=>l.setAttribute("disableselection","")),Object($.a)(1e3),Object(P.a)(this.destroyed$)).subscribe(()=>l.removeAttribute("disableselection")),Object(h.a)(window,"resize").pipe(Object(S.a)(()=>this.hasPercentageColumns),Object($.a)(5),Object(P.a)(this.destroyed$)).subscribe(()=>this.calcColumnsLayout()),Object(h.a)(l,"keydown").pipe(Object(P.a)(this.destroyed$)).subscribe(e=>{const t=(e,t)=>{if(t)for(-1===e&&(e=this.columns.length);--e>=0;){const t=this.columns[e];if(t.w>0)return t}else for(;++e<this.columns.length;){const t=this.columns[e];if(t.w>0)return t}return this.currentColumn};switch(e.code){case p.A.LeftArrow:case p.A.RightArrow:return this.currentColumn=this.columns&&t(this.columns.findIndex(e=>e.isCurrent),e.code===p.A.LeftArrow),e.preventDefault(),!1;default:return!0}}),Object(h.a)(l,"mousedown").pipe(Object(S.a)(e=>1===e.buttons),Object(E.a)(e=>{const t=this.getColumnFromHTMLElement(e.target);return Object(h.a)(l,"mouseup").pipe(Object(j.a)(),Object(S.a)(()=>!!t),Object(I.a)(e=>{const n=this.getColumnElementFromHTMLElement(e.target);(n&&n.getAttribute("colname"))===t.name&&(this.currentColumn=t)}))}),Object(P.a)(this.destroyed$)).subscribe()}set waiter(e){this._waiter=Object(g.b)(e)}get waiter(){return this._waiter}set sortable(e){this._sortable=Object(g.b)(e)}get sortable(){return this._sortable}get columnGroups(){return this._columnGroups}get noHorizontalScroll(){return this._noHorizontalScroll}set searchArea(e){this._searchArea=Object(g.b)(e)}get searchArea(){return this._searchArea}set groupArea(e){if(this._groupArea=Object(g.b)(e),this._columnsSortable&&!this.clipboardService)throw new Error("To use the DejaGrid.groupArea feature, please import and provide the DejaClipboardService in your application.")}get groupArea(){return this._groupArea}set rowsDraggable(e){this._rowsDraggable=Object(g.b)(e)}get rowsDraggable(){return this._rowsDraggable}set rowsSortable(e){this._rowsSortable=Object(g.b)(e)}get rowsSortable(){return this._rowsSortable}set columnsDraggable(e){this._columnsDraggable=Object(g.b)(e)}get columnsDraggable(){return this._columnsDraggable}set columnsSortable(e){if(this._columnsSortable=Object(g.b)(e),this._columnsSortable&&!this.clipboardService)throw new Error("To use the DejaGrid.columnsSortable feature, please import and provide the DejaClipboardService in your application.")}get columnsSortable(){return this._columnsSortable}set columnsSizable(e){this._columnsSizable=Object(g.b)(e)}get columnsSizable(){return this._columnsSizable}set multiSelect(e){this._multiSelect=Object(g.b)(e)}get multiSelect(){return this._multiSelect}set columns(e){this.columns$.next(e)}get columns(){return this._columns}set rows(e){this._rows=e,this._rows&&!this._columns&&(this._rows instanceof Array?this.calcColumnsLayout(this._rows):this.viewPortChanged.pipe(Object(S.a)(e=>{var t,n;return(null===(n=null===(t=e)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)>0}),Object(j.a)(),Object(z.a)(e=>e.items),Object(P.a)(this.destroyed$)).subscribe(e=>this.calcColumnsLayout(e))),this.changeDetectorRef.markForCheck()}get rows(){return this._rows}set currentColumn(e){this.columns.forEach(e=>e.isCurrent=!1),e&&(e.isCurrent=!0,this.ensureColumnVisible(e)),this._columnLayout&&this._columnLayout.refresh$.next()}get currentColumn(){return this.columns.find(e=>e.isCurrent)}set itemListService(e){this._itemListService=e}get itemListService(){return this._itemListService||this.treeListComponent.itemListService}get depthMax(){return this.treeListComponent.depthMax}get viewPort(){return this.treeListComponent.viewPort}set columnGroups(e){this.columnGroups$.next(e)}get searchPrefixTemplate(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal}get searchSuffixTemplate(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal}get rowTemplate(){return this.rowTemplateExternal||this.rowTemplateInternal}get parentRowTemplate(){return this.parentRowTemplateExternal||this.parentRowTemplateInternal}get cellTemplate(){return this._cellTemplate}get parentTitleTemplate(){return this._parentTitleTemplate}get columnsHeaderTemplate(){return this.headerTemplateExternal||this.headerTemplateInternal}get columnHeaderTemplate(){return this.columnHeaderTemplateExternal||this._columnHeaderTemplate}get columnLayout(){return this._columnLayout}get value(){return this.rows}set value(e){this.rows=e}refresh(){this.treeListComponent&&this.treeListComponent.refresh(),this.columnLayout&&(this.hasPercentageColumns?this.calcColumnsLayout():this.columnLayout.refresh$.next()),this.changeDetectorRef.markForCheck()}refreshViewPort(e){this.treeListComponent.refreshViewPort(e)}clearRowsHeight(){this.treeListComponent&&this.treeListComponent.clearRowsHeight()}clearViewPort(){this.treeListComponent&&this.treeListComponent.clearViewPort()}ensureColumnVisible(e){if(void 0===e||!this.columns||0===this.columns.length||this._noHorizontalScroll)return;const t=this.treeListComponent.listElement,n=t.scrollLeft;let l=0;this.columns.find(t=>{if(e===t)return!0;l+=t.w}),l<n?t.scrollLeft=l:n<l+e.w-t.clientWidth&&(t.scrollLeft=l+e.w-t.clientWidth)}scroll(e){this.lastScrollLeft!==e.scrollLeft&&(this.lastScrollLeft=e.scrollLeft,this.calcColumnsLayout())}sort(e){this.treeListComponent.sort(e)}sort$(e){return this.treeListComponent.sort$(e)}group$(e){return this.treeListComponent.group$(e)}ungroup$(e){return this.treeListComponent.ungroup$(e)}onColumnHeaderClicked(e){if(this.treeListComponent&&!this.sortable||!1===e.column.sortable)return;const t=()=>{e.column.sorting=!1,this.changeDetectorRef.markForCheck(),this.header.refresh()};e.column.sorting=!0,this.changeDetectorRef.markForCheck(),Object(y.a)(1).pipe(Object(j.a)(),Object(E.a)(()=>this.sort$(e.column.name)),Object(P.a)(this.destroyed$)).subscribe(()=>{t(),this.sortChanged.emit(this.treeListComponent.sortInfos)},e=>{throw t(),e.toString()})}onColumnDragEnd(){this.columnLayout.refresh$.next()}onColumnLayoutChanged(e){this.columns.splice(e.index,1),e.target?this.columns.splice(e.targetIndex,0,e.column):this.columns.push(e.column),this.calcColumnsLayout(),this.ensureColumnVisible(e.column),this.columnLayoutChanged.emit(e),this.changeDetectorRef.markForCheck()}onColumnSizeChanged(e){if(!this.columnsLayoutInfos)return;if(this.sizingLayoutInfos||(this.sizingLayoutInfos=this.columnsLayoutInfos),!e.column)return void delete this.sizingLayoutInfos;const t=this.sizingLayoutInfos.columnsWidth[e.column.name],n=e.column.minWidth||this.columnsMinWidth;if("%"===t.unit){const l=this.treeListComponent.listElement.clientWidth;e.column.width=`${Math.max(100*n/l,t.value+e.offsetWidth*this.sizingLayoutInfos.totalPercentWidth/(l-this.sizingLayoutInfos.totalFixedWidth)*2)}%`}else e.column.width=`${Math.max(n,t.value+e.offsetWidth)}px`;this.calcColumnsLayout(),this.disableUserSelection$.next(),this.ensureSizingVisible(e.column),this.columnSizeChanged.emit(e)}onGroupRemoved(e){const t=e.item;this.treeListComponent.ungroup$({groupByField:t.groupByField||t.name,groupTextField:t.groupTextField||t.name}).pipe(Object(j.a)(),Object(P.a)(this.destroyed$)).subscribe()}onGroupsChanged(e){this.columnGroups$.next(e.columns)}calcColumnsLayout(e){if((!this._columns||!this._columns.length)&&e&&e.length){const t=e=>e.find(e=>{if(!e.$items)return!!e;{const n=t(e.$items);if(n)return!!n}}),n=t(e);n&&(this._columns=Object.keys(n).map(e=>({label:e,name:e,width:"130px"})))}if(this.clearColumnLayout(),!this._columns||!this._columns.length)return this.header&&this.header.refresh(),void this._columnLayout.refresh$.next();const t=this.treeListComponent&&this.treeListComponent.listElement;if(!t)return;this._columnLayout.scrollLeft=-this.lastScrollLeft;let n=-this.lastScrollLeft;const l=t.clientWidth;this.columnsLayoutInfos=new Oe(this._columns),this._columns.forEach(e=>delete e.w);const r=()=>{let e=0;this.columnsLayoutInfos.fixedColumns.filter(e=>0!==e.w).forEach(t=>{t.w=Math.max(t.minWidth||this.columnsMinWidth,this.columnsLayoutInfos.columnsWidth[t.name].value),e+=t.w}),this.columnsLayoutInfos.totalFixedWidth=e;const t=this.columnsLayoutInfos.percentColumns.filter(e=>0!==e.w);let n=l-e;t.forEach(e=>n-=e.minWidth||this.columnsMinWidth);let r=n;return t.forEach(e=>{let t=e.minWidth||this.columnsMinWidth;if(n>0){const l=Math.floor(n*this.columnsLayoutInfos.columnsWidth[e.name].value/this.columnsLayoutInfos.totalPercentWidth);r-=l,t+=l}e.w=t}),r};let a=r();a<0&&this.columnsLayoutInfos.responsiveColumns.length&&(this.columnsLayoutInfos.responsiveColumns.find(e=>(a+=e.w,e.w=0,a>=0)),a=r()),this._noHorizontalScroll=a>=0,this.hasPercentageColumns=this.columnsLayoutInfos&&this.columnsLayoutInfos.percentColumns.length>0,this._columnLayout.vpBeforeWidth=0,this._columnLayout.vpAfterWidth=0;let o=0;this._columns.filter(e=>e.w>0).forEach(e=>{o+=e.w,n>l?(this._columnLayout.vpAfterWidth+=e.w,n+=e.w):(n+=e.w,n<0?this._columnLayout.vpBeforeWidth+=e.w:this._columnLayout.columns.push(e))}),this.rowsWidth=o>l?o:l,this.header&&this.header.refresh(),this._columnLayout.refresh$.next()}ensureSizingVisible(e){if(void 0===e||!this.columns||0===this.columns.length||this._noHorizontalScroll)return;const t=this.treeListComponent.listElement,n=t.scrollLeft;let l=0;this.columns.find(t=>{if(e===t)return!0;l+=t.w}),l+e.w<n?t.scrollLeft=l+e.w:n<l+e.w-t.clientWidth&&(t.scrollLeft=l+e.w-t.clientWidth)}clearColumnLayout(){this._columnLayout.scrollLeft=0,this._columnLayout.vpAfterWidth=0,this._columnLayout.vpBeforeWidth=0,this._columnLayout.columns=[]}getColumnElementFromHTMLElement(e){let t=e;for(;t&&!t.hasAttribute("colname");)t=t.parentElement;if(t)return t}getColumnFromHTMLElement(e){const t=this.getColumnElementFromHTMLElement(e),n=t&&t.getAttribute("colname");return n&&this._columnLayout.columns.find(e=>e.name===n)}};return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ChangeDetectorRef),m["\u0275\u0275directiveInject"](m.ElementRef),m["\u0275\u0275directiveInject"](p.e,8))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["deja-grid"]],contentQueries:function(e,t,n){var l;1&e&&(m["\u0275\u0275contentQuery"](n,ge,!0),m["\u0275\u0275contentQuery"](n,he,!0),m["\u0275\u0275contentQuery"](n,X,!0),m["\u0275\u0275contentQuery"](n,J,!0),m["\u0275\u0275contentQuery"](n,H,!0),m["\u0275\u0275contentQuery"](n,fe,!0),m["\u0275\u0275contentQuery"](n,xe,!0),m["\u0275\u0275contentQuery"](n,we,!0)),2&e&&(m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.rowTemplateInternal=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.parentRowTemplateInternal=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t._cellTemplate=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t._parentTitleTemplate=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t._columnHeaderTemplate=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.headerTemplateInternal=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.searchPrefixTemplateInternal=l.first),m["\u0275\u0275queryRefresh"](l=m["\u0275\u0275loadQuery"]())&&(t.searchSuffixTemplateInternal=l.first))},viewQuery:function(e,t){var n;1&e&&(m["\u0275\u0275viewQuery"](Pe,!0),m["\u0275\u0275staticViewQuery"](u.a,!0)),2&e&&(m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.header=n.first),m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.treeListComponent=n.first))},inputs:{minSearchLength:["min-search-length","minSearchLength"],query:"query",maxHeight:"maxHeight",pageSize:"pageSize",viewPortRowHeight:"viewPortRowHeight",viewportMode:"viewportMode",columnsMinWidth:"columnsMinWidth",currentColumn:"currentColumn",waiter:"waiter",sortable:"sortable",columnGroups:"columnGroups",searchArea:"searchArea",groupArea:"groupArea",rowsDraggable:"rowsDraggable",rowsSortable:"rowsSortable",columnsDraggable:"columnsDraggable",columnsSortable:"columnsSortable",columnsSizable:"columnsSizable",multiSelect:"multiSelect",columns:"columns",rows:"rows",itemListService:"itemListService",placeholder:"placeholder",nodataholder:"nodataholder",hintLabel:"hintLabel",childrenField:"childrenField",textField:"textField",valueField:"valueField",searchField:"searchField",currentRow:"currentRow",selectedItems:"selectedItems",selectedItem:"selectedItem",selectedModels:"selectedModels",selectedModel:"selectedModel",sortingService:"sortingService",groupingService:"groupingService",rowTemplateExternal:"rowTemplateExternal",parentRowTemplateExternal:"parentRowTemplateExternal",headerTemplateExternal:"headerTemplateExternal",columnHeaderTemplateExternal:"columnHeaderTemplateExternal",searchPrefixTemplateExternal:"searchPrefixTemplateExternal",searchSuffixTemplateExternal:"searchSuffixTemplateExternal",loadingRows:"loadingRows",selectingRow:"selectingRow",unselectingRow:"unselectingRow",expandingRow:"expandingRow",collapsingRow:"collapsingRow"},outputs:{itemDragEnd:"itemDragEnd",itemDragStart:"itemDragStart",selectedChange:"selectedChange",columnLayoutChanged:"columnLayoutChanged",columnSizeChanged:"columnSizeChanged",viewPortChanged:"viewPortChanged",sortChanged:"sortChanged",groupChanged:"groupChanged"},features:[m["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:41,consts:[[3,"groups","groupsChanged","groupRemoved",4,"ngIf"],["id","treelist",3,"selectedItems","selectedItem","selectedModels","selectedModel","itemsWidth","textField","waiter","valueField","itemsDraggable","sortable","min-search-length","searchArea","query","maxHeight","pageSize","hintLabel","multiSelect","itemListService","sortingService","groupingService","nodataholder","placeholder","viewPortRowHeight","viewportMode","currentItem","childrenField","searchField","items","parentItemTemplateExternal","itemTemplateExternal","headerTemplateExternal","searchPrefixTemplateExternal","searchSuffixTemplateExternal","loadingItems","selectingItem","unselectingItem","expandingItem","collapsingItem","itemDragEnd","itemDragStart","selectedChange","viewPortChanged","scroll"],["treelist",""],["parentItemTemplate",""],["itemTemplate",""],["headerTemplate",""],[3,"groups","groupsChanged","groupRemoved"],[3,"row","flatIndex","columns","parentTitleTemplateExternal","cellTemplateExternal","width",4,"ngIf"],[3,"row","flatIndex","columns","parentTitleTemplateExternal","cellTemplateExternal"],[3,"row","flatIndex","columnLayout","cellTemplateExternal","width",4,"ngIf"],[3,"row","flatIndex","columnLayout","cellTemplateExternal"],[3,"sortInfos","columnLayout","columnsDraggable","columnsSortable","columnsSizable","columnHeaderTemplateExternal","columnDragEnd","columnLayoutChanged","columnSizeChanged","columnHeaderClicked",4,"ngIf"],[3,"sortInfos","columnLayout","columnsDraggable","columnsSortable","columnsSizable","columnHeaderTemplateExternal","columnDragEnd","columnLayoutChanged","columnSizeChanged","columnHeaderClicked"],["gridHeaderElement",""]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,be,1,1,"deja-grid-grouparea",0),m["\u0275\u0275elementStart"](1,"deja-tree-list",1,2),m["\u0275\u0275listener"]("itemDragEnd",(function(e){return t.itemDragEnd.emit(e)}))("itemDragStart",(function(e){return t.itemDragStart.emit(e)}))("selectedChange",(function(e){return t.selectedChange.emit(e)}))("viewPortChanged",(function(e){return t.viewPortChanged.emit(e)}))("scroll",(function(e){return t.scroll(e)})),m["\u0275\u0275template"](3,Ce,1,1,"ng-template",null,3,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](5,Se,1,1,"ng-template",null,4,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](7,je,1,1,"ng-template",null,5,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("ngIf",t.groupArea),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("selectedItems",t.selectedItems)("selectedItem",t.selectedItem)("selectedModels",t.selectedModels)("selectedModel",t.selectedModel)("itemsWidth",t.rowsWidth)("textField",t.textField)("waiter",t.waiter)("valueField",t.valueField)("itemsDraggable",t.rowsDraggable)("sortable",t.rowsSortable)("min-search-length",t.minSearchLength)("searchArea",t.searchArea)("query",t.query)("maxHeight",t.maxHeight)("pageSize",t.pageSize)("hintLabel",t.hintLabel)("sortable",t.sortableRows)("multiSelect",t.multiSelect)("itemListService",t.itemListService)("sortingService",t.sortingService)("groupingService",t.groupingService)("nodataholder",t.nodataholder)("placeholder",t.placeholder)("viewPortRowHeight",t.viewPortRowHeight)("viewportMode",t.viewportMode)("currentItem",t.currentRow)("childrenField",t.childrenField)("searchField",t.searchField)("items",t.rows)("parentItemTemplateExternal",t.parentRowTemplate)("itemTemplateExternal",t.rowTemplate)("headerTemplateExternal",t.columnsHeaderTemplate)("searchPrefixTemplateExternal",t.searchPrefixTemplate)("searchSuffixTemplateExternal",t.searchSuffixTemplate)("loadingItems",t.loadingRows)("selectingItem",t.selectingRow)("unselectingItem",t.unselectingRow)("expandingItem",t.expandingRow)("collapsingItem",t.collapsingRow),m["\u0275\u0275attribute"]("nohscroll",t.noHorizontalScroll||null))},directives:[l.n,u.a,Ie,Le,Te,Pe],styles:['deja-grid{display:flex;flex-direction:column;align-content:stretch;max-width:100%;overflow:hidden}deja-grid:not([viewportmode=auto]) .deja-listcontainer>div.listitem deja-grid-parent-row,deja-grid:not([viewportmode=auto]) .deja-listcontainer>div.listitem deja-grid-row{height:100%}deja-grid #deja-grid-grouparea{flex:0 0 auto}deja-grid #treelist{flex:1 1 auto}deja-grid #treelist .deja-listcontainer>div.listitem{padding:0}deja-grid #treelist .deja-listcontainer>div.listitem[current=true]{box-shadow:none}deja-grid #treelist .deja-listcontainer>div.listitem[current=true] .cell-wrapper[current=true]{box-shadow:inset 0 0 0 1px rgba(0,0,0,.3)}deja-grid #treelist .deja-listcontainer>div.listitem deja-grid-parent-row,deja-grid #treelist .deja-listcontainer>div.listitem deja-grid-row{width:100%}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem{padding:0}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:2.25rem}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="0"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="0"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:0}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="1"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="1"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:.45rem}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="2"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="2"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:.9rem}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="3"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="3"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1.35rem}deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="4"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max]>div.listitem[depth="4"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1.8rem}deja-grid #treelist .deja-listcontainer[depth-max="1"]>div.listitem[depth="1"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="1"]>div.listitem[depth="1"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1rem}deja-grid #treelist .deja-listcontainer[depth-max="2"]>div.listitem[depth="1"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="2"]>div.listitem[depth="1"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:.7rem}deja-grid #treelist .deja-listcontainer[depth-max="2"]>div.listitem[depth="2"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="2"]>div.listitem[depth="2"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1.4rem}deja-grid #treelist .deja-listcontainer[depth-max="3"]>div.listitem[depth="1"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="3"]>div.listitem[depth="1"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:.6rem}deja-grid #treelist .deja-listcontainer[depth-max="3"]>div.listitem[depth="2"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="3"]>div.listitem[depth="2"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1.2rem}deja-grid #treelist .deja-listcontainer[depth-max="3"]>div.listitem[depth="3"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="3"]>div.listitem[depth="3"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1.8rem}deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="1"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="1"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:.5rem}deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="2"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="2"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1rem}deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="3"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="3"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:1.5rem}deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="4"] deja-grid-parent-row>.cell-wrapper:nth-child(1) .cell,deja-grid #treelist .deja-listcontainer[depth-max="4"]>div.listitem[depth="4"] deja-grid-row>.cell-wrapper:nth-child(1) .cell{padding-left:2rem}deja-grid #treelist[nohscroll] .deja-listcontainer{overflow-x:hidden}deja-grid[disableselection]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}'],encapsulation:2,changeDetection:0}),e})(),Me=(()=>{let e=class{};return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,r.FormsModule,o.b,u.b,d.a,p.p,c.b]]}),e})();var Fe=n("+iix"),Re=n("650w"),De=n("ZYNV"),Ve=n("KYkd"),ze=n("iInd"),$e=n("LvDl"),ke=n("128B"),Ae=n("3E0/"),He=n("Ado8"),We=n("tbyH"),Be=n("iss+");const Ge=["onexpand"],Ne=["bigPeople"];function Qe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",13),m["\u0275\u0275listener"]("click",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).dialogResponse$.next("cancel")})),m["\u0275\u0275text"](1,"Cancel"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](2,"button",14),m["\u0275\u0275listener"]("click",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).dialogResponse$.next("ok")})),m["\u0275\u0275text"](3,"Ok"),m["\u0275\u0275elementEnd"]()}}function Ke(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"deja-dialog"),m["\u0275\u0275elementStart"](1,"deja-message-box",11),m["\u0275\u0275text"](2," Please confirm your operation! "),m["\u0275\u0275template"](3,Qe,4,0,"ng-template",null,12,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}function qe(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-card",15),m["\u0275\u0275element"](1,"deja-markdown",16),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/dev/projects/deja-js/component/data-grid/readme.md"))}function Ue(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",17),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Simple Usage"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",19),m["\u0275\u0275element"](5,"deja-grid",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"mat-card",17),m["\u0275\u0275elementStart"](7,"mat-toolbar",18),m["\u0275\u0275text"](8,"Keyboard Navigation and Multi Selection"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"mat-card-content",21),m["\u0275\u0275elementStart"](10,"div"),m["\u0275\u0275text"](11,"deja-grid has some keyboard navigation feature"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",22),m["\u0275\u0275elementStart"](13,"span",23),m["\u0275\u0275element"](14,"deja-grid",24),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"ul",25),m["\u0275\u0275elementStart"](16,"li"),m["\u0275\u0275text"](17,"Press "),m["\u0275\u0275elementStart"](18,"span",26),m["\u0275\u0275text"](19,"\u2191"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](20," to select the previous row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"li"),m["\u0275\u0275text"](22,"Press "),m["\u0275\u0275elementStart"](23,"span",26),m["\u0275\u0275text"](24,"\u2193"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](25," to select the next row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"li"),m["\u0275\u0275text"](27,"Press "),m["\u0275\u0275elementStart"](28,"span",26),m["\u0275\u0275text"](29,"\u2190"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](30," to select the previous cell"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](31,"li"),m["\u0275\u0275text"](32,"Press "),m["\u0275\u0275elementStart"](33,"span",26),m["\u0275\u0275text"](34,"\u2192"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](35," to select the next cell"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](36,"li"),m["\u0275\u0275text"](37,"Press "),m["\u0275\u0275elementStart"](38,"span",26),m["\u0275\u0275text"](39,"Ctrl"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](40,"span",26),m["\u0275\u0275text"](41,"\u2191"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](42," to change the current row to the previous"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"li"),m["\u0275\u0275text"](44,"Press "),m["\u0275\u0275elementStart"](45,"span",26),m["\u0275\u0275text"](46,"Ctrl"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](47,"span",26),m["\u0275\u0275text"](48,"\u2193"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](49," to change the current row to the next"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](50,"li"),m["\u0275\u0275text"](51,"Press "),m["\u0275\u0275elementStart"](52,"span",26),m["\u0275\u0275text"](53,"Shift"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](54,"span",26),m["\u0275\u0275text"](55,"\u2191"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](56," to change the current row to the previous"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](57,"li"),m["\u0275\u0275text"](58,"Press "),m["\u0275\u0275elementStart"](59,"span",26),m["\u0275\u0275text"](60,"Shift"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](61,"span",26),m["\u0275\u0275text"](62,"\u2193"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](63," to change the current row to the next"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](64,"li"),m["\u0275\u0275text"](65,"Press "),m["\u0275\u0275elementStart"](66,"span",26),m["\u0275\u0275text"](67,"Ctrl"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](68,"span",26),m["\u0275\u0275text"](69,"Space"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](70," to add/remove the current row to the selection"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](71,"li"),m["\u0275\u0275text"](72,"Press "),m["\u0275\u0275elementStart"](73,"span",26),m["\u0275\u0275text"](74,"Shift"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](75,"span",26),m["\u0275\u0275text"](76,"\u2191"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](77," to select a range orf rows"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](78,"li"),m["\u0275\u0275text"](79,"Press "),m["\u0275\u0275elementStart"](80,"span",26),m["\u0275\u0275text"](81,"Shift"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](82,"span",26),m["\u0275\u0275text"](83,"\u2193"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](84," to select a range orf rows"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](85,"li"),m["\u0275\u0275text"](86,"Press "),m["\u0275\u0275elementStart"](87,"span",26),m["\u0275\u0275text"](88,"PageUp"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](89," to select the next page row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](90,"li"),m["\u0275\u0275text"](91,"Press "),m["\u0275\u0275elementStart"](92,"span",26),m["\u0275\u0275text"](93,"PageDown"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](94," to select the previous page row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](95,"li"),m["\u0275\u0275text"](96,"Press "),m["\u0275\u0275elementStart"](97,"span",26),m["\u0275\u0275text"](98,"Home"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](99," to select the first row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](100,"li"),m["\u0275\u0275text"](101,"Press "),m["\u0275\u0275elementStart"](102,"span",26),m["\u0275\u0275text"](103,"End"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](104," to select the last row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](105,"li"),m["\u0275\u0275text"](106,"Press "),m["\u0275\u0275elementStart"](107,"span",26),m["\u0275\u0275text"](108,"Space"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](109," to collapse/expand a group header or to select/unselect the current row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](110,"li"),m["\u0275\u0275text"](111,"Press "),m["\u0275\u0275elementStart"](112,"span",26),m["\u0275\u0275text"](113,"A"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](114,".. "),m["\u0275\u0275elementStart"](115,"span",26),m["\u0275\u0275text"](116,"Z"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](117,"span",26),m["\u0275\u0275text"](118,"0"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](119,".. "),m["\u0275\u0275elementStart"](120,"span",26),m["\u0275\u0275text"](121,"9"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](122," to select the next row started with the pressed key"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("rows",e.peopleRows)("columns",e.peopleColumns),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("rows",e.peopleForMultiselect$)("columns",e.peopleColumns)}}function Ze(e,t){if(1&e&&m["\u0275\u0275element"](0,"span",41),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("background-color",e.$implicit[e.column.name])}}function Je(e,t){1&e&&m["\u0275\u0275template"](0,Ze,1,2,"span",40),2&e&&m["\u0275\u0275property"]("ngIf","color"===t.column.name)}function Xe(e,t){if(1&e&&m["\u0275\u0275element"](0,"deja-grid-row",42),2&e){const e=t.$implicit;m["\u0275\u0275nextContext"]();const n=m["\u0275\u0275reference"](18),l=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("width",n.rowsWidth,"px"),m["\u0275\u0275property"]("row",e)("columnLayout",n.columnLayout)("deja-draggable",l.getDragContext(e))}}function Ye(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",27),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Grouping Client Side"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",28),m["\u0275\u0275elementStart"](5,"div"),m["\u0275\u0275text"](6,"To allow the user grouping just add the groupArea directive"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"deja-grid",29),m["\u0275\u0275template"](8,Je,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"mat-toolbar",18),m["\u0275\u0275text"](11,"Grouping Server Side and Drag Drop"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"mat-card-content"),m["\u0275\u0275elementStart"](13,"div"),m["\u0275\u0275text"](14,"Grouping example"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",22),m["\u0275\u0275elementStart"](16,"span",31),m["\u0275\u0275elementStart"](17,"deja-grid",32,33),m["\u0275\u0275template"](19,Xe,1,5,"ng-template",null,34,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"span",35),m["\u0275\u0275elementStart"](22,"div"),m["\u0275\u0275text"](23,"You can drag and drop items the the area bellow (That will display a JSON representation of the dropped model) :"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"div",36,37),m["\u0275\u0275elementStart"](26,"pre"),m["\u0275\u0275text"](27),m["\u0275\u0275pipe"](28,"json"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](29,"mat-toolbar",18),m["\u0275\u0275text"](30,"Variable Rows Height and Deep Model"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](31,"mat-card-content",28),m["\u0275\u0275elementStart"](32,"deja-grid",38,39),m["\u0275\u0275listener"]("columnSizeChanged",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275reference"](33);return m["\u0275\u0275nextContext"]().onColumnSizeChanged(t,n)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275reference"](25),t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("rows",t.people$)("columns",t.peopleColumnsEx),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("rows",t.groupedByGenderPeople$)("columns",t.peopleColumns),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("deja-droppable",t.getDropContext(e)),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](28,8,t.draggedPerson)),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("rows",t.variableHeightPeopleRows$)("columns",t.variableHeightPeopleColumns)}}function et(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",27),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Sizeable Columns"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",21),m["\u0275\u0275elementStart"](5,"div"),m["\u0275\u0275text"](6,"The horizontal scrollbar will be adjusted to match the total with of the columns"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"deja-splitter",43),m["\u0275\u0275elementStart"](8,"split-area",44),m["\u0275\u0275element"](9,"deja-grid",45),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](10,"split-area",44),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"mat-toolbar",18),m["\u0275\u0275text"](12,"Percent Columns"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"mat-card-content",28),m["\u0275\u0275elementStart"](14,"div"),m["\u0275\u0275text"](15,"The columns having a width defined as a percentage will resize to fill the remaining space. If their size reaches their minimum width a horizontal scrollbar will appear."),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"deja-splitter",46),m["\u0275\u0275listener"]("dragProgress",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275reference"](19).calcColumnsLayout()})),m["\u0275\u0275elementStart"](17,"split-area",44),m["\u0275\u0275element"](18,"deja-grid",45,47),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](20,"split-area",44),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"mat-toolbar",18),m["\u0275\u0275text"](22,"Responsives Columns"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"mat-card-content",28),m["\u0275\u0275elementStart"](24,"div"),m["\u0275\u0275text"](25,"The columns having a width defined as a percentage will resize to fill the remaining space. If their size reaches their minimum width, then the columns having a responsive property will be hidden, starting with the lowest responsive value."),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"deja-splitter",46),m["\u0275\u0275listener"]("dragProgress",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275reference"](29).calcColumnsLayout()})),m["\u0275\u0275elementStart"](27,"split-area",44),m["\u0275\u0275element"](28,"deja-grid",45,48),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](30,"split-area",44),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](31,"mat-toolbar",18),m["\u0275\u0275text"](32,"Columns not Specified"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](33,"mat-card-content",28),m["\u0275\u0275elementStart"](34,"div"),m["\u0275\u0275text"](35,"The columns are not specified. The grid will create columns based on the line model given. At that moment, the dynamic column model will be displayed in the browser console so that it can be copied and included in the code."),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](36,"deja-grid",49),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("size",60),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("rows",e.people$)("columns",e.peopleColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("size",40),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("size",60),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("rows",e.people$)("columns",e.percentPeopleColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("size",40),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("size",60),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("rows",e.people$)("columns",e.responsivePeopleColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("size",40),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("rows",e.people$)}}function tt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"img",57),m["\u0275\u0275listener"]("load",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275nextContext"]();const l=m["\u0275\u0275reference"](8);return m["\u0275\u0275nextContext"]().imageLoaded(n,l)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275attribute"]("src",e.$implicit[e.column.name],m["\u0275\u0275sanitizeUrl"])}}function nt(e,t){1&e&&m["\u0275\u0275template"](0,tt,1,1,"img",56),2&e&&m["\u0275\u0275property"]("ngIf","urlToImage"===t.column.name)}function lt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"mat-icon",58),m["\u0275\u0275text"](1,"visibility"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](2,"\xa0 "),m["\u0275\u0275elementStart"](3,"span"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](n.getParentRowDecr(e))}}function rt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"mat-icon",59),m["\u0275\u0275listener"]("click",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onFilterTemplateClicked("Prefix")})),m["\u0275\u0275text"](1,"public"),m["\u0275\u0275elementEnd"]()}}function at(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"mat-icon",59),m["\u0275\u0275listener"]("click",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).onFilterTemplateClicked("Suffix")})),m["\u0275\u0275text"](1,"more_vert"),m["\u0275\u0275elementEnd"]()}}function ot(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",27),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Templating Examples"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",21),m["\u0275\u0275elementStart"](5,"h1"),m["\u0275\u0275text"](6,"Cells Template"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"deja-grid",50,51),m["\u0275\u0275listener"]("columnSizeChanged",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275reference"](8);return m["\u0275\u0275nextContext"]().onColumnSizeChanged(t,n)})),m["\u0275\u0275pipe"](9,"async"),m["\u0275\u0275template"](10,nt,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",22),m["\u0275\u0275elementStart"](13,"span",31),m["\u0275\u0275elementStart"](14,"h1"),m["\u0275\u0275text"](15,"Parent Row Templating"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"deja-grid",20),m["\u0275\u0275template"](17,lt,5,1,"ng-template",null,52,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"span",53),m["\u0275\u0275elementStart"](20,"h1"),m["\u0275\u0275text"](21,"Search Prefix and Suffix Templates"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"deja-grid",20),m["\u0275\u0275template"](23,rt,2,0,"ng-template",null,54,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](25,at,2,0,"ng-template",null,55,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("rows",m["\u0275\u0275pipeBind1"](9,6,e.news$))("columns",e.newsColumns),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("rows",e.groupedByEyesColorPeople$)("columns",e.peopleColumns),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("rows",e.people$)("columns",e.peopleColumns)}}function it(e,t){if(1&e&&m["\u0275\u0275element"](0,"span",41),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("background-color",e.$implicit[e.column.name])}}function st(e,t){1&e&&m["\u0275\u0275template"](0,it,1,2,"span",40),2&e&&m["\u0275\u0275property"]("ngIf","color"===t.column.name)}function mt(e,t){if(1&e&&m["\u0275\u0275element"](0,"span",41),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("background-color",e.$implicit[e.column.name])}}function ct(e,t){1&e&&m["\u0275\u0275template"](0,mt,1,2,"span",40),2&e&&m["\u0275\u0275property"]("ngIf","color"===t.column.name)}function dt(e,t){if(1&e&&m["\u0275\u0275element"](0,"span",41),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("background-color",e.$implicit[e.column.name])}}function ut(e,t){1&e&&m["\u0275\u0275template"](0,dt,1,2,"span",40),2&e&&m["\u0275\u0275property"]("ngIf","color"===t.column.name)}function pt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",27),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Pre-Selections from html inputs"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",21),m["\u0275\u0275elementStart"](5,"span",22),m["\u0275\u0275elementStart"](6,"div",60),m["\u0275\u0275text"](7,"Preselection with the inputs"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"div",61),m["\u0275\u0275text"](9,"Preselections with the input selectedModels"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"span",22),m["\u0275\u0275elementStart"](11,"deja-grid",62),m["\u0275\u0275template"](12,st,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"deja-grid",63),m["\u0275\u0275template"](15,ct,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"mat-toolbar",18),m["\u0275\u0275text"](18,"Pre-Selections from javascript"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"mat-card-content",21),m["\u0275\u0275elementStart"](20,"div"),m["\u0275\u0275text"](21,"The collection fructItemsWithPreSelection has a pre-selected item"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"span",22),m["\u0275\u0275elementStart"](23,"deja-grid",64),m["\u0275\u0275template"](24,ut,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](11),m["\u0275\u0275property"]("rows",e.fructs)("columns",e.fructsColumns),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("rows",e.fructsForMultiSelection)("columns",e.fructsColumns),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("rows",e.fructsWithPreSelection)("columns",e.fructsColumns)}}function gt(e,t){if(1&e&&m["\u0275\u0275element"](0,"deja-grid-row",72),2&e){const e=m["\u0275\u0275nextContext"](),t=e.$implicit,n=e.flatindex;m["\u0275\u0275nextContext"]();const l=m["\u0275\u0275reference"](21),r=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("width",r.rowsWidth,"px"),m["\u0275\u0275property"]("row",t.model)("flatIndex",n)("columnLayout",l.columnLayout)}}function ht(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",73),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"](2);m["\u0275\u0275styleProp"]("width",t.rowsWidth,"px"),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.displayName)}}function ft(e,t){if(1&e&&(m["\u0275\u0275template"](0,gt,1,5,"deja-grid-row",70),m["\u0275\u0275template"](1,ht,2,3,"span",71)),2&e){const e=t.$implicit;m["\u0275\u0275property"]("ngIf",!e.displayName),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.displayName)}}function xt(e,t){if(1&e&&(m["\u0275\u0275element"](0,"span",41),m["\u0275\u0275text"](1)),2&e){const e=t.$implicit;m["\u0275\u0275styleProp"]("background-color",e.color),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.color," ")}}function wt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",27),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Pre-events and on-demand"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",21),m["\u0275\u0275elementStart"](5,"h1"),m["\u0275\u0275text"](6,"On Demand Loading "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div"),m["\u0275\u0275text"](8,"The rows are loaded from the loading event"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](9,"deja-grid",65,66),m["\u0275\u0275elementStart"](11,"h1"),m["\u0275\u0275text"](12,"Confirm Selection"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"div"),m["\u0275\u0275text"](14,"A dialog will confirm the selection of an row"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](15,"deja-grid",67),m["\u0275\u0275elementStart"](16,"h1"),m["\u0275\u0275text"](17,"Confirm Expand and Collapse "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div"),m["\u0275\u0275text"](19,"A dialog will confirm the expand and collapse or an row if the children are not loaded. The children will be loaded asynchronously after the row expansion."),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](20,"deja-grid",68,69),m["\u0275\u0275template"](22,ft,2,2,"ng-template",null,34,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](24,xt,2,3,"ng-template",null,52,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("loadingRows",e.loadingRows())("columns",e.peopleColumns),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("selectingRow",e.confirmDialog())("rows",e.people$)("columns",e.peopleColumns),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("rows",e.onDemandGroupedPeople)("expandingRow",e.expandingRows())("collapsingRow",e.collapsingRows())("columns",e.peopleColumns)}}function bt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"img",57),m["\u0275\u0275listener"]("load",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275nextContext"]();const l=m["\u0275\u0275reference"](11);return m["\u0275\u0275nextContext"]().imageLoaded(n,l)})),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275attribute"]("src",e.$implicit[e.column.name],m["\u0275\u0275sanitizeUrl"])}}function vt(e,t){1&e&&m["\u0275\u0275template"](0,bt,1,1,"img",56),2&e&&m["\u0275\u0275property"]("ngIf","urlToImage"===t.column.name)}function Ct(e,t){if(1&e&&m["\u0275\u0275element"](0,"span",41),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275styleProp"]("background-color",e.$implicit[e.column.name])}}function yt(e,t){1&e&&m["\u0275\u0275template"](0,Ct,1,2,"span",40),2&e&&m["\u0275\u0275property"]("ngIf","color"===t.column.name)}function St(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"span",82),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"span"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.name),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.value)}}function Et(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"mat-card",27),m["\u0275\u0275elementStart"](2,"mat-toolbar",18),m["\u0275\u0275text"](3,"Performance Examples"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-card-content",21),m["\u0275\u0275elementStart"](5,"h1"),m["\u0275\u0275text"](6,"10K rows with Item Template "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div"),m["\u0275\u0275text"](8,"An exemple with 100000 fixed size rows"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"span",74),m["\u0275\u0275elementStart"](10,"deja-grid",75,76),m["\u0275\u0275listener"]("columnSizeChanged",(function(t){m["\u0275\u0275restoreView"](e);const n=m["\u0275\u0275reference"](11);return m["\u0275\u0275nextContext"]().onColumnSizeChanged(t,n)})),m["\u0275\u0275template"](12,vt,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"h1"),m["\u0275\u0275text"](15,"Fixed size rows 100K items"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div"),m["\u0275\u0275text"](17,"An exemple with 100000 fixed size rows"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"span",22),m["\u0275\u0275elementStart"](19,"deja-grid",77,78),m["\u0275\u0275template"](21,yt,1,1,"ng-template",null,30,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"span",79),m["\u0275\u0275elementStart"](24,"h4",80),m["\u0275\u0275text"](25,"Viewport Infos:"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](26,St,5,2,"div",81),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("rows",e.bigNews$)("columns",e.newsColumns),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("rows",e.bigPeople$)("columns",e.peopleColumnsEx),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngForOf",e.viewPortInfos)}}const jt=ze.f.forChild([{path:"",component:(()=>{class e{constructor(e,t,n,l){this.changeDetectorRef=e,this.peopleService=t,this.tabIndex=1,this.dialogResponse$=new f.a,this.columnGroups=[],this.peopleRows=[],this._dialogVisible=!1,this.fructs=[{name:"Peach",value:"peach",color:"#FF6F00",Potassium:"285 mg",Phosphorus:"30 mg",Magnesium:"14 mg",Calcium:"9 mg",Iron:"0.38 mg",Selenium:"0.1 mcg",Manganese:"0.091 mg",Copper:"0.102 mg",Zinc:"0.26 mg",VitaminA:"489 IU",VitaminB1:"0.036 mg",VitaminB2:"0.047 mg",Niacin:"1.209 mg",Folate:"6 mcg",PantothenicAcid:"0.229 mg",VitaminB6:"0.037 mg",VitaminC:"9.9 mg",VitaminE:"1.09 mg",VitaminK:"3.9 mcg"},{name:"Banana",value:"banana",color:"#FFEB3B",Potassium:"422 mg",Phosphorus:"26 mg",Magnesium:"32 mg",Calcium:"6 mg",Sodium:"1 mg",Iron:"0.31 mg",Selenium:"1.2 mcg",Manganese:"0.319 mg",Copper:"0.092 mg",Zinc:"0.18 mg",VitaminA:"76 IU",VitaminB1:"0.037 mg",VitaminB2:"0.086 mg",Niacin:"0.785 mg",Folate:"24 mcg",PantothenicAcid:"0.394 mg",VitaminB6:"0.433 mg",VitaminC:"10.3 mg",VitaminE:"0.12 mg",VitaminK:"0.6 mcg"},{name:"Cantaloupe",value:"cantaloupe",color:"#AED581",Potassium:"184 mg",Phosphorus:"10 mg",Magnesium:"8 mg",Calcium:"6 mg",Sodium:"11 mg",Iron:"0.14 mg",Selenium:"0.3 mcg",Manganese:"0.028 mg",Copper:"0.028 mg",Zinc:"0.12 mg",VitaminA:"2334 IU",VitaminB1:"0.028 mg",VitaminB2:"0.013 mg",Niacin:"0.506 mg",Folate:"14 mcg",PantothenicAcid:"0.072 mg",VitaminB6:"0.05 mg",VitaminC:"25.3 mg",VitaminE:"0.03 mg",VitaminK:"1.7 mcg    "},{name:"Cherries",value:"cherries",color:"#880E4F",Potassium:"306 mg",Phosphorus:"29 mg",Magnesium:"15 mg",Calcium:"18 mg",Iron:"0.5 mg",Zinc:"0.1 mg",Manganese:"0.097 mg",Copper:"0.083 mg    ",VitaminA:"88 IU",VitaminB1:"0.037 mg",VitaminB2:"0.046 mg",Niacin:"0.213 mg",Folate:"6 mcg",PantothenicAcid:"0.275 mg",VitaminB6:"0.068 mg",VitaminC:"9.7 mg",VitaminE:"0.1 mg",VitaminK:"2.9 mcg"},{name:"Chinese Pears",value:"chinesepears",color:"#F5F5F5",Potassium:"333 mg",Phosphorus:"30 mg",Magnesium:"22 mg",Calcium:"11 mg",Selenium:"0.3 mcg",Manganese:"0.165 mg",Copper:"0.138 mg",Zinc:"0.06 mg",VitaminA:"0 mg",VitaminB1:"0.025 mg",VitaminB2:"0.028 mg",Niacin:"0.602 mg",Folate:"22 mcg",PantothenicAcid:"0.193 mg",VitaminB6:"0.06 mg",VitaminC:"10.4 mg",VitaminE:"0.33 mg",VitaminK:"12.4 mcg"},{name:"Cranberries",value:"cranberries",color:"#C2185B",Potassium:"85 mg",Phosphorus:"13 mg",Magnesium:"6 mg",Calcium:"8 mg",Sodium:"2 mg",Iron:"0.25 mg",Selenium:"0.1 mcg",Manganese:"0.36 mg",Copper:"0.061 mg",Zinc:"0.1 mg",VitaminA:"60 IU",VitaminB1:"0.012 mg",VitaminB2:"0.02 mg",Niacin:"0.101 mg",Folate:"1 mcg",PantothenicAcid:"0.295 mg",VitaminB6:"0.057 mg",VitaminC:"13.3 mg",VitaminE:"1.2 mg",VitaminK:"5.1 mcg"},{name:"Guava",value:"guava",color:"#FFCA28",Potassium:"688 mg",Phosphorus:"66 mg",Magnesium:"36 mg",Calcium:"30 mg",Sodium:"3 mg",Iron:"0.43 mg",Selenium:"1 mcg",Manganese:"0.247 mg",Copper:"0.38 mg",Zinc:"0.38 mg",VitaminA:"1030 IU",VitaminB1:"0.111 mg",VitaminB2:"0.066 mg",Niacin:"1.789 mg",Folate:"81 mcg",PantothenicAcid:"0.744 mg",VitaminB6:"0.181 mg",VitaminC:"376.7 mg",VitaminE:"1.2 mg",VitaminK:"4.3 mcg"},{name:"Grapes",value:"grapes",color:"#303F9F",Potassium:"288 mg",Phosphorus:"30 mg",Magnesium:"11 mg",Calcium:"15 mg",Sodium:"3 mg",Iron:"0.54 mg",Selenium:"0.2 mcg",Manganese:"0.107 mg",Copper:"0.192 mg",Zinc:"0.11 mg",VitaminA:"100 IU",VitaminB1:"0.104 mg",VitaminB2:"0.106 mg",Niacin:"0.284 mg",Folate:"3 mcg",PantothenicAcid:"0.076 mg",VitaminB6:"0.13 mg",VitaminC:"16.3 mg",VitaminE:"0.29 mg",VitaminK:"22 mcg"},{name:"Lemon",value:"lemon",color:"#FFF176",Potassium:"116 mg",Phosphorus:"13 mg",Magnesium:"7 mg",Calcium:"22 mg",Sodium:"2 mg",Iron:"0.5 mg",Selenium:"0.3 mcg",Manganese:"0.025 mg",Copper:"0.031 mg",Zinc:"0.05 mg",VitaminA:"18 IU",VitaminB1:"0.034 mg",VitaminB2:"0.017 mg",Niacin:"0.084 mg",Folate:"9 mcg",PantothenicAcid:"0.16 mg",VitaminB6:"0.067 mg",VitaminC:"44.5 mg",VitaminE:"0.13 mg"},{name:"Mango",value:"mango",color:"#FBC02D",Potassium:"323 mg",Phosphorus:"23 mg",Magnesium:"19 mg",Calcium:"21 mg",Sodium:"4 mg",Iron:"0.27 mg",Selenium:"1.2 mcg",Manganese:"0.056 mg",Copper:"0.228 mg",Zinc:"0.08 mg",VitaminA:"1584 IU",VitaminB1:"0.12 mg",VitaminB2:"0.118 mg",Niacin:"1.209 mg",Folate:"29 mcg",PantothenicAcid:"0.331 mg",VitaminB6:"0.227 mg",VitaminC:"57.3 mg",VitaminE:"2.32 mg",VitaminK:"8.7 mcg"},{name:"Pineapple",value:"pineapple",color:"#FDD835",Potassium:"180 mg",Phosphorus:"13 mg",Magnesium:"20 mg",Calcium:"21 mg",Sodium:"2 mg",Iron:"0.48 mg",Selenium:"0.2 mcg",Manganese:"1.53 mg",Copper:"0.181 mg",Zinc:"0.2 mg",VitaminA:"96 IU",VitaminB1:"0.13 mg",VitaminB2:"0.053 mg",Niacin:"0.825 mg",Folate:"30 mcg",PantothenicAcid:"0.351 mg",VitaminB6:"0.185 mg",VitaminC:"78.9 mg",VitaminE:"0.03 mg",VitaminK:"1.2 mcg"},{name:"Watermelon",value:"watermelon",color:"#E91E63",Potassium:"320 mg",Phosphorus:"31 mg",Magnesium:"29 mg",Calcium:"20 mg",Sodium:"3 mg",Iron:"0.69 mg",Selenium:"1.1 mcg",Manganese:"0.109 mg",Copper:"0.12 mg",Zinc:"0.29 mg",VitaminA:"1627 IU",VitaminB1:"0.094 mg",VitaminB2:"0.06 mg",Niacin:"0.509 mg",Folate:"9 mcg",PantothenicAcid:"0.632 mg",VitaminB6:"0.129 mg",VitaminC:"23.2 mg",VitaminE:"0.14 mg",VitaminK:"0.3 mcg"}],this.fructsColumns=[{label:"Color",name:"color",width:"64px",useCellTemplate:!0},{label:"Name",name:"name",width:"130px"},{label:"Vitamin A",name:"VitaminA"},{label:"Vitamin B1",name:"VitaminB1"},{label:"Vitamin B2",name:"VitaminB2"},{label:"Vitamin C",name:"VitaminC"}],this.peopleColumns=[{label:"Name",name:"name",width:"130px"},{label:"Gender",name:"gender",width:"70px"},{label:"Company",name:"company",width:"85px"},{label:"Email",name:"email",width:"210px"},{label:"Phone",name:"phone",width:"130px"},{label:"Eyes Color",name:"eyeColor",width:"85px"},{label:"Address",name:"address",width:"360px"},{label:"About",name:"about",width:"1000px"}],this.newsColumns=[{label:"Logo",name:"urlToImage",minWidth:64,sizeable:!0,useCellTemplate:!0,width:"150px"},{label:"title",name:"title",sizeable:!0,useCellTemplate:!1,width:"180px"},{label:"description",name:"description",minWidth:64,sizeable:!0,width:"450px"},{label:"url",name:"url",width:"200px"},{label:"category",name:"category",width:"100px"},{label:"language",name:"language",width:"64px"},{label:"country",name:"country",width:"64px"}],this.percentPeopleColumns=[{label:"Name",name:"name",width:"130px",sizeable:!1},{label:"Gender",name:"gender",width:"70px",sizeable:!0},{label:"Company",name:"company",width:"4.5%"},{label:"Email",name:"email",width:"6%"},{label:"Phone",name:"phone",width:"7%"},{label:"Eyes Color",name:"eyeColor",width:"4.5%"},{label:"Address",name:"address",width:"19%"},{label:"About",name:"about",width:"54%"}],this.responsivePeopleColumns=[{label:"Name",name:"name",width:"130px",sizeable:!1,minWidth:64},{label:"Gender",name:"gender",width:"70px",sizeable:!0,responsive:1},{label:"Company",name:"company",width:"4.5%",minWidth:64,responsive:3},{label:"Email",name:"email",width:"6%",minWidth:64},{label:"Phone",name:"phone",width:"7%",minWidth:64},{label:"Eyes Color",name:"eyeColor",width:"4.5%",minWidth:64,responsive:3},{label:"Address",name:"address",width:"19%",minWidth:64,responsive:2},{label:"About",name:"about",width:"54%",minWidth:64,responsive:4}],this.news$=n.getNews$(50),this.bigNews$=n.getNews$(1e4),this.people$=t.getPeople$(),this.bigPeople$=t.getPeople$(void 0,1e5),this.peopleForMultiselect$=t.getPeople$().pipe(Object(z.a)(e=>$e.cloneDeep(e))),this.groupedByGenderPeople$=t.getPeople$().pipe(Object(E.a)(e=>l.group$(e,{groupByField:"gender"}))),this.groupedByEyesColorPeople$=t.getPeople$().pipe(Object(E.a)(e=>l.group$(e,{groupByField:"eyeColor"}))),t.getPeople$().pipe(Object(I.a)(e=>this.peopleRows=e),Object(E.a)(e=>l.group$(e,{groupByField:"color"})),Object(j.a)()).subscribe(e=>this.groupedByColorPeople=e),this.peopleColumnsEx=[{label:"Color",name:"color",width:"64px",useCellTemplate:!0},...this.peopleColumns],this.variableHeightPeopleColumns=this.peopleColumns.map(e=>({label:e.label,width:e.width,name:`p1.p2.person.${e.name}`,sizeable:"address"===e.name||"about"===e.name}));const r=this.variableHeightPeopleColumns.find(e=>"p1.p2.person.address"===e.name);r.sizeable=!0,r.width="250px";const a=this.variableHeightPeopleColumns.find(e=>"p1.p2.person.about"===e.name);a.sizeable=!0,a.width="400px",this.variableHeightPeopleRows$=t.getPeople$().pipe(Object(z.a)(e=>$e.cloneDeep(e)),Object(E.a)(e=>e),Object(z.a)(e=>({p1:{p2:{person:e}}})),Object(ke.a)((e,t)=>[...e,t],[])),this.peopleService.getPeople$().subscribe(e=>{const t=[],n={};e.forEach(e=>{const l=`Group${e.color}`;n[l]||(n[l]=[],t.push({color:e.color,collapsible:!0,collapsed:!0,groupName:l,rows:[{displayName:"loading...",selectable:!1}],displayName:l,selectable:!1,loaded:!1})),n[l].push({model:e})}),this.onDemandGroupedPeople=t}),this.fructsForMultiSelection=this.fructs.map(e=>$e.cloneDeep(e)),this.fructsWithPreSelection=this.fructs.map(e=>{const t=$e.cloneDeep(e);return t.selected="banana"===e.value,t})}set dialogVisible(e){this._dialogVisible=e,this.changeDetectorRef.markForCheck()}get dialogVisible(){return this._dialogVisible}set bigCountriesList(e){this.viewPortInfos$&&(this.viewPortInfos$.unsubscribe(),this.viewPortInfos=[],delete this.viewPortInfos$),this.viewPortInfos$=e&&e.viewPort.viewPort$.pipe(Object($.a)(1)).subscribe(e=>{this.viewPortInfos=[{name:"beforeSize",value:String(e.beforeSize)},{name:"startIndex",value:String(e.startIndex)},{name:"viewPortSize",value:String(e.viewPortSize)},{name:"visibleCount",value:String(e.visibleItems&&e.visibleItems.length)},{name:"endIndex",value:String(e.endIndex)},{name:"afterSize",value:String(e.afterSize)},{name:"itemsCount",value:String(e.items&&e.items.length)}]})}onColumnSizeChanged(e,t){switch(e.column.name){case"description":case"urlToImage":case"address":case"about":case"p1.p2.person.address":case"p1.p2.person.about":t.clearRowsHeight(),t.refreshViewPort()}}imageLoaded(e,t){const n=e;n.loaded||(n.loaded=!0,t.refreshViewPort(n))}loadingRows(){const e=this;return(t,n)=>e.peopleService.getPeople$().pipe(Object(Ae.a)(3e3))}collapsingRows(){const e=this;return t=>t.loaded?Object(w.a)(t):e.confirmDialog()(t)}expandingRows(){const e=this;return t=>{const n=t;return n.loaded?Object(w.a)(t):e.confirmDialog()(t).pipe(Object(E.a)(e=>e?(Object(w.a)(n).pipe(Object(Ae.a)(2e3),Object(j.a)()).subscribe(e=>{const t=this.groupedByColorPeople.find(t=>t.toString()===e.color);e.rows=t.items.map(e=>({model:e})),e.loaded=!0,e.className="loaded",this.onExpandGrid.refresh()}),Object(w.a)(e)):Object(w.a)(null)))}}confirmDialog(){const e=this;return t=>(e.dialogVisible=!0,Object(b.a)(this.dialogResponse$).pipe(Object(j.a)(),Object(z.a)(n=>(e.dialogVisible=!1,"ok"===n?t:null))))}onFilterTemplateClicked(e){alert(`${e} clicked`)}getParentRowDecr(e){return e.toString()}getDragContext(e){return{object:e}}getDropContext(){const e=e=>{e.dragInfo&&e.dragInfo.element&&"DEJA-GRID-ROW"===e.dragInfo.element.tagName&&e.preventDefault()};return{dragentercallback:e,dragovercallback:e,dropcallback:e=>{this.draggedPerson=e.dragInfo.object,this.changeDetectorRef.markForCheck()}}}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ChangeDetectorRef),m["\u0275\u0275directiveInject"](We.a),m["\u0275\u0275directiveInject"](He.a),m["\u0275\u0275directiveInject"](p.v))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["grid-demo"]],viewQuery:function(e,t){var n;1&e&&(m["\u0275\u0275viewQuery"](Ge,!0),m["\u0275\u0275viewQuery"](Ne,!0)),2&e&&(m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.onExpandGrid=n.first),m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.bigCountriesList=n.first))},decls:18,vars:10,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","SIMPLE EXAMPLES"],["label","ADVANCED EXAMPLES"],["label","COLUMNS MODES"],["label","TEMPLATING"],["label","PRE-SELECTIONS"],["label","PRE-EVENTS AND ON_DEMAND"],["label","PERFORMANCES"],[4,"ngIf"],["class","demo-card",4,"ngIf"],["type","primary","title","Confirm Box"],["actionsTemplate",""],["id","cancelbtn","mat-raised-button","",3,"click"],["id","okbtn","mat-raised-button","","color","primary",3,"click"],[1,"demo-card"],[3,"url"],[1,"demo-card","demo-basic"],["color","primary"],[1,"flexLayout","flexColumn"],["searchArea","","columnsSortable","","columnsSizable","","sortable","","maxHeight","auto","nodataholder","No datas","placeholder","Filter by name","searchField","name","valueField","guid",3,"rows","columns"],[1,"listContainer"],[1,"flexLayout"],[1,"flexLayout","flex45p"],["columnsSortable","","multiSelect","","columnsSizable","","sortable","","nodataholder","No datas","placeholder","Filter by name","searchField","name","valueField","guid",1,"flex500",3,"rows","columns"],["id","shortcut-list",1,"flex45p","flexOffset2rl"],[1,"keyboard-key"],[1,"deja-grid-demo","demo-card","demo-basic"],[1,"flexLayout","flexColumn","listContainer"],["groupArea","","columnsSortable","","multiSelect","","columnsSizable","","sortable","","columnGroups","eyeColor","nodataholder","No datas","placeholder","Filter by name","searchField","name","valueField","guid",1,"flex600",3,"rows","columns"],["cellTemplate",""],[1,"flex45p","flexLayout","flexColumn"],["columnsSortable","","multiSelect","","columnsSizable","","sortable","","nodataholder","No datas","placeholder","Filter by name","searchField","name","valueField","guid",1,"flex600",3,"rows","columns"],["gg",""],["rowTemplate",""],["id","dropArea",1,"flex45p","flexOffset2rl"],[2,"border","1px solid red","min-height","150px",3,"deja-droppable"],["dropArea",""],["id","variable","maxHeight","auto","searchArea","","columnsSortable","","multiSelect","","columnsSizable","","sortable","","viewportMode","auto","viewPortRowHeight","25","nodataholder","No datas","searchField","p1.p2.person.name","valueField","p1.p2.person.guid",3,"rows","columns","columnSizeChanged"],["variable",""],["class","color",3,"background-color",4,"ngIf"],[1,"color"],[3,"row","columnLayout","deja-draggable"],["direction","horizontal"],[3,"size"],["columnsSizable","","nodataholder","No datas","valueField","guid",3,"rows","columns"],["direction","horizontal",3,"dragProgress"],["grdclm2",""],["grdclm3",""],["columnsSizable","","maxHeight","auto","nodataholder","No datas","valueField","guid",3,"rows"],["id","news","sortable","","columnsSizable","","multiSelect","","maxHeight","auto","viewportMode","auto","nodataholder","Pas de donn\xe9es",3,"rows","columns","columnSizeChanged"],["news",""],["parentRowTemplate",""],[1,"flex45p","flexLayout","flexColumn","flexOffset2rl"],["searchPrefixTemplate",""],["searchSuffixTemplate",""],["class","logo",3,"load",4,"ngIf"],[1,"logo",3,"load"],["id","placeholder-icon"],[3,"click"],[1,"flex45p"],[1,"flex45p","flexOffset2rl"],["selectedItem","mango","maxHeight","auto","valueField","value",1,"flex45p",3,"rows","columns"],["multiSelect","true","selectedItems","mango, peach, cranberries","maxHeight","auto","valueField","value",1,"flex45p","flexOffset2rl",3,"rows","columns"],["maxHeight","auto",1,"flex45p",3,"rows","columns"],["maxHeight","auto","textField","name","valueField","guid",3,"loadingRows","columns"],["ondemand",""],["multiSelect","","maxHeight","auto","textField","name","valueField","guid",3,"selectingRow","rows","columns"],["maxHeight","auto","textField","name","valueField","guid","childrenField","rows",3,"rows","expandingRow","collapsingRow","columns"],["onexpand",""],[3,"row","flatIndex","columnLayout","width",4,"ngIf"],["class","loading",3,"width",4,"ngIf"],[3,"row","flatIndex","columnLayout"],[1,"loading"],[1,"flexLayout","flexColumns"],["id","news","sortable","","columnsSizable","","multiSelect","","viewportMode","auto","nodataholder","Pas de donn\xe9es",3,"rows","columns","columnSizeChanged"],["bigNews",""],["columnsSortable","","multiSelect","","columnsSizable","","sortable","","maxHeight","auto","nodataholder","No datas","placeholder","Filter by name","searchField","name","valueField","guid",1,"flex65p",3,"rows","columns"],["bigPeople",""],[1,"flex30p","flexOffset2rl"],["id","vptitle"],[4,"ngFor","ngForOf"],[1,"vpinfoname"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-tab-group",0),m["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabIndex=e.index})),m["\u0275\u0275element"](1,"mat-tab",1),m["\u0275\u0275element"](2,"mat-tab",2),m["\u0275\u0275element"](3,"mat-tab",3),m["\u0275\u0275element"](4,"mat-tab",4),m["\u0275\u0275element"](5,"mat-tab",5),m["\u0275\u0275element"](6,"mat-tab",6),m["\u0275\u0275element"](7,"mat-tab",7),m["\u0275\u0275element"](8,"mat-tab",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](9,Ke,5,0,"deja-dialog",9),m["\u0275\u0275template"](10,qe,2,1,"mat-card",10),m["\u0275\u0275template"](11,Ue,123,4,"div",9),m["\u0275\u0275template"](12,Ye,34,10,"div",9),m["\u0275\u0275template"](13,et,37,13,"div",9),m["\u0275\u0275template"](14,ot,27,8,"div",9),m["\u0275\u0275template"](15,pt,26,6,"div",9),m["\u0275\u0275template"](16,wt,26,9,"div",9),m["\u0275\u0275template"](17,Et,27,5,"div",9)),2&e&&(m["\u0275\u0275property"]("selectedIndex",t.tabIndex),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("ngIf",t.dialogVisible),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",0===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",1===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",2===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",3===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",4===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",5===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",6===t.tabIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",7===t.tabIndex))},directives:[i.b,i.a,l.n,Fe.a,Re.a,a.a,Be.a,s.a,a.c,_e,d.c,Te,d.b,De.a,De.c,o.a,l.m],pipes:[l.h,l.b],styles:['grid-demo .demo-card .flexLayout{display:flex}grid-demo .demo-card .flexLayout.flexColumn{flex-direction:column}grid-demo .demo-card .flexLayout .flex30p{flex:0 0 30%;overflow:hidden}grid-demo .demo-card .flexLayout .flex45p{flex:0 0 45%;overflow:hidden}grid-demo .demo-card .flexLayout .flex65p{flex:0 0 65%;overflow:hidden}grid-demo .demo-card .flexLayout .flex500{flex:0 0 500px;overflow:hidden}grid-demo .demo-card .flexLayout .flex600{flex:0 0 600px;overflow:hidden}grid-demo .demo-card .flexLayout .flexOffset2rl{padding-left:2rem}grid-demo .demo-card deja-grid{min-height:8rem;max-height:600px;width:97%}grid-demo .demo-card deja-grid .listitem .color{border-radius:50%;width:1.5rem;height:1.5rem;margin:.35rem}grid-demo .demo-card deja-grid .listitem .loading{margin:.35rem}grid-demo .demo-card deja-grid [matPrefix]{cursor:default;padding:0 4px}grid-demo .demo-card deja-grid [matSuffix]{padding:0 4px;display:flex;justify-content:flex-end;cursor:pointer}grid-demo .demo-card .listContainer{display:flex;flex-direction:column;overflow:hidden}grid-demo .demo-card .listContainer deja-grid{flex:1 1 auto;margin:1rem 0}grid-demo .demo-card .listContainer deja-grid .listitem.odd deja-grid-row{background-color:rgba(0,0,0,.07)}grid-demo .demo-card #news .cell-wrapper[colname=urlToImage] .logo,grid-demo .demo-card #variable .cell-wrapper[colname=urlToImage] .logo{max-width:100%;max-height:100%;width:auto;height:auto;-o-object-fit:contain;object-fit:contain}grid-demo .demo-card #news .cell-wrapper[colname="p1.p2.person.about"] .cell,grid-demo .demo-card #news .cell-wrapper[colname="p1.p2.person.address"] .cell,grid-demo .demo-card #news .cell-wrapper[colname=about] .cell,grid-demo .demo-card #news .cell-wrapper[colname=address] .cell,grid-demo .demo-card #news .cell-wrapper[colname=description] .cell,grid-demo .demo-card #variable .cell-wrapper[colname="p1.p2.person.about"] .cell,grid-demo .demo-card #variable .cell-wrapper[colname="p1.p2.person.address"] .cell,grid-demo .demo-card #variable .cell-wrapper[colname=about] .cell,grid-demo .demo-card #variable .cell-wrapper[colname=address] .cell,grid-demo .demo-card #variable .cell-wrapper[colname=description] .cell{white-space:normal}grid-demo .demo-card #dropArea{overflow:hidden}grid-demo .demo-card deja-splitter split-area deja-grid{padding:0 1rem;height:400px}'],encapsulation:2}),e})()},{path:"**",redirectTo:"",pathMatch:"full"}]);n.d(t,"DejaGridDemoModule",(function(){return It}));let It=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[p.v],imports:[[l.c,r.FormsModule,a.d,o.b,i.c,s.b,Fe.b,d.a,Me,Ve.a,Re.b,De.b,jt]]}),e})()}}]);