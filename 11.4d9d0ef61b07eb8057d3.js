(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0+Qo":function(e,t,n){},KBFj:function(e,t,n){"use strict";var o=n("n6gG"),r=n("CcnG"),i=(n("fYS1"),n("bne5")),u=n("K9Ia"),s=n("p0ib"),c=n("jvbL"),l=n("VnD/"),a=n("P6uZ"),m=n("ny24"),h=n("T1DM");function f(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}f.prototype=Object.create(Error.prototype);var p=f,b=n("mrSG"),g=n("VGuC"),d=n("MGBS"),y=n("zotm"),v=function(){function e(e,t,n,o){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=o}return e.prototype.call=function(e,t){return t.subscribe(new C(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),C=function(e){function t(t,n,o,r,i){var u=e.call(this,t)||this;return u.absoluteTimeout=n,u.waitFor=o,u.withObservable=r,u.scheduler=i,u.action=null,u.scheduleTimeout(),u}return b.__extends(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(y.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(d.a),L=n("XlPw");n("0+Qo"),n.d(t,"a",function(){return w});var w=function(){function e(e,t,n){var o=this;this.changeDetectorRef=t,this.clipboardService=n,this.columnSizeChanged=new r.EventEmitter,this.columnLayoutChanged=new r.EventEmitter,this.columnHeaderClicked=new r.EventEmitter,this.columnDragEnd=new r.EventEmitter,this._columnsDraggable=!1,this._columnsSortable=!1,this._columnsSizable=!1,this._columnLayout={},this.backupColumnOrder=[],this.columnGroupKey="deja-grid-column",this.isAlive=!0;var f=e.nativeElement;Object(i.a)(f,"mousedown").pipe(Object(c.a)(function(){return o.isAlive}),Object(l.a)(function(e){return 1===e.buttons})).subscribe(function(e){var t,n=e.target,r=o.getColumnFromHTMLElement(e.target);if(n.hasAttribute("separator")){if(o.columnsSizable&&!1!==r.sizeable){o._sizedColumn=r;var c=e.screenX,l=new u.a,b=Object(i.a)(f.ownerDocument,"mouseup");return b.pipe(Object(a.a)()).subscribe(function(){o.columnSizeChanged.emit({column:null}),o.changeDetectorRef.markForCheck(),o._sizedColumn=void 0}),Object(i.a)(f.ownerDocument,"mousemove").pipe(Object(m.a)(Object(s.a)(b,l))).subscribe(function(e){1===e.buttons?(o.columnSizeChanged.emit({column:o._sizedColumn,offsetWidth:e.screenX-c,originalEvent:e}),o.changeDetectorRef.markForCheck()):l.next()}),e.stopPropagation(),!1}}else{var d=r;Object(i.a)(f,"mouseup").pipe(Object(a.a)(),(1e3,void 0===t&&(t=h.a),function(e,t,n){return void 0===n&&(n=h.a),function(e){var o=Object(g.a)(1e3),r=o?1e3-n.now():Math.abs(1e3);return e.lift(new v(r,o,t,n))}}(0,Object(L.a)(new p),t))).subscribe(function(e){var t=o.getColumnElementFromHTMLElement(e.target);if((t&&t.getAttribute("colname"))===d.name){var n=+t.getAttribute("index");o.columnHeaderClicked.emit({column:d,originalEvent:e,index:n}),o.changeDetectorRef.markForCheck()}},function(e){})}})}return Object.defineProperty(e.prototype,"columnsDraggable",{get:function(){return this._columnsDraggable},set:function(e){this._columnsDraggable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnsSortable",{get:function(){return this._columnsSortable},set:function(e){this._columnsSortable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizedColumn",{get:function(){return this._sizedColumn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnsSizable",{get:function(){return this._columnsSizable},set:function(e){this._columnsSizable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){return this._columnLayout},set:function(e){this._columnLayout=e||{columns:[],scrollLeft:0,vpAfterWidth:0,vpBeforeWidth:0,refresh$:new u.a},this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnHeaderTemplate",{get:function(){return this.columnHeaderTemplateExternal||this.columnHeaderTemplateInternal},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.isAlive=!1},e.prototype.refresh=function(){this.changeDetectorRef.markForCheck()},e.prototype.getDragContext=function(e){var t=this;return this.clipboardService&&(this.columnsDraggable||this.columnsSortable)&&!1!==e.draggable?{dragendcallback:function(n){n.dragInfo.hasOwnProperty(t.columnGroupKey)&&(e.dragged=!1,t.backupColumnOrder=[],t.columnDragEnd.emit(),t.changeDetectorRef.markForCheck())},dragstartcallback:function(n){t._sizedColumn?n.preventDefault():(n.dragInfo[t.columnGroupKey]=e,e.dragged=!0,t.backupColumnOrder=t._columnLayout.columns.map(function(e){return e}))}}:null},e.prototype.getDropContext=function(){var e=this;if(!this.clipboardService)return null;var t=function(t){if(e.columnsSortable&&t.dragInfo.hasOwnProperty(e.columnGroupKey)){var n=e.getColumnElementFromHTMLElement(t.target),o=n&&n.getBoundingClientRect(),r=n&&+n.getAttribute("index");if(void 0!==r){var i=t.dragInfo[e.columnGroupKey],u=e._columnLayout.columns.findIndex(function(e){return e===i});if(u!==r){if(r===u+1){if(t.x<=o.left+o.width/2)return void t.preventDefault()}else if(r===u-1&&t.x>=o.left+o.width/2)return void t.preventDefault();e.columnLayoutChanged.emit({column:i,index:u,originalEvent:t,target:e._columnLayout.columns[r],targetIndex:r}),t.preventDefault()}else t.preventDefault()}}};return{dragleavecallback:function(){e.backupColumnOrder.length&&(e._columnLayout.columns=e.backupColumnOrder.map(function(e){return e}))},dragentercallback:t,dragovercallback:t,dropcallback:t}},e.prototype.getColumnElementFromHTMLElement=function(e){for(var t=e;t&&!t.hasAttribute("colname");)e=t,t=t.parentElement;if(t)return t},e.prototype.getColumnFromHTMLElement=function(e){var t=this.getColumnElementFromHTMLElement(e),n=t&&t.getAttribute("colname");return n&&this._columnLayout.columns.find(function(e){return e.name===n})},e}()},"N/UG":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("fYS1"),r=n("0/uQ"),i=(n("0+Qo"),function(){function e(e){this.changeDetectorRef=e,this._columnLayout={}}return Object.defineProperty(e.prototype,"columnLayout",{get:function(){return this._columnLayout},set:function(e){var t=this;this.refresh$sub&&(this.refresh$sub.unsubscribe(),this.refresh$sub=void 0),this._columnLayout=e||{columns:[],scrollLeft:0,vpAfterWidth:0,vpBeforeWidth:0,refresh$:void 0},this._columnLayout.refresh$&&(this.refresh$sub=Object(r.a)(this._columnLayout.refresh$).subscribe(function(){return t.changeDetectorRef.markForCheck()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellTemplate",{get:function(){return this.cellTemplateExternal||this.cellTemplateInternal},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.refresh$sub&&this.refresh$sub.unsubscribe()},e.prototype.getCellText=function(e,t){return o.i.getItemText(e,t)},e}())},OJvb:function(e,t,n){},TBfx:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("fYS1"),r=(n("OJvb"),function(){function e(e){this.changeDetectorRef=e,this._columnLayout={}}return Object.defineProperty(e.prototype,"columnLayoutOfColumn0",{get:function(){return this._columnLayout.column0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayoutOfColumns",{get:function(){return this._columnLayout.columns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{set:function(e){var t=this,n=0;this._columnLayout.columns=[],e.forEach(function(e){t.getCellText(t.row,e.name)&&(0===t._columnLayout.column0&&(t._columnLayout.column0=n),t._columnLayout.columns.push({column:e,left:n})),n+=e.w}),this._columnLayout.column0=n,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellTemplate",{get:function(){return this.cellTemplateExternal||this.cellTemplateInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentTitleTemplate",{get:function(){return this.parentTitleTemplateExternal||this.parentTitleTemplateInternal},enumerable:!0,configurable:!0}),e.prototype.getCellText=function(e,t){return o.i.getItemText(e,t)},e}())},ZmAE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("fYS1"),r=function(){return function(e){var t=this;this.columnsWidth={},this.percentColumns=[],this.fixedColumns=[],this.responsiveColumns=[],this.totalFixedWidth=0,this.totalPercentWidth=0,e.forEach(function(e){var n=new o.p(e.width);if(void 0===n.value&&(n=new o.p(10,"%")),n.isInvalid())throw new Error("Invalid column width unit can be for example: 11px or 23%");if(n.unit&&"px"!==n.unit&&"%"!==n.unit)throw new Error("Column width unit can be only px or %");"%"===n.unit?(t.percentColumns.push(e),t.totalPercentWidth+=n.value):(t.fixedColumns.push(e),t.totalFixedWidth+=n.value),"number"!=typeof e.responsive&&!0!==e.responsive||t.responsiveColumns.push(e),t.columnsWidth[e.name]=n}),this.responsiveColumns.sort(function(e,t){return!0===e.responsive?1:!0===t.responsive?-1:+e.responsive-+t.responsive})}}()},dH7s:function(e,t,n){"use strict";n("0+Qo"),n("ZmAE"),n("mrSG"),n("fYS1"),n("OJvb"),n("yL1F"),n("KBFj"),n("TBfx"),n("N/UG"),n("iXFx"),n.d(t,"a",function(){return o});var o=function(){return function(){}}()},iXFx:function(e,t,n){"use strict";n.d(t,"a",function(){return L});var o=n("n6gG"),r=n("CcnG"),i=(n("6Rdh"),n("fYS1")),u=n("K9Ia"),s=n("S5bw"),c=n("dzgT"),l=n("0/uQ"),a=n("bne5"),m=n("gI3B"),h=n("jvbL"),f=n("67Y/"),p=n("15JJ"),b=n("xMyE"),g=n("Gi3i"),d=n("VnD/"),y=n("P6uZ"),v=n("ZmAE"),C=(n("KBFj"),function(){}),L=function(){function e(e,t,n){var o=this;this.changeDetectorRef=e,this.elementRef=t,this.clipboardService=n,this.minSearchLength=0,this.query="",this.maxHeight=0,this.pageSize=0,this.viewPortRowHeight=i.q.itemDefaultSize,this.viewportMode=i.s.fixed,this.columnsMinWidth=15,this.itemDragEnd=new r.EventEmitter,this.itemDragStart=new r.EventEmitter,this.selectedChange=new r.EventEmitter,this.columnLayoutChanged=new r.EventEmitter,this.columnSizeChanged=new r.EventEmitter,this.viewPortChanged=new r.EventEmitter,this.sortChanged=new r.EventEmitter,this.groupChanged=new r.EventEmitter,this.rowsWidth=null,this._columnLayout={scrollLeft:0,vpBeforeWidth:0,vpAfterWidth:0,columns:[],refresh$:new u.a},this.lastScrollLeft=0,this.printColumnLayout$=new u.a,this.disableUserSelection$=new u.a,this._noHorizontalScroll=!1,this.isAlive=!0,this.hasPercentageColumns=!1,this._sortable=!1,this._searchArea=!1,this._groupArea=!1,this._rowsDraggable=!1,this._rowsSortable=!1,this._columnsDraggable=!1,this._columnsSortable=!1,this._columnsSizable=!1,this._multiSelect=!1,this.noColumnsSpecified=!1,this.columnGroups$=new u.a,this.columns$=new s.a(1),this._columnGroups=[];var m=this.elementRef.nativeElement;this.clearColumnLayout(),Object(c.b)(this.columns$,this.columnGroups$).pipe(Object(h.a)(function(){return o.isAlive}),Object(f.a)(function(e){var t=e[0],n=e[1];if("string"==typeof n){var r=n.split(",").map(function(e){return e.trim()});return o._columnGroups=r.map(function(e){return t.find(function(t){return t.name===e})})}return o._columnGroups=n}),Object(f.a)(function(e){var t=[],n=o.treeListComponent.sortInfos;return e.forEach(function(e){var o={};n&&n.name===e.name&&(o.sortInfos=n),o.groupByField=e.groupByField||e.name,o.groupTextField=e.groupTextField||e.name,t.push(o)}),t}),Object(p.a)(function(e){return o.treeListComponent.group$(e).pipe(Object(f.a)(function(){return e}))})).subscribe(function(e){o.groupChanged.emit(e),o.changeDetectorRef.markForCheck()}),Object(l.a)(this.columns$).pipe(Object(h.a)(function(){return o.isAlive}),Object(b.a)(function(e){return o._columns=e}),Object(g.a)(1)).subscribe(function(){return o.calcColumnsLayout()}),Object(l.a)(this.printColumnLayout$).pipe(Object(h.a)(function(){return o.isAlive}),Object(g.a)(1e3)).subscribe(function(){console.log(""),console.log("Auto columns layout:"),console.log(JSON.stringify(o._columns,null,4)),console.log("")}),Object(l.a)(this.disableUserSelection$).pipe(Object(h.a)(function(){return o.isAlive}),Object(b.a)(function(){return m.setAttribute("disableselection","")}),Object(g.a)(1e3)).subscribe(function(){return m.removeAttribute("disableselection")}),Object(a.a)(window,"resize").pipe(Object(h.a)(function(){return o.isAlive}),Object(d.a)(function(){return o.hasPercentageColumns}),Object(g.a)(5)).subscribe(function(){o.calcColumnsLayout()}),Object(a.a)(m,"keydown").pipe(Object(h.a)(function(){return o.isAlive})).subscribe(function(e){switch(e.keyCode||i.j[e.code]){case i.j.LeftArrow:return o.currentColumn=o.columns&&function(e){for(-1===e&&(e=o.columns.length);--e>=0;){var t=o.columns[e];if(t.w>0)return t}return o.currentColumn}(o.columns.findIndex(function(e){return e.isCurrent})),e.preventDefault(),!1;case i.j.RightArrow:return o.currentColumn=o.columns&&function(e){for(;++e<o.columns.length;){var t=o.columns[e];if(t.w>0)return t}return o.currentColumn}(o.columns.findIndex(function(e){return e.isCurrent})),e.preventDefault(),!1;default:return!0}}),Object(a.a)(m,"mousedown").pipe(Object(h.a)(function(){return o.isAlive}),Object(d.a)(function(e){return 1===e.buttons})).subscribe(function(e){var t=o.getColumnFromHTMLElement(e.target);Object(a.a)(m,"mouseup").pipe(Object(y.a)(),Object(d.a)(function(){return!!t})).subscribe(function(e){var n=o.getColumnElementFromHTMLElement(e.target);(n&&n.getAttribute("colname"))===t.name&&(o.currentColumn=t)})})}return Object.defineProperty(e.prototype,"sortable",{get:function(){return this._sortable},set:function(e){this._sortable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroups",{get:function(){return this._columnGroups},set:function(e){this.columnGroups$.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noHorizontalScroll",{get:function(){return this._noHorizontalScroll},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchArea",{get:function(){return this._searchArea},set:function(e){this._searchArea=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupArea",{get:function(){return this._groupArea},set:function(e){if(this._groupArea=Object(o.b)(e),this._columnsSortable&&!this.clipboardService)throw new Error("To use the DejaGrid.groupArea feature, please import and provide the DejaClipboardService in your application.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowsDraggable",{get:function(){return this._rowsDraggable},set:function(e){this._rowsDraggable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowsSortable",{get:function(){return this._rowsSortable},set:function(e){this._rowsSortable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnsDraggable",{get:function(){return this._columnsDraggable},set:function(e){this._columnsDraggable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnsSortable",{get:function(){return this._columnsSortable},set:function(e){if(this._columnsSortable=Object(o.b)(e),this._columnsSortable&&!this.clipboardService)throw new Error("To use the DejaGrid.columnsSortable feature, please import and provide the DejaClipboardService in your application.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnsSizable",{get:function(){return this._columnsSizable},set:function(e){this._columnsSizable=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiSelect",{get:function(){return this._multiSelect},set:function(e){this._multiSelect=Object(o.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this.columns$.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},set:function(e){var t=this;if(this._rows=e,this._rows&&!this._columns)if(this._rows instanceof Array)this.calcColumnsLayout(this._rows);else{var n=this._rows;if(!n.subscribe){var o=this._rows;n=Object(l.a)(o)}this.viewPortChanged.pipe(Object(d.a)(function(e){return e&&e.items&&e.items.length>0}),Object(y.a)()).subscribe(function(e){return t.calcColumnsLayout(e.items)})}this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentColumn",{get:function(){return this.columns.find(function(e){return e.isCurrent})},set:function(e){this.columns.forEach(function(e){return e.isCurrent=!1}),e&&(e.isCurrent=!0,this.ensureColumnVisible(e)),this._columnLayout&&this._columnLayout.refresh$.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemListService",{get:function(){return this._itemListService||this.treeListComponent.itemListService},set:function(e){this._itemListService=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depthMax",{get:function(){return this.treeListComponent.depthMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewPort",{get:function(){return this.treeListComponent.viewPort},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchPrefixTemplate",{get:function(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchSuffixTemplate",{get:function(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowTemplate",{get:function(){return this.rowTemplateExternal||this.rowTemplateInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentRowTemplate",{get:function(){return this.parentRowTemplateExternal||this.parentRowTemplateInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellTemplate",{get:function(){return this._cellTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentTitleTemplate",{get:function(){return this._parentTitleTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnsHeaderTemplate",{get:function(){return this.headerTemplateExternal||this.headerTemplateInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnHeaderTemplate",{get:function(){return this.columnHeaderTemplateExternal||this._columnHeaderTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){return this._columnLayout},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.isAlive=!1},Object.defineProperty(e.prototype,"value",{get:function(){return this.rows},set:function(e){this.rows=e},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){this.treeListComponent&&this.treeListComponent.refresh(),this.columnLayout&&(this.hasPercentageColumns?this.calcColumnsLayout():this.columnLayout.refresh$.next()),this.changeDetectorRef.markForCheck()},e.prototype.refreshViewPort=function(e){this.treeListComponent.refreshViewPort(e)},e.prototype.clearRowsHeight=function(){this.treeListComponent&&this.treeListComponent.clearRowsHeight()},e.prototype.clearViewPort=function(){this.treeListComponent&&this.treeListComponent.clearViewPort()},e.prototype.ensureColumnVisible=function(e){if(void 0!==e&&this.columns&&0!==this.columns.length&&!this._noHorizontalScroll){var t=this.treeListComponent.listElement,n=t.scrollLeft,o=0;this.columns.find(function(t){if(e===t)return!0;o+=t.w}),o<n?t.scrollLeft=o:n<o+e.w-t.clientWidth&&(t.scrollLeft=o+e.w-t.clientWidth)}},e.prototype.scroll=function(e){this.lastScrollLeft!==e.scrollLeft&&(this.lastScrollLeft=e.scrollLeft,this.calcColumnsLayout())},e.prototype.sort=function(e){this.treeListComponent.sort(e)},e.prototype.sort$=function(e){return this.treeListComponent.sort$(e)},e.prototype.group$=function(e){return this.treeListComponent.group$(e)},e.prototype.ungroup$=function(e){return this.treeListComponent.ungroup$(e)},e.prototype.onColumnHeaderClicked=function(e){var t=this;if((!this.treeListComponent||this.sortable)&&!1!==e.column.sortable){var n=function(){e.column.sorting=!1,t.changeDetectorRef.markForCheck(),t.header.refresh()};e.column.sorting=!0,this.changeDetectorRef.markForCheck(),Object(m.a)(1).pipe(Object(y.a)(),Object(p.a)(function(){return t.sort$(e.column.name)})).subscribe(function(){n(),t.sortChanged.emit(t.treeListComponent.sortInfos)},function(e){throw n(),e.toString()})}},e.prototype.onColumnDragEnd=function(){this.columnLayout.refresh$.next()},e.prototype.onColumnLayoutChanged=function(e){this.columns.splice(e.index,1),e.target?this.columns.splice(e.targetIndex,0,e.column):this.columns.push(e.column),this.calcColumnsLayout(),this.ensureColumnVisible(e.column),this.columnLayoutChanged.emit(e),this.changeDetectorRef.markForCheck()},e.prototype.onColumnSizeChanged=function(e){if(this.columnsLayoutInfos)if(this.sizingLayoutInfos||(this.sizingLayoutInfos=this.columnsLayoutInfos),e.column){var t=this.sizingLayoutInfos.columnsWidth[e.column.name],n=e.column.minWidth||this.columnsMinWidth;if("%"===t.unit){var o=this.treeListComponent.listElement.clientWidth;e.column.width=Math.max(100*n/o,t.value+e.offsetWidth*this.sizingLayoutInfos.totalPercentWidth/(o-this.sizingLayoutInfos.totalFixedWidth)*2)+"%"}else e.column.width=Math.max(n,t.value+e.offsetWidth)+"px";this.calcColumnsLayout(),this.disableUserSelection$.next(),this.ensureSizingVisible(e.column),this.columnSizeChanged.emit(e)}else delete this.sizingLayoutInfos},e.prototype.onGroupRemoved=function(e){var t=e.item;this.treeListComponent.ungroup$({groupByField:t.groupByField||t.name,groupTextField:t.groupTextField||t.name}).pipe(Object(y.a)()).subscribe(C)},e.prototype.onGroupsChanged=function(e){this.columnGroups$.next(e.columns)},e.prototype.calcColumnsLayout=function(e){var t=this;if(this.noColumnsSpecified=!1,(!this._columns||!this._columns.length)&&e&&e.length){var n=function(e){return e.find(function(e){if(!e.$items)return!!e;var t=n(e.$items);return t?!!t:void 0})},o=n(e);o&&(this.noColumnsSpecified=!0,this._columns=Object.keys(o).map(function(e){return{label:e,name:e,width:"130px"}}))}if(this.noColumnsSpecified&&this.printColumnLayout$.next(),this.clearColumnLayout(),!this._columns||!this._columns.length)return this.header&&this.header.refresh(),void this._columnLayout.refresh$.next();var r=this.treeListComponent&&this.treeListComponent.listElement;if(r){this._columnLayout.scrollLeft=-this.lastScrollLeft;var i=-this.lastScrollLeft,u=r.clientWidth;this.columnsLayoutInfos=new v.a(this._columns),this._columns.forEach(function(e){return delete e.w});var s=function(){var e=0;t.columnsLayoutInfos.fixedColumns.filter(function(e){return 0!==e.w}).forEach(function(n){n.w=Math.max(n.minWidth||t.columnsMinWidth,t.columnsLayoutInfos.columnsWidth[n.name].value),e+=n.w}),t.columnsLayoutInfos.totalFixedWidth=e;var n=t.columnsLayoutInfos.percentColumns.filter(function(e){return 0!==e.w}),o=u-e;n.forEach(function(e){return o-=e.minWidth||t.columnsMinWidth});var r=o;return n.forEach(function(e){var n=e.minWidth||t.columnsMinWidth;if(o>0){var i=Math.floor(o*t.columnsLayoutInfos.columnsWidth[e.name].value/t.columnsLayoutInfos.totalPercentWidth);r-=i,n+=i}e.w=n}),r},c=s();c<0&&this.columnsLayoutInfos.responsiveColumns.length&&(this.columnsLayoutInfos.responsiveColumns.find(function(e){return c+=e.w,e.w=0,c>=0}),c=s()),this._noHorizontalScroll=c>=0,this.hasPercentageColumns=this.columnsLayoutInfos&&this.columnsLayoutInfos.percentColumns.length>0,this._columnLayout.vpBeforeWidth=0,this._columnLayout.vpAfterWidth=0;var l=0;this._columns.filter(function(e){return e.w>0}).forEach(function(e){l+=e.w,i>u?(t._columnLayout.vpAfterWidth+=e.w,i+=e.w):(i+=e.w)<0?t._columnLayout.vpBeforeWidth+=e.w:t._columnLayout.columns.push(e)}),this.rowsWidth=l>u?l:u,this.header&&this.header.refresh(),this._columnLayout.refresh$.next()}},e.prototype.ensureSizingVisible=function(e){if(void 0!==e&&this.columns&&0!==this.columns.length&&!this._noHorizontalScroll){var t=this.treeListComponent.listElement,n=t.scrollLeft,o=0;this.columns.find(function(t){if(e===t)return!0;o+=t.w}),o+e.w<n?t.scrollLeft=o+e.w:n<o+e.w-t.clientWidth&&(t.scrollLeft=o+e.w-t.clientWidth)}},e.prototype.clearColumnLayout=function(){this._columnLayout.scrollLeft=0,this._columnLayout.vpAfterWidth=0,this._columnLayout.vpBeforeWidth=0,this._columnLayout.columns=[]},e.prototype.getColumnElementFromHTMLElement=function(e){for(var t=e;t&&!t.hasAttribute("colname");)e=t,t=t.parentElement;if(t)return t},e.prototype.getColumnFromHTMLElement=function(e){var t=this.getColumnElementFromHTMLElement(e),n=t&&t.getAttribute("colname");return n&&this._columnLayout.columns.find(function(e){return e.name===n})},e}()},wmqg:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){return function(){}}()},yL1F:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("CcnG"),r=(n("fYS1"),function(){function e(e,t){this.changeDetectorRef=e,this.clipboardService=t,this.groupsChanged=new o.EventEmitter,this.groupRemoved=new o.EventEmitter,this._groups=[],this.columnGroupKey="deja-grid-column",this.groupGroupKey="deja-grid-group"}return Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},set:function(e){this._groups=e||[]},enumerable:!0,configurable:!0}),e.prototype.getDragContext=function(e){var t=this;return this.clipboardService?{dragendcallback:function(e){e.dragInfo.hasOwnProperty(t.columnGroupKey)},dragstartcallback:function(n){n.dragInfo[t.groupGroupKey]=e}}:null},e.prototype.getDropContext=function(){var e=this;if(!this.clipboardService)return null;var t=function(t){var n={column:t,columns:e.groups,originalEvent:event};e.groupsChanged.emit(n),event.preventDefault()},n=function(n){if(n.dragInfo.hasOwnProperty(e.columnGroupKey)){var o=n.dragInfo[e.columnGroupKey];e.groups.find(function(e){return e===o})||n.preventDefault()}else{if(!n.dragInfo.hasOwnProperty(e.groupGroupKey))return;var r=e.getGroupElementFromHTMLElement(n.target),i=r&&r.getAttribute("index")||null,u=null!==i?+i:null;if(null===u)return;var s=n.dragInfo[e.groupGroupKey],c=e.groups.findIndex(function(e){return e===s});if(c===u)return void n.preventDefault();e.groups.splice(c,1),e.groups.splice(u,0,s),t(s),e.changeDetectorRef.markForCheck(),n.preventDefault()}};return{dragentercallback:n,dragovercallback:n,dropcallback:function(n){if(n.dragInfo.hasOwnProperty(e.columnGroupKey)){var o=n.dragInfo[e.columnGroupKey],r=e.getGroupElementFromHTMLElement(n.target),i=r&&r.getAttribute("index")||null,u=null!==i?+i:null;if(null!==u){var s=r.getBoundingClientRect();n.x<=s.left+s.width/2?e.groups.splice(u,0,o):u<e.groups.length-1?e.groups.splice(u+1,0,o):e.groups.push(o)}else e.groups.push(o);t(o)}else n.dragInfo.hasOwnProperty(e.groupGroupKey)&&t(o=n.dragInfo[e.groupGroupKey]);e.changeDetectorRef.markForCheck()}}},e.prototype.removeGroup=function(e){return this.groupRemoved.emit(e),e.stopPropagation(),!1},e.prototype.getGroupElementFromHTMLElement=function(e){for(var t=e;t&&!t.hasAttribute("groupname");)e=t,t=t.parentElement;if(t)return t},e}())}}]);