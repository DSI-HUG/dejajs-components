"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[655],{559:(M,v,o)=>{o.d(v,{t:()=>D});var p=o(273),t=o(1733);class D extends p.x{constructor(s=1/0,d=1/0,u=t.l){super(),this._bufferSize=s,this._windowTime=d,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=d===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,d)}next(s){const{isStopped:d,_buffer:u,_infiniteTimeWindow:f,_timestampProvider:a,_windowTime:c}=this;d||(u.push(s),!f&&u.push(a.now()+c)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const d=this._innerSubscribe(s),{_infiniteTimeWindow:u,_buffer:f}=this,a=f.slice();for(let c=0;c<a.length&&!s.closed;c+=u?1:2)s.next(a[c]);return this._checkFinalizedStatuses(s),d}_trimBuffer(){const{_bufferSize:s,_timestampProvider:d,_buffer:u,_infiniteTimeWindow:f}=this,a=(f?1:2)*s;if(s<1/0&&a<u.length&&u.splice(0,u.length-a),!f){const c=d.now();let _=0;for(let C=1;C<u.length&&u[C]<=c;C+=2)_=C;_&&u.splice(0,_+1)}}}},1676:(M,v,o)=>{o.d(v,{V:()=>f});var p=o(5804),t=o(9947),D=o(2254),m=o(2937),s=o(7979),d=o(7613);function u(...a){const c=(0,d.jO)(a);return c?(0,s.z)(u(...a),(0,m.Z)(c)):(0,t.e)((_,C)=>{(0,p.l)([_,...(0,D.k)(a)])(C)})}function f(...a){return u(...a)}},7038:(M,v,o)=>{o.d(v,{d:()=>D});var p=o(559),t=o(3174);function D(m,s,d){var u,f;let a,c=!1;return m&&"object"==typeof m?(a=null!==(u=m.bufferSize)&&void 0!==u?u:1/0,s=null!==(f=m.windowTime)&&void 0!==f?f:1/0,c=!!m.refCount,d=m.scheduler):a=null!=m?m:1/0,(0,t.B)({connector:()=>new p.t(a,s,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},7029:(M,v,o)=>{o.d(v,{m:()=>f});var p=o(6019),t=o(9133),D=o(8167),m=o(138),s=o(8072),d=o(3668);o(2624);let f=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[p.ez,s.s,t.u5,D.lN,m.c]]}),a})()},2624:(M,v,o)=>{o.d(v,{X:()=>F});var p=o(348),t=o(3668),D=o(7656),m=o(5977),s=o(1175),d=o(7540);function u(g){(0,d.Z)(1,arguments);var l=(0,m.Z)(g),e=l.getFullYear(),n=l.getMonth(),i=new Date(0);return i.setFullYear(e,n+1,0),i.setHours(0,0,0,0),i.getDate()}function f(g,l){(0,d.Z)(2,arguments);var e=(0,m.Z)(g),n=(0,s.Z)(l),i=e.getFullYear(),r=e.getDate(),h=new Date(0);h.setFullYear(i,n,15),h.setHours(0,0,0,0);var T=u(h);return e.setMonth(n,Math.min(r,T)),e}function a(g,l){if((0,d.Z)(2,arguments),"object"!=typeof l||null===l)throw new RangeError("values parameter must be an object");var e=(0,m.Z)(g);return isNaN(e.getTime())?new Date(NaN):(null!=l.year&&e.setFullYear(l.year),null!=l.month&&(e=f(e,l.month)),null!=l.date&&e.setDate((0,s.Z)(l.date)),null!=l.hours&&e.setHours((0,s.Z)(l.hours)),null!=l.minutes&&e.setMinutes((0,s.Z)(l.minutes)),null!=l.seconds&&e.setSeconds((0,s.Z)(l.seconds)),null!=l.milliseconds&&e.setMilliseconds((0,s.Z)(l.milliseconds)),e)}var c=o(273),_=o(9463),C=o(5488),E=o(4753),b=o(6263),j=o(9133),A=o(8167),O=o(138),I=o(9270),Z=o(6019);const w=["hours"],R=["minutes"];let F=(()=>{class g extends D.yl{constructor(e,n){super(),this.changeDetectorRef=e,this.control=n,this.timeChange=new t.vpe,this.mode="fullTime",this.defaultPlaceholderHours="_ _",this.defaultPlaceholderMinutes="_ _",this.onHoursChange$=new c.x,this.onMinutesChange$=new c.x,this._step=1,this._disabled=!1,this._autoFocus=!0,this.onChangeCallback=i=>{},this.onTouchedCallback=()=>{},this.control&&(this.control.valueAccessor=this),this.onHoursChange$.pipe((0,_.b)(10),(0,C.x)(),(0,E.U)(i=>{let r=!1;if("object"==typeof i){const h=i.target.value;i=void 0!==h?parseInt(h,10):void 0,r=!0}return{hours:isNaN(i)?0:i,isEvent:r}}),(0,b.R)(this.destroyed$)).subscribe(({hours:i,isEvent:r})=>{var h;const T=null===(h=this.value)||void 0===h?void 0:h.getTime(),y=T?new Date(T):a(new Date,{hours:0,minutes:0,seconds:0});y.setHours(i),this.value=y,this.changeDetectorRef.markForCheck(),r&&this._autoFocus&&(this.minutes.nativeElement.focus({preventScroll:!0}),this.minutes.nativeElement.select())}),this.onMinutesChange$.pipe((0,_.b)(10),(0,C.x)(),(0,E.U)(i=>{if("object"==typeof i){const r=i.target.value;i=void 0!==r?parseInt(r,10):void 0}return isNaN(i)?0:i}),(0,b.R)(this.destroyed$)).subscribe(i=>{var r;const h=null===(r=this.value)||void 0===r?void 0:r.getTime(),T=h?new Date(h):a(new Date,{hours:0,minutes:0,seconds:0});i<0?i+=60:i>=60&&(i-=60),T.setMinutes(i),this.value=T,this.changeDetectorRef.markForCheck()})}set autoFocus(e){this._autoFocus=(0,p.Ig)(e)}set time(e){this.writeValue(e)}get time(){return this.value}set step(e){this._step=(0,p.su)(e),this.changeDetectorRef.markForCheck()}get step(){return this._step}set disabled(e){this._disabled=(0,p.Ig)(e),this.changeDetectorRef.markForCheck()}get disabled(){return this._disabled}onKeyDown(e,n){var i,r;const h="hours"===n?this.hours.nativeElement:this.minutes.nativeElement;if("d"===(null===(i=e.key)||void 0===i?void 0:i.toLowerCase()))e.stopPropagation(),e.preventDefault(),this.value=new Date;else if("a"===(null===(r=e.key)||void 0===r?void 0:r.toLowerCase())&&e.ctrlKey)h.select();else if(e.key&&!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Backspace","Delete","Tab","Enter","Control","Shift"].includes(e.key)){const T="hours"===n?/^(\d|[01]\d|2[0123])$/:/^(\d|[012345]\d)$/,[y,L]=[h.selectionStart,h.selectionEnd].sort((U,K)=>U-K),W=L-y,k=Array.from(h.value||"");k.splice(y,W,e.key);const P=k.join("");T.test(P)?this._autoFocus&&"hours"===n&&(parseFloat(P)>=3||2===P.length)&&this.onHoursChange$.next(e):(e.stopPropagation(),e.preventDefault())}}onClick(e){this._autoFocus&&("hours"===e?this.hours.nativeElement.select():this.minutes.nativeElement.select())}set value(e){e!==this._value&&(this.writeValue(e),this.onChangeCallback(e),this.timeChange.emit(e))}get value(){return this._value}writeValue(e){(e||null)!==(this._value||null)&&(this._value=e&&e instanceof Date?new Date(e.getTime()):null,this.changeDetectorRef.markForCheck())}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}}return g.\u0275fac=function(e){return new(e||g)(t.Y36(t.sBO),t.Y36(j.a5,10))},g.\u0275cmp=t.Xpm({type:g,selectors:[["deja-time-picker"]],viewQuery:function(e,n){if(1&e&&(t.Gf(w,5),t.Gf(R,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.hours=i.first),t.iGM(i=t.CRH())&&(n.minutes=i.first)}},inputs:{mode:"mode",autoFocus:"autoFocus",defaultPlaceholderHours:"defaultPlaceholderHours",defaultPlaceholderMinutes:"defaultPlaceholderMinutes",time:"time",step:"step",disabled:"disabled"},outputs:{timeChange:"timeChange"},features:[t.qOj],decls:12,vars:24,consts:[["appearance","outline",1,"hours"],["matInput","","type","text","autocomplete","off",3,"ngModel","disabled","maxLength","placeholder","change","keydown","click"],["hours",""],[3,"increment","decrement"],[1,"time-separator"],["appearance","outline",1,"minutes"],["minutes",""]],template:function(e,n){1&e&&(t.TgZ(0,"mat-form-field",0),t.TgZ(1,"input",1,2),t.NdJ("change",function(r){return n.onHoursChange$.next(r)})("keydown",function(r){return n.onKeyDown(r,"hours")})("click",function(){return n.onClick("hours")}),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"deja-numeric-stepper",3),t.NdJ("increment",function(){return n.onHoursChange$.next(((null==n.value?null:n.value.getHours())||0)+1)})("decrement",function(){return n.onHoursChange$.next(((null==n.value?null:n.value.getHours())||0)-1)}),t.qZA(),t.qZA(),t.TgZ(5,"span",4),t._uU(6,":"),t.qZA(),t.TgZ(7,"mat-form-field",5),t.TgZ(8,"input",1,6),t.NdJ("change",function(r){return n.onMinutesChange$.next(r)})("keydown",function(r){return n.onKeyDown(r,"minutes")})("click",function(){return n.onClick("minutes")}),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"deja-numeric-stepper",3),t.NdJ("increment",function(){return n.onMinutesChange$.next(((null==n.value?null:n.value.getMinutes())||0)+n._step)})("decrement",function(){return n.onMinutesChange$.next(((null==n.value?null:n.value.getMinutes())||0)-n._step)}),t.qZA(),t.qZA()),2&e&&(t.Udp("display","minutesOnly"===n.mode?"none":"block"),t.ekj("disabled",n.disabled||"fullTimeWithHoursDisabled"===n.mode),t.xp6(1),t.Q6J("ngModel",t.xi3(3,18,null==n.value?null:n.value.getHours(),"2."))("disabled",n.disabled||"fullTimeWithHoursDisabled"===n.mode)("maxLength",2)("placeholder",n.defaultPlaceholderHours),t.xp6(4),t.Udp("display","minutesOnly"===n.mode||"hoursOnly"===n.mode?"none":"block"),t.xp6(2),t.Udp("display","hoursOnly"===n.mode?"none":"block"),t.ekj("disabled",n.disabled||"fullTimeWithMinutesDisabled"===n.mode),t.xp6(1),t.Q6J("ngModel",t.xi3(10,21,null==n.value?null:n.value.getMinutes(),"2."))("disabled",n.disabled||"fullTimeWithMinutesDisabled"===n.mode)("maxLength",2)("placeholder",n.defaultPlaceholderMinutes))},directives:[A.KE,O.Nt,j.Fj,j.JJ,j.On,I.g],pipes:[Z.JJ],styles:["deja-time-picker{display:flex;flex-direction:row;align-items:baseline;justify-content:center}deja-time-picker:not([inform]) .mat-form-field-wrapper{padding-bottom:0}deja-time-picker:not([inform]) .mat-form-field-wrapper .mat-form-field-infix{border-bottom:.7em solid transparent}deja-time-picker mat-form-field[deja-numeric-stepper-form-field]{width:48px}deja-time-picker .time-separator{width:4px;font-size:14.5px;line-height:17px;margin:0 8px}\n"],encapsulation:2,changeDetection:0}),g})()}}]);