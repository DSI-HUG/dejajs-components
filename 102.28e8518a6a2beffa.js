"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[102],{1102:(wt,Y,p)=>{p.r(Y),p.d(Y,{DejaTreeListDemoModule:()=>It});var M=p(9808),Z=p(3075),P=p(7423),Q=p(9224),O=p(7446),E=p(7322),N=p(5245),R=p(7531),H=p(3251),W=p(4594),A=p(2729),K=p(5395),e=p(5e3),g=p(1636),C=p(4968),j=p(9300),v=p(3900),b=p(5698),x=p(2722),D=p(8505),L=p(2181),S=p(3191);let oe=(()=>{class n extends g.yl{constructor(t,i,r){super(),this.clipboardService=i,this.draggable=null,this.draginfokey="draginfos",this.objectKey="object",this.elementKey="element",this.uuidKey="uuid";const s=t.nativeElement;(0,C.R)(s,"dragstart").pipe((0,j.h)(()=>!!this.context),(0,v.w)(d=>{var c,h;if(!i)throw new Error("To use the DejaDraggableDirective, please import and provide the DejaClipboardService in your application.");const o={};this.dragdropid=r.generate(),o[this.uuidKey]=this.dragdropid;const l=(null===(c=this.context)||void 0===c?void 0:c.object)||s;o[this.objectKey]=l,o[this.elementKey]=s,this.clipboardService.set(this.draginfokey,o);let u="notavailable";if(l&&(l.dragged=!0,u=JSON.stringify(u)),null===(h=this.context)||void 0===h?void 0:h.dragstartcallback){const m=d;m.dragInfo=o,m.dragObject=this.context.object,m.dragElement=s,this.context.dragstartcallback(m),d.dataTransfer.setData("text/plain",u),m.defaultPrevented&&d.preventDefault()}return(0,C.R)(s,"dragend").pipe((0,b.q)(1))}),(0,x.R)(this.destroyed$)).subscribe(d=>{var c;const h=this.clipboardService.get(this.draginfokey),o=null==h?void 0:h[this.objectKey];if(o&&delete o.dragged,(null===(c=this.context)||void 0===c?void 0:c.dragendcallback)&&h){const l=d;l.dragInfo=h,l.dragObject=o,l.dragElement=h[this.elementKey],this.context.dragendcallback(l),l.defaultPrevented&&d.stopPropagation()}this.clipboardService.clear(),this.dragdropid=void 0})}set context(t){this._context=t,this.draggable=!!t||null}get context(){return this._context}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(g.ST,8),e.Y36(g.KM))},n.\u0275dir=e.lG2({type:n,selectors:[["","deja-draggable",""]],hostVars:2,hostBindings:function(t,i){2&t&&e.uIk("draggable",i.draggable)("dragdropid",i.dragdropid)},inputs:{context:["deja-draggable","context"]},features:[e.qOj]}),n})(),B=(()=>{class n extends g.yl{constructor(t,i){super(),this.clipboardService=i,this.droppable=null,this.draginfokey="draginfos",this.objectKey="object",this.droppedKey="dropped",this.elementKey="element",this._allEvents=!1;let r=!1;const s=t.nativeElement,d=(0,C.R)(s,"dragenter").pipe((0,D.b)(()=>{if(!i)throw new Error("To use the DejaDroppableDirective, please import and provide the DejaClipboardService in your application.")}),(0,j.h)(()=>!(r||!this.context||!this.context.dragentercallback||!this.clipboardService.get(this.draginfokey))),(0,D.b)(()=>r=!0)),c=(0,C.R)(s,"dragleave").pipe((0,j.h)(()=>r&&!!this.context&&!!this.clipboardService.get(this.draginfokey)),(0,j.h)(u=>{const m=s.getBoundingClientRect();return!(u.x>=m.left&&u.x<=m.right&&u.y>=m.top&&u.y<=m.bottom)})),h=(0,C.R)(s,"drop").pipe((0,j.h)(()=>r&&!!this.context&&!!this.clipboardService.get(this.draginfokey))),o=(0,C.R)(s,"dragover").pipe((0,j.h)(()=>r)),l=d.pipe((0,L.b)(c,h),(0,D.b)(()=>r=!1));d.pipe((0,v.w)(u=>{const m=this.clipboardService.get(this.draginfokey),f=u;f.dragInfo=m,f.dragObject=u[this.objectKey],f.dragElement=s,f.itsMe=u[this.elementKey]===s,this.context.dragentercallback(f),f.defaultPrevented?(u.preventDefault(),u.dataTransfer.dropEffect="copy"):u.dataTransfer.dropEffect="none";const T=c.pipe((0,b.q)(1),(0,j.h)(()=>!!this.context.dragleavecallback),(0,D.b)(w=>{const y=new CustomEvent("DejaDragLeave",{cancelable:!0});this.context.dragleavecallback(y),y.defaultPrevented&&w.preventDefault()})),q=h.pipe((0,b.q)(1),(0,j.h)(()=>!!this.context.dropcallback),(0,D.b)(w=>{if(m){const y=w;y.dragInfo=m,y.dragObject=m[this.objectKey],y.dragElement=s,y.itsMe=m[this.elementKey]===s,this.context.dropcallback(y),y.defaultPrevented?(y.dragInfo[this.droppedKey]=!0,w.preventDefault(),u.dataTransfer.dropEffect="copy"):u.dataTransfer.dropEffect="none"}})),J=o.pipe((0,x.R)(l),(0,D.b)(w=>{if(!this._allEvents&&this.lastTarget&&this.lastTarget===w.target)this.lastAccept?(w.preventDefault(),u.dataTransfer.dropEffect="copy"):u.dataTransfer.dropEffect="none";else if(this.context.dragovercallback&&m){const y=w;y.dragInfo=m,y.dragObject=m[this.objectKey],y.dragElement=s,y.itsMe=m[this.elementKey]===s,this.context.dragovercallback(y),this.lastTarget=w.target,this.lastAccept=y.defaultPrevented,y.defaultPrevented?(w.preventDefault(),u.dataTransfer.dropEffect="copy"):u.dataTransfer.dropEffect="none"}}));return q.pipe((0,L.b)(J,T))}),(0,x.R)(this.destroyed$)).subscribe(u=>{})}set allEvents(t){this._allEvents=(0,S.Ig)(t)}set context(t){this._context=t,this.droppable=!!t||null}get context(){return this._context}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(g.ST,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","deja-droppable",""]],hostVars:1,hostBindings:function(t,i){2&t&&e.uIk("droppable",i.droppable)},inputs:{allEvents:["continous-dragover","allEvents"],context:["deja-droppable","context"]},features:[e.qOj]}),n})(),G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var z=p(9623),F=p(1135),I=p(4004),_=p(9646),$=p(7579),le=p(1884),U=p(9009);let X=(()=>{class n extends g.yl{constructor(){super(),this.dragCursor$=new F.X(null),this.dropCursor$=new F.X(null),this.dragging$=new F.X(!1),this._context={},this._isDragging=!1,console.warn("@deja-js/component/mouse-dragdrop is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/mouse-dragdrop."),this.dragging$.pipe((0,D.b)(t=>this._isDragging=t),(0,j.h)(t=>!t),(0,x.R)(this.destroyed$)).subscribe(()=>this._context={})}get isDragging(){return this._isDragging}set context(t){this._context=t}get context(){return this._context}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),de=(()=>{class n extends g.yl{constructor(t,i){super();const r=t.nativeElement,s=(0,C.R)(r,"mouseleave"),d=(0,C.R)(r,"mouseenter"),c=(0,C.R)(r.ownerDocument,"mouseup"),h=(0,C.R)(r,"mousedown"),o=(0,C.R)(r.ownerDocument,"mousemove");d.pipe((0,j.h)(()=>!i.isDragging),(0,v.w)(()=>h.pipe((0,j.h)(l=>1===l.buttons),(0,x.R)(s),(0,v.w)(l=>{let u;const m=f=>f.tagName===this.context.target.toUpperCase()||f.id===this.context.target.substr(1)||f.hasAttribute(this.context.target.substring(1,this.context.target.length-1));if(this.context){if(this.context.target)for(u=l.target;u&&!m(u);)u=u.parentElement;else u=r;if(u&&this.context.dragStart){const f=this.context.dragStart(u);if(f)return f.subscribe?f.pipe((0,b.q)(1),(0,I.U)(q=>(i.context=q,q&&u))):(i.context=f,(0,_.of)(u))}}return(0,_.of)(null)}),(0,j.h)(l=>!!l),(0,v.w)(l=>{i.dragging$.next(!0);const u=new $.x,m=d.pipe((0,j.h)(T=>1!==T.buttons&&i.isDragging)),f=c.pipe((0,L.b)(m,u),(0,b.q)(1),(0,D.b)(()=>{i.dragCursor$.next(null),i.dragging$.next(!1)}));return o.pipe((0,x.R)(f),(0,D.b)(T=>{if(l&&1===T.buttons){const q=new U.UL(r.getBoundingClientRect()),J=new U.Ly(T.pageX,T.pageY),w=q.containsPoint(J)?l.innerHTML:void 0;i.dragCursor$.next({position:J,html:w,originalHtml:l.innerHTML,width:l.offsetWidth,height:l.offsetHeight,className:this.context.className,originalEvent:T})}else u.next();return!1}))}))),(0,x.R)(this.destroyed$)).subscribe()}set context(t){this._context=t}get context(){return this._context}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(X))},n.\u0275dir=e.lG2({type:n,selectors:[["","deja-mouse-draggable",""]],inputs:{context:["deja-mouse-draggable","context"]},features:[e.qOj]}),n})(),ce=(()=>{class n extends g.yl{constructor(t,i){super();const r=t.nativeElement,s=i.dragging$.pipe((0,le.x)()),d=i.dragCursor$.pipe((0,j.h)(c=>!!c),(0,v.w)(c=>s.pipe((0,j.h)(h=>!h),(0,b.q)(1),(0,D.b)(()=>{var h;this._dragContext&&(null===(h=this.context)||void 0===h?void 0:h.drop)&&this.context.drop(this._dragContext,c),this._dragContext=void 0,i.dropCursor$.next(null)}))));s.pipe((0,j.h)(c=>c),(0,v.w)(()=>i.dragCursor$.pipe((0,x.R)(d),(0,v.w)(c=>{var h;const o=new U.UL(r.getBoundingClientRect());if(this.context&&c){const{pageX:l,pageY:u}=c.originalEvent;if(o.containsPoint(new U.Ly(l,u))){if(this._dragContext){if(this.context.dragOver){const m=this.context.dragOver(this._dragContext,c);if(m)return(0,_.of)(m)}}else if(this._dragContext=i.context,this.context.dragEnter){const m=this.context.dragEnter(this._dragContext,c);if(m){const f=m;return f.subscribe?f:(0,_.of)(m)}}}else this._dragContext&&((null===(h=this.context)||void 0===h?void 0:h.dragLeave)&&this.context.dragLeave(this._dragContext),this._dragContext=void 0,i.dropCursor$.next(null))}return(0,_.of)(null)}))),(0,j.h)(c=>!!c),(0,x.R)(this.destroyed$)).subscribe(c=>i.dropCursor$.next(c))}set context(t){this._context=t}get context(){return this._context}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(X))},n.\u0275dir=e.lG2({type:n,selectors:[["","deja-mouse-droppable",""]],inputs:{context:["deja-mouse-droppable","context"]},features:[e.qOj]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[N.Ps]]}),n})();var ee=p(5365),k=p(8372),te=p(2718),pe=p(5963);const me=["itemTemplate"],he=["parentItemTemplate"],ge=["loaderTemplate"],fe=["headerTemplate"],xe=["searchPrefixTemplate"],_e=["searchSuffixTemplate"],ve=["inputelement"],je=["listElement"];function be(n,a){}function Te(n,a){if(1&n&&(e.TgZ(0,"span",16),e.YNc(1,be,0,0,"ng-template",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchPrefixTemplate)}}function Ce(n,a){}function De(n,a){if(1&n&&(e.TgZ(0,"span",18),e.YNc(1,Ce,0,0,"ng-template",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchSuffixTemplate)}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",11)(1,"input",12,13),e.NdJ("input",function(){e.CHM(t);const r=e.MAs(3);return e.oxw(2).setQuery$.next(r&&r.value)}),e.qZA(),e.YNc(4,Te,2,1,"span",14),e.YNc(5,De,2,1,"span",15),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.query)("placeholder",t.placeholder)("disabled",t.disabled),e.xp6(3),e.Q6J("ngIf",t.searchPrefixTemplate),e.xp6(1),e.Q6J("ngIf",t.searchSuffixTemplate)}}function Ze(n,a){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,ye,6,5,"mat-form-field",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.searchArea)}}function Ie(n,a){}function we(n,a){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,Ie,0,0,"ng-template",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Ae(n,a){if(1&n&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.nodataholder)}}function Se(n,a){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.hintLabel)}}function Me(n,a){if(1&n&&e._UZ(0,"div"),2&n){const t=e.oxw();e.Udp("height",t.vpBeforeHeight,"px")}}function $e(n,a){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"arrow_drop_down"),e.qZA())}function Le(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(i.getTextValue(t))}}function Ue(n,a){}const ie=function(n,a,t){return{$implicit:n,query:a,flatindex:t}};function qe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ue,0,0,"ng-template",26),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,s=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",s.parentItemTemplate)("ngTemplateOutletContext",e.kEZ(2,ie,i,s.query,s.vpStartRow+r))}}function Ee(n,a){}function Ne(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ee,0,0,"ng-template",26),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,s=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",e.kEZ(2,ie,i,s.query,s.vpStartRow+r))}}function Re(n,a){if(1&n&&(e.TgZ(0,"div",23,24)(2,"span",25),e.YNc(3,$e,2,0,"mat-icon",7),e.qZA(),e.YNc(4,Le,2,1,"ng-container",7),e.YNc(5,qe,2,6,"ng-container",7),e.YNc(6,Ne,2,6,"ng-container",7),e.qZA()),2&n){const t=a.$implicit,i=a.index,r=e.oxw(2);e.Udp("width",r.itemsWidth,"px")("height",r.getItemHeight(t),"px"),e.Q6J("deja-draggable",r.getDragContext(r.vpStartRow+i)),e.uIk("class",r.getItemClass(t))("current",r.vpStartRow+i===r.currentItemIndex||null)("depth",r.depthMax?t.depth:null)("id",t.id||null)("flat",r.vpStartRow+i),e.xp6(3),e.Q6J("ngIf",null==t.$items?null:t.$items.length),e.xp6(1),e.Q6J("ngIf",(!t.$items||!r.parentItemTemplate)&&(t.$items||!r.itemTemplate)),e.xp6(1),e.Q6J("ngIf",t.$items&&r.parentItemTemplate),e.xp6(1),e.Q6J("ngIf",!t.$items&&r.itemTemplate)}}function Fe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Re,7,14,"div",22),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.treeItemList)}}function ke(n,a){if(1&n&&e._UZ(0,"div"),2&n){const t=e.oxw();e.Udp("height",t.vpAfterHeight,"px")}}function Je(n,a){1&n&&e._UZ(0,"deja-list-loader",27)}function Pe(n,a){}function Qe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Pe,0,0,"ng-template",17),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.loaderTemplate)}}let Oe=(()=>{class n extends A.ZE{constructor(t,i,r,s,d){super(t,i),this.viewPort=i,this.elementRef=r,this.control=s,this.clipboardService=d,this.scroll=new e.vpe,this.query="",this.itemsWidth=null,this.itemDragEnd=new e.vpe,this.itemDragStart=new e.vpe,this.selectedChange=new e.vpe,this.viewPortChanged=new e.vpe,this._disabled=null,this.setQuery$=new $.x,this._keyboardNavigation=!1,this.rangeStartIndex=0,this.filterExpression="",this._searchArea=!1,this._sortable=!1,this._itemsDraggable=!1,this.hasCustomService=!1,this.hasLoadingEvent=!1,this._modelIsValue=!1,this.keyboardNavigation$=new $.x,this.clearFilterExpression$=new F.X(null),this.writeValue$=new $.x,this.selectItems$=new $.x,this.contentInitialized$=new $.x,this.onTouchedCallback=()=>{},this.onChangeCallback=o=>{},console.warn("@deja-js/component/deja-tree-list is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/tree-list instead."),this.control&&(this.control.valueAccessor=this),this.clearFilterExpression$.pipe((0,k.b)(400),(0,x.R)(this.destroyed$)).subscribe(()=>this.filterExpression=""),this.keyboardNavigation$.pipe((0,D.b)(()=>this._keyboardNavigation=!0),(0,k.b)(1e3),(0,x.R)(this.destroyed$)).subscribe(()=>{this._keyboardNavigation=!1,this.changeDetectorRef.markForCheck()}),(0,C.R)(window,"resize").pipe((0,k.b)(5),(0,x.R)(this.destroyed$)).subscribe(()=>{this.viewPort.deleteSizeCache(),this.viewPort.refresh(),this.changeDetectorRef.markForCheck()}),this.setQuery$.pipe((0,k.b)(250),(0,v.w)(o=>(this.query=o,this.setCurrentItem(void 0),this.calcViewList$())),(0,x.R)(this.destroyed$)).subscribe();const c=this.selectItems$.pipe((0,te.V)(this.contentInitialized$),(0,I.U)(([o])=>o),(0,I.U)(o=>this.getVirtualSelectedEntities(o)),(0,I.U)(o=>o instanceof Array&&o||o&&[o]||[]),(0,D.b)(o=>super.setSelectedItems(o)));this.writeValue$.pipe((0,te.V)(this.contentInitialized$),(0,I.U)(([o])=>{if(void 0===this.modelIsValue)if(o instanceof Array){const l=o||[],u=l.length&&typeof l[0];this.modelIsValue="string"===u||"number"===u}else{const l=typeof o;this.modelIsValue=""===o||"string"===l||"number"===l}return this.modelIsValue&&(this.query=""),o}),(0,I.U)(o=>this.getVirtualSelectedEntities(o)),(0,D.b)(o=>super.setSelectedModels(!o||this._multiSelect||o instanceof Array?o:[o]))).pipe((0,L.b)(c),(0,x.R)(this.destroyed$)).subscribe(()=>{super.getItemListService().ensureSelection(),this.changeDetectorRef.markForCheck()}),this._viewPortChanged=this.viewPortChanged,this.maxHeight=0}set minSearchlength(t){this._minSearchLength=(0,S.su)(t)}get minSearchlength(){return this._minSearchLength}set listElememtRef(t){this.listElement=t.nativeElement}keyboardNavigation(){return this._keyboardNavigation}set searchArea(t){this._searchArea=(0,S.Ig)(t)}get searchArea(){return this._searchArea||this.minSearchlength>0}set modelIsValue(t){this._modelIsValue=(0,S.Ig)(t)}get modelIsValue(){return this._modelIsValue}set sortable(t){this._sortable=(0,S.Ig)(t)}get sortable(){return this._sortable}set itemsDraggable(t){this._itemsDraggable=(0,S.Ig)(t)}get itemsDraggable(){return this._itemsDraggable}set pageSize(t){this._pageSize=(0,S.su)(t)}get pageSize(){if(0===this._pageSize){const t=this.getViewPortRowHeight(),i=this.getMaxHeight()||this.listElement.clientHeight;return Math.floor(i/t)}return this._pageSize}set hintLabel(t){this.setHintLabel(t)}get hintLabel(){return this._hintLabel}set viewPortRowHeight(t){this.setViewPortRowHeight(t)}set viewportMode(t){this.setViewportMode(t)}set childrenField(t){super.setChildrenField(t)}get childrenField(){return this._childrenField}set textField(t){super.setTextField(t)}set valueField(t){super.setValueField(t)}set searchField(t){super.setSearchField(t)}get searchField(){return this._searchField}set maxHeight(t){super.setMaxHeight(t)}get maxHeight(){return this.getMaxHeight()}set currentItem(t){super.setCurrentItem(t),t&&this.ensureItemVisible(t)}get currentItem(){return super.getCurrentItem()}get depthMax(){return this._depthMax}set multiSelect(t){super.setMultiSelect((0,S.Ig)(t))}get multiSelect(){return this._multiSelect}set selectedItems(t){void 0!==t&&this.selectItems$.next(t)}get selectedItems(){return super.getSelectedItems()}set selectedItem(t){void 0!==t&&this.selectItems$.next(t)}get selectedItem(){const t=super.getSelectedItems();return null==t?void 0:t[0]}set selectedModel(t){void 0!==t&&this.writeValue(t)}get selectedModel(){const t=super.getSelectedModels();return null==t?void 0:t[0]}set selectedModels(t){void 0!==t&&this.writeValue(t)}get selectedModels(){return super.getSelectedModels()}set itemListService(t){void 0!==t&&(this.hasCustomService=!0,this.setItemListService(t),(null==t?void 0:t.lastQuery)&&(this.query=t.lastQuery.toString()))}get itemListService(){return this.getItemListService()}set sortingService(t){this.setSortingService(t)}set groupingService(t){this.setGroupingService(t)}set items(t){delete this.hintLabel,super.setItems$(t).pipe((0,v.w)(i=>this.minSearchlength>0&&!this.query?(this._itemList=[],this.changeDetectorRef.markForCheck(),(0,_.of)(i)):this.calcViewList$().pipe((0,I.U)(()=>i))),(0,x.R)(this.destroyed$)).subscribe()}set loadingItems(t){this.hasLoadingEvent=!!t,super.setLoadingItems(t)}set selectingItem(t){super.setSelectingItem(t)}set unselectingItem(t){super.setUnselectingItem(t)}set expandingItem(t){super.setExpandingItem(t)}set collapsingItem(t){super.setCollapsingItem(t)}set models(t){super.setModels$(t).pipe((0,b.q)(1),(0,v.w)(()=>this.calcViewList$()),(0,x.R)(this.destroyed$)).subscribe()}set disabled(t){const i=(0,S.Ig)(t);this._disabled=i||null,this.changeDetectorRef.markForCheck()}get disabled(){return this._disabled}set waiter(t){this._waiter=(0,S.Ig)(t)}get waiter(){return this._waiter}set inputValidatorDirective(t){t&&(t.parentControl=this.control)}set currentItemIndex(t){super.setCurrentItemIndex(t),this.changeDetectorRef.markForCheck()}get currentItemIndex(){return this.getCurrentItemIndex()}get itemTemplate(){return this.itemTemplateExternal||this.itemTemplateInternal}get parentItemTemplate(){return this.parentItemTemplateExternal||this.parentItemTemplateInternal}get loaderTemplate(){return this.loaderTemplateExternal||this.loaderTemplateInternal}get headerTemplate(){return this.headerTemplateExternal||this.headerTemplateInternal}get searchPrefixTemplate(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal}get searchSuffixTemplate(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal}get value(){return this._multiSelect?this.selectedItems:this.selectedItem}set value(t){this.writeValue(t),this.onChangeCallback(t),this.onTouchedCallback()}writeValue(t){this.writeValue$.next(t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}toggleAll$(t){return super.toggleAll$(t).pipe((0,v.w)(i=>this.calcViewList$().pipe((0,b.q)(1),(0,I.U)(()=>i))))}toggleAll(t){this.toggleAll$(t).pipe((0,b.q)(1),(0,x.R)(this.destroyed$)).subscribe()}ensureItemVisible(t){super.ensureItemVisible(t)}clearViewPort(){super.clearViewPort()}ngAfterContentInit(){var t;if(!this.items&&(null===(t=this.options)||void 0===t?void 0:t.length)){const i=[];this.valueField="value",this.textField="text";const r=this.options.map(s=>{const d={text:s.text,value:s.value};return s.selected&&i.push(d),d});this.models=r,i.length&&(this.selectedModels=i),r.length>100&&console.error("Select options with more than 100 items can have performance options. Please bind directly the items in code behind with items or models input.")}this.contentInitialized$.next(!0)}ngAfterViewInit(){0===this._itemList.length&&(this.hasCustomService||this.hasLoadingEvent)&&(0,pe.H)(1).pipe((0,b.q)(1),(0,v.w)(()=>this.calcViewList$()),(0,x.R)(this.destroyed$)).subscribe(),(0,C.R)(this.listElement,"scroll").pipe((0,I.U)(r=>{const s=r.target;return this.scroll.emit({originalEvent:r,scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),s.scrollTop}),(0,x.R)(this.destroyed$)).subscribe(r=>this.viewPort.scrollPosition$.next(r));let t=(0,C.R)(this.listElement,"keydown");if(this.input){const r=(0,C.R)(this.input.nativeElement,"keydown");t=t.pipe((0,L.b)(r))}t.pipe((0,j.h)(()=>!this.disabled),(0,j.h)(r=>{const s=r.code;return s===g.mW.Home||s===g.mW.End||s===g.mW.PageUp||s===g.mW.PageDown||s===g.mW.UpArrow||s===g.mW.DownArrow||s===g.mW.Space||s===g.mW.Enter}),(0,v.w)(r=>this.ensureListCaches$().pipe((0,v.w)(()=>{if(!this.rowsCount)return(0,_.of)(null);const s=T=>{this.currentItemIndex=T,this.ensureItemVisible(this.currentItemIndex),this.viewPort.refresh()},d=this.rangeStartIndex>=0?this.rangeStartIndex:this.rangeStartIndex=this.currentItemIndex;let c,h,o,l,u,m,f;switch(r.code){case g.mW.Home:return s(0),r.shiftKey?this.selectRange$(d,0):r.ctrlKey?(0,_.of)(-1):(this.rangeStartIndex=0,this.selectRange$(this.rangeStartIndex));case g.mW.End:return s(this.rowsCount-1),r.shiftKey?this.selectRange$(d,this.rowsCount-1):r.ctrlKey?(0,_.of)(-1):(this.rangeStartIndex=this.rowsCount-1,this.selectRange$(this.rangeStartIndex));case g.mW.PageUp:return c=Math.max(0,this.currentItemIndex-this._pageSize),s(c),r.shiftKey?this.selectRange$(d,c):r.ctrlKey?(0,_.of)(-1):(this.rangeStartIndex=c,this.selectRange$(this.rangeStartIndex));case g.mW.PageDown:return h=Math.min(this.rowsCount-1,this.currentItemIndex+this._pageSize),s(h),r.shiftKey?this.selectRange$(d,h):r.ctrlKey?(0,_.of)(-1):(this.rangeStartIndex=h,this.selectRange$(this.rangeStartIndex));case g.mW.UpArrow:if(o=Math.max(0,this.currentItemIndex-1),-1!==o){if(s(o),r.shiftKey)return this.selectRange$(d,o);if(!r.ctrlKey)return this.rangeStartIndex=o,this.selectRange$(this.rangeStartIndex)}return(0,_.of)(-1);case g.mW.DownArrow:if(l=Math.min(this.rowsCount-1,this.currentItemIndex+1),-1!==l){if(s(l),r.shiftKey)return this.selectRange$(d,l);if(!r.ctrlKey)return this.rangeStartIndex=l,this.selectRange$(this.rangeStartIndex)}return(0,_.of)(-1);case g.mW.Space:return u=r.target,"INPUT"!==u.tagName||r.ctrlKey||r.shiftKey?(f=this.currentItem,f?this.isCollapsible(f)?this.toggleCollapse$(d,!f.collapsed):f.selected?this.toggleSelect$([f],!1):this.multiSelect&&r.ctrlKey?this.toggleSelect$([f],!f.selected):this.unselectAll$().pipe((0,v.w)(()=>this.toggleSelect$([f],!0))):(0,_.of)(-1)):(0,_.of)(null);case g.mW.Enter:if(m=this.currentItem,m){if(this.isCollapsible(m))return this.toggleCollapse$(d,!m.collapsed);if(this.isSelectable(m))return this.unselectAll$().pipe((0,v.w)(()=>this.toggleSelect$([m],!0)))}return(0,_.of)(-1);default:return(0,_.of)(null)}}),(0,I.U)(s=>{if(null!==s)return this.keyboardNavigation$.next(),this.changeDetectorRef.markForCheck(),r.preventDefault(),!1}))),(0,x.R)(this.destroyed$)).subscribe();let i=(0,C.R)(this.listElement,"keyup");if(this.input){const r=(0,C.R)(this.input.nativeElement,"keyup"),s=(0,C.R)(this.input.nativeElement,"drop");i=i.pipe((0,L.b)(r,s))}i.pipe((0,j.h)(()=>!this.disabled),(0,D.b)(()=>{(this.query||"").length<this.minSearchlength&&(this._itemList=[])}),(0,j.h)(r=>{const s=r.code;return s>=g.mW.Key0||s===g.mW.Backspace||s===g.mW.Space||s===g.mW.Delete}),(0,v.w)(r=>{if(this.searchArea)this.keyboardNavigation$.next();else if(/[a-zA-Z0-9]/.test(r.key)){this.clearFilterExpression$.next(null),this.filterExpression+=r.key;const s=new RegExp(`^${this.filterExpression}`,"i");return this.findNextMatch$(d=>{if(d&&this.isSelectable(d)){const c=this.getTextValue(d);if(s.test(c))return!0}return r.preventDefault(),!1},this.currentItemIndex)}return(0,_.of)(null)}),(0,j.h)(r=>(null==r?void 0:r.index)>=0),(0,x.R)(this.destroyed$)).subscribe(r=>{this.currentItemIndex=r.index,this.ensureItemVisible(this.currentItemIndex)}),this.viewPort.element$.next(this.listElement)}mousedown(t){if(this.mouseUp$sub&&(this.mouseUp$sub.unsubscribe(),this.mouseUp$sub=void 0),this.disabled)return;const i=t.target,r=this.getItemIndexFromHTMLElement(i);if(void 0===r)return;const s=c=>"expandbtn"===c.id||"expandbtn"===c.parentElement.id,d=this._itemList[r-this.vpStartRow];if(this.clickedItem=d,(!s(i)||!this.isCollapsible(d))&&this.isSelectable(d)&&(!t.ctrlKey||!this.multiSelect)&&(0===t.button||!d.selected)){if(t.shiftKey&&this.multiSelect)return this.selectRange$(r,this.currentItemIndex).pipe((0,b.q)(1),(0,x.R)(this.destroyed$)).subscribe(()=>this.changeDetectorRef.markForCheck()),!1;if(!t.ctrlKey){if(!this.multiSelect&&d.selected)return;this.unselectAll$().pipe((0,b.q)(1),(0,v.w)(()=>(this.currentItemIndex=r,this.toggleSelect$([d],!0))),(0,b.q)(1),(0,x.R)(this.destroyed$)).subscribe(()=>this.changeDetectorRef.markForCheck())}}this.mouseUp$sub=(0,C.R)(this.listElement,"mouseup").pipe((0,b.q)(1),(0,j.h)(()=>!this.disabled),(0,v.w)(c=>{this.mouseUp$sub=void 0;const h=c.target,o=this.getItemIndexFromHTMLElement(h);if(void 0===o)return(0,_.of)(null);const l=this._itemList[o-this.vpStartRow];return this.clickedItem&&l!==this.clickedItem||c.shiftKey||0!==c.button?(0,_.of)(null):!this.isCollapsible(l)||!s(h)&&this.isSelectable(l)?c.ctrlKey?this.multiSelect?this.toggleSelect$([l],!l.selected).pipe((0,I.U)(()=>o)):(this.selectedItem&&this.selectedItem!==l?this.toggleSelect$([this.selectedItem],!1).pipe((0,v.w)(()=>this.toggleSelect$([l],!0))):this.toggleSelect$([l],!l.selected)).pipe((0,I.U)(()=>o)):(this.rangeStartIndex=-1,(0,_.of)(null)):this.toggleCollapse$(o,!l.collapsed).pipe((0,I.U)(()=>o))}),(0,j.h)(c=>null!==c),(0,x.R)(this.destroyed$)).subscribe(c=>{this.currentItemIndex=c,this.changeDetectorRef.markForCheck()})}getDragContext(t){return this.clipboardService&&(this.sortable||this.itemsDraggable)?{dragendcallback:i=>{this.itemDragEnd.emit(i),delete this._ddStartIndex,delete this._ddTargetIndex,this.calcViewList$().pipe((0,b.q)(1),(0,x.R)(this.destroyed$)).subscribe()},dragstartcallback:i=>{const r=this.getItemIndexFromHTMLElement(i.target);void 0!==r&&(this._ddStartIndex=t,i.dragObject=this._itemList[r-this.vpStartRow],this.itemDragStart.emit(i))},object:{index:t}}:null}getDropContext(){if(!this.clipboardService||!this.sortable)return null;const t=i=>{if(void 0===this._ddStartIndex)return;const r=this.getItemIndexFromHTMLElement(i.target);void 0!==r&&(this.calcDragTargetIndex$(this._ddStartIndex,r).pipe((0,v.w)(s=>void 0!==s&&s!==this._ddTargetIndex?(this._ddTargetIndex=s,this.calcViewList$().pipe((0,b.q)(1),(0,I.U)(()=>s))):(0,_.of)(s)),(0,x.R)(this.destroyed$)).subscribe(),i.preventDefault())};return{dragentercallback:t,dragovercallback:t,dropcallback:i=>{delete this._ddStartIndex,delete this._ddTargetIndex,this.drop$().pipe((0,v.w)(()=>this.calcViewList$().pipe((0,b.q)(1))),(0,x.R)(this.destroyed$)).subscribe(),i.preventDefault()}}}dragLeave(t){const i=this.listElement.getBoundingClientRect();U.UL.fromLTRB(i.left,i.top,i.right,i.bottom).containsPoint(new U.Ly(t.pageX,t.pageY))||(this._ddTargetIndex=this._ddStartIndex,this.calcViewList$().pipe((0,b.q)(1),(0,x.R)(this.destroyed$)).subscribe())}onSelectionChange(){let t=null,i=null;if(this.multiSelect){const r=this.selectedModels;if(t={items:this.selectedItems,models:r},this.modelIsValue){const s=this.getValueField();r.find(d=>!!d[s])&&(i=r.map(d=>void 0!==d[s]?d[s]:d))}else i=r}else{const r=this.selectedModel;if(t={item:this.selectedItems[0],model:r},this.modelIsValue){const s=this.getValueField();i=void 0!==r[s]?r[s]:r}else i=r}this.onChangeCallback(i),this.selectedChange.emit(t)}selectRange$(t,i){return super.selectRange$(t,i).pipe((0,D.b)(r=>(r&&this.onSelectionChange(),r)),(0,D.b)(()=>this.changeDetectorRef.markForCheck()))}toggleSelect$(t,i){return this._multiSelect||!t[0].selected!=!i?super.toggleSelect$(t,i).pipe((0,D.b)(()=>{this.onSelectionChange()})):(0,_.of)(t)}calcViewList$(){return super.calcViewList$(this.query).pipe((0,D.b)(()=>this.changeDetectorRef.markForCheck()))}getItemClass(t){var i;const r=["listitem"];return t.className&&r.push(t.className),(t.collapsing||t.expanding)&&r.push("hide"),t.depth<this.depthMax&&r.push("parent"),t.collapsed&&r.push("collapsed"),t.selected&&r.push("selected"),null===(i=t.selectable)||void 0===i||i||r.push("unselectable"),t.depth===this._depthMax&&t.odd&&r.push("odd"),r.join(" ")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(A.Z2),e.Y36(e.SBq),e.Y36(Z.a5,10),e.Y36(g.ST,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-tree-list"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,me,5),e.Suo(r,he,5),e.Suo(r,ge,5),e.Suo(r,fe,5),e.Suo(r,xe,5),e.Suo(r,_e,5),e.Suo(r,A.ZV,4)),2&t){let s;e.iGM(s=e.CRH())&&(i.itemTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.parentItemTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.loaderTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.headerTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.searchPrefixTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.searchSuffixTemplateInternal=s.first),e.iGM(s=e.CRH())&&(i.options=s)}},viewQuery:function(t,i){if(1&t&&(e.Gf(ve,5),e.Gf(je,7),e.Gf(g.TW,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.input=r.first),e.iGM(r=e.CRH())&&(i.listElememtRef=r.first),e.iGM(r=e.CRH())&&(i.inputValidatorDirective=r.first)}},hostVars:1,hostBindings:function(t,i){2&t&&e.uIk("disabled",i._disabled)},inputs:{placeholder:"placeholder",nodataholder:"nodataholder",query:"query",itemTemplateExternal:"itemTemplateExternal",parentItemTemplateExternal:"parentItemTemplateExternal",loaderTemplateExternal:"loaderTemplateExternal",headerTemplateExternal:"headerTemplateExternal",searchPrefixTemplateExternal:"searchPrefixTemplateExternal",searchSuffixTemplateExternal:"searchSuffixTemplateExternal",itemsWidth:"itemsWidth",minSearchlength:["min-search-length","minSearchlength"],searchArea:"searchArea",modelIsValue:"modelIsValue",sortable:"sortable",itemsDraggable:"itemsDraggable",pageSize:"pageSize",hintLabel:"hintLabel",viewPortRowHeight:"viewPortRowHeight",viewportMode:"viewportMode",childrenField:"childrenField",textField:"textField",valueField:"valueField",searchField:"searchField",maxHeight:"maxHeight",currentItem:"currentItem",multiSelect:"multiSelect",selectedItems:"selectedItems",selectedItem:"selectedItem",selectedModel:"selectedModel",selectedModels:"selectedModels",itemListService:"itemListService",sortingService:"sortingService",groupingService:"groupingService",items:"items",loadingItems:"loadingItems",selectingItem:"selectingItem",unselectingItem:"unselectingItem",expandingItem:"expandingItem",collapsingItem:"collapsingItem",models:"models",disabled:"disabled",waiter:"waiter"},outputs:{scroll:"scroll",itemDragEnd:"itemDragEnd",itemDragStart:"itemDragStart",selectedChange:"selectedChange",viewPortChanged:"viewPortChanged"},features:[e._Bn([A.Z2]),e.qOj],decls:11,vars:21,consts:[["id","header",4,"ngIf"],["id","listheader",4,"ngIf"],["tabindex","1",1,"deja-listcontainer",3,"id","deja-droppable","dragleave","mousedown"],["listElement",""],["id","nodata-holder",4,"ngIf"],["id","error-hint",4,"ngIf"],[3,"height",4,"ngIf"],[4,"ngIf"],["id","loader",4,"ngIf"],["id","header"],["deja-child-validator","","id","input",4,"ngIf"],["deja-child-validator","","id","input"],["type","text","matInput","","tabindex","0",3,"ngModel","placeholder","disabled","input"],["inputelement","","model","ngModel"],["matPrefix","",4,"ngIf"],["matSuffix","",4,"ngIf"],["matPrefix",""],[3,"ngTemplateOutlet"],["matSuffix",""],["id","listheader"],["id","nodata-holder"],["id","error-hint"],[3,"deja-draggable","width","height",4,"ngFor","ngForOf"],[3,"deja-draggable"],["listitem",""],["id","expandbtn"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","loader"]],template:function(t,i){1&t&&(e.YNc(0,Ze,2,1,"div",0),e.YNc(1,we,2,1,"div",1),e.TgZ(2,"div",2,3),e.NdJ("dragleave",function(s){return i.sortable?i.dragLeave(s):null})("mousedown",function(s){return i.mousedown(s)}),e.YNc(4,Ae,2,1,"div",4),e.YNc(5,Se,2,1,"div",5),e.YNc(6,Me,1,2,"div",6),e.YNc(7,Fe,2,1,"ng-container",7),e.YNc(8,ke,1,2,"div",6),e.YNc(9,Je,1,0,"deja-list-loader",8),e.YNc(10,Qe,2,1,"ng-container",7),e.qZA()),2&t&&(e.Q6J("ngIf",i.searchArea),e.xp6(1),e.Q6J("ngIf",i.headerTemplate),e.xp6(1),e.Udp("max-height",i.maxHeight||null,"px"),e.ekj("hasheader",i.headerTemplate)("dragover",void 0!==i.ddStartIndex?i.ddStartIndex:null),e.Q6J("id",i.listElementId)("deja-droppable",i.getDropContext()),e.uIk("itemscount",i.itemList&&i.itemList.length)("depth-max",i.depthMax||null)("vp-rowheight",i.getViewPortRowHeight())("keynav",i.keyboardNavigation()),e.xp6(2),e.Q6J("ngIf",!(i.itemList&&0!==i.itemList.length||i.waiter)),e.xp6(1),e.Q6J("ngIf",i.hintLabel),e.xp6(1),e.Q6J("ngIf",i.vpBeforeHeight&&!i.waiter),e.xp6(1),e.Q6J("ngIf",!i.waiter),e.xp6(1),e.Q6J("ngIf",i.vpAfterHeight&&!i.waiter),e.xp6(1),e.Q6J("ngIf",i.waiter&&!i.loaderTemplate),e.xp6(1),e.Q6J("ngIf",i.waiter&&i.loaderTemplate))},directives:[E.KE,N.Hw,ee.b,M.O5,g.TW,R.Nt,Z.Fj,Z.JJ,Z.On,E.qo,M.tP,E.R9,B,M.sg,oe],styles:['deja-tree-list{display:flex;position:relative;flex-direction:column;align-content:stretch;overflow:hidden}deja-tree-list.ng-invalid #input .mat-form-field-wrapper .mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:scaleY(1)}deja-tree-list #input{outline:none}deja-tree-list #header{flex:0 0 auto;align-items:center;display:flex}deja-tree-list #header #input{flex:1 1 auto}deja-tree-list #header button{flex:0 0 auto;margin:16px .5rem 16px 0}deja-tree-list #listheader{flex:0 0 auto;overflow:hidden;box-sizing:border-box}deja-tree-list .deja-listcontainer{flex:1 1 auto;outline:none;overflow:auto}deja-tree-list .deja-listcontainer.hasheader{border-top:0}deja-tree-list .deja-listcontainer[keynav=false]:not(.dragover) div.listitem:not(.unselectable):hover{cursor:pointer}deja-tree-list .deja-listcontainer[valign=bottom]{border-top:none}deja-tree-list .deja-listcontainer #nodata-holder{margin:.5rem}deja-tree-list .deja-listcontainer #error-hint{margin:.5rem}deja-tree-list #loader{position:absolute;left:0;right:0}deja-tree-list .deja-listcontainer{padding:0;margin:0;position:relative}deja-tree-list .deja-listcontainer[vprowheight="0"]>div.listitem{padding:.35rem .1rem}deja-tree-list .deja-listcontainer>div.listitem{opacity:1;margin:0;transition-timing-function:linear;transition-duration:.3s;transition-property:max-height,opacity;display:flex;align-items:center}deja-tree-list .deja-listcontainer>div.listitem.hide{opacity:0!important;max-height:0!important;transition-timing-function:ease-out}deja-tree-list .deja-listcontainer>div.listitem #expandbtn{width:24px;cursor:pointer}deja-tree-list .deja-listcontainer>div.listitem.parent.collapsed #expandbtn>.mat-icon{transform:rotate(-90deg)}deja-tree-list .deja-listcontainer [depth="0"]{padding-left:0rem}deja-tree-list .deja-listcontainer [depth="1"]{padding-left:1rem}deja-tree-list .deja-listcontainer [depth="2"]{padding-left:2rem}deja-tree-list .deja-listcontainer [depth="3"]{padding-left:3rem}deja-tree-list .deja-listcontainer [depth="4"]{padding-left:4rem}deja-tree-list .deja-listcontainer [depth="5"]{padding-left:5rem}deja-tree-list .deja-listcontainer [depth="6"]{padding-left:6rem}deja-tree-list .deja-listcontainer [depth="7"]{padding-left:7rem}deja-tree-list .deja-listcontainer [depth="8"]{padding-left:8rem}deja-tree-list .deja-listcontainer [depth="9"]{padding-left:9rem}deja-tree-list .deja-listcontainer [depth="10"]{padding-left:10rem}deja-tree-list .deja-listcontainer [depth="11"]{padding-left:11rem}deja-tree-list .deja-listcontainer [depth="12"]{padding-left:12rem}deja-tree-list .deja-listcontainer [depth="13"]{padding-left:13rem}deja-tree-list .deja-listcontainer [depth="14"]{padding-left:14rem}deja-tree-list .deja-listcontainer [depth="15"]{padding-left:15rem}deja-tree-list .deja-listcontainer [depth="16"]{padding-left:16rem}deja-tree-list .deja-listcontainer [depth="17"]{padding-left:17rem}deja-tree-list .deja-listcontainer [depth="18"]{padding-left:18rem}deja-tree-list .deja-listcontainer [depth="19"]{padding-left:19rem}deja-tree-list .deja-listcontainer [depth="20"]{padding-left:20rem}deja-tree-list .deja-listcontainer [depth="21"]{padding-left:21rem}deja-tree-list .deja-listcontainer [depth="22"]{padding-left:22rem}deja-tree-list .deja-listcontainer [depth="23"]{padding-left:23rem}deja-tree-list .deja-listcontainer [depth="24"]{padding-left:24rem}deja-tree-list .deja-listcontainer [depth="25"]{padding-left:25rem}deja-tree-list .deja-listcontainer [depth="26"]{padding-left:26rem}deja-tree-list .deja-listcontainer [depth="27"]{padding-left:27rem}deja-tree-list .deja-listcontainer [depth="28"]{padding-left:28rem}deja-tree-list .deja-listcontainer [depth="29"]{padding-left:29rem}deja-tree-list .deja-listcontainer [depth="30"]{padding-left:30rem}deja-tree-list .deja-listcontainer [depth="31"]{padding-left:31rem}deja-tree-list .deja-listcontainer [depth="32"]{padding-left:32rem}deja-tree-list .deja-listcontainer [depth="33"]{padding-left:33rem}deja-tree-list .deja-listcontainer [depth="34"]{padding-left:34rem}deja-tree-list .deja-listcontainer [depth="35"]{padding-left:35rem}deja-tree-list .deja-listcontainer [depth="36"]{padding-left:36rem}deja-tree-list .deja-listcontainer [depth="37"]{padding-left:37rem}deja-tree-list .deja-listcontainer [depth="38"]{padding-left:38rem}deja-tree-list .deja-listcontainer [depth="39"]{padding-left:39rem}deja-tree-list .deja-listcontainer [depth="40"]{padding-left:40rem}deja-tree-list .deja-listcontainer [depth="41"]{padding-left:41rem}deja-tree-list .deja-listcontainer [depth="42"]{padding-left:42rem}deja-tree-list .deja-listcontainer [depth="43"]{padding-left:43rem}deja-tree-list .deja-listcontainer [depth="44"]{padding-left:44rem}deja-tree-list .deja-listcontainer [depth="45"]{padding-left:45rem}deja-tree-list .deja-listcontainer [depth="46"]{padding-left:46rem}deja-tree-list .deja-listcontainer [depth="47"]{padding-left:47rem}deja-tree-list .deja-listcontainer [depth="48"]{padding-left:48rem}deja-tree-list .deja-listcontainer [depth="49"]{padding-left:49rem}deja-tree-list .deja-listcontainer [depth="50"]{padding-left:50rem}\n'],encapsulation:2,changeDetection:0}),n})(),He=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[M.ez,g.ET,G,A.tN,ee.u,g.sS,Z.u5,P.ot,O.p9,N.Ps,R.c]]}),n})();var Ve=p(3485),Ye=p(4779),ne=p(7010),We=p(1402),Ke=p(2518),V=p(4326),Be=p(5241),re=p(9809),se=p(706),Ge=p(1857),ze=p(1339),Xe=p(5857);const et=["news"],tt=["onexpand"],it=["bigCountries"];function nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).dialogResponse$.next("cancel")}),e._uU(1,"Cancel"),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).dialogResponse$.next("ok")}),e._uU(3,"Ok"),e.qZA()}}function rt(n,a){1&n&&(e.TgZ(0,"deja-dialog")(1,"deja-message-box",11),e._uU(2," Please confirm your operation! "),e.YNc(3,nt,4,0,"ng-template",null,12,e.W1O),e.qZA()())}function st(n,a){1&n&&(e.TgZ(0,"mat-card",15),e._UZ(1,"deja-markdown",16),e.qZA()),2&n&&(e.xp6(1),e.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/tree-list/readme.md"))}const ae=function(){return["Mango","Apricots","Coconut"]};function at(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Simple Usage"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div"),e._uU(6,"Just passing an array of objects"),e.qZA(),e.TgZ(7,"div",19)(8,"span",20)(9,"deja-tree-list",21),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().country=r}),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"span",22)(12,"h4"),e._uU(13,"Selected country model :"),e.qZA(),e.TgZ(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA()()()()(),e.TgZ(17,"mat-card",17)(18,"mat-toolbar",18),e._uU(19,"Keyboard Navigation"),e.qZA(),e.TgZ(20,"mat-card-content")(21,"div"),e._uU(22,"deja-tree-list has some keyboard navigation feature"),e.qZA(),e.TgZ(23,"div",19)(24,"span",20)(25,"deja-tree-list",23),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().country=r}),e.ALo(26,"async"),e.qZA()(),e.TgZ(27,"ul",24)(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"\u2191"),e.qZA(),e._uU(32," to select the previous item"),e.qZA(),e.TgZ(33,"li"),e._uU(34,"Press "),e.TgZ(35,"span",25),e._uU(36,"\u2193"),e.qZA(),e._uU(37," to select the next item"),e.qZA(),e.TgZ(38,"li"),e._uU(39,"Press "),e.TgZ(40,"span",25),e._uU(41,"Ctrl"),e.qZA(),e.TgZ(42,"span",25),e._uU(43,"\u2191"),e.qZA(),e._uU(44," to change the current item to the previous"),e.qZA(),e.TgZ(45,"li"),e._uU(46,"Press "),e.TgZ(47,"span",25),e._uU(48,"Ctrl"),e.qZA(),e.TgZ(49,"span",25),e._uU(50,"\u2193"),e.qZA(),e._uU(51," to change the current item to the next"),e.qZA(),e.TgZ(52,"li"),e._uU(53,"Press "),e.TgZ(54,"span",25),e._uU(55,"Shift"),e.qZA(),e.TgZ(56,"span",25),e._uU(57,"\u2191"),e.qZA(),e._uU(58," to change the current item to the previous"),e.qZA(),e.TgZ(59,"li"),e._uU(60,"Press "),e.TgZ(61,"span",25),e._uU(62,"Shift"),e.qZA(),e.TgZ(63,"span",25),e._uU(64,"\u2193"),e.qZA(),e._uU(65," to change the current item to the next"),e.qZA(),e.TgZ(66,"li"),e._uU(67,"Press "),e.TgZ(68,"span",25),e._uU(69,"PageUp"),e.qZA(),e._uU(70," to select the next page item"),e.qZA(),e.TgZ(71,"li"),e._uU(72,"Press "),e.TgZ(73,"span",25),e._uU(74,"PageDown"),e.qZA(),e._uU(75," to select the previous page item"),e.qZA(),e.TgZ(76,"li"),e._uU(77,"Press "),e.TgZ(78,"span",25),e._uU(79,"Home"),e.qZA(),e._uU(80," to select the first item"),e.qZA(),e.TgZ(81,"li"),e._uU(82,"Press "),e.TgZ(83,"span",25),e._uU(84,"End"),e.qZA(),e._uU(85," to select the last item"),e.qZA(),e.TgZ(86,"li"),e._uU(87,"Press "),e.TgZ(88,"span",25),e._uU(89,"Space"),e.qZA(),e._uU(90," to collapse/expand a group header or to select/unselect the current item"),e.qZA(),e.TgZ(91,"li"),e._uU(92,"Press "),e.TgZ(93,"span",25),e._uU(94,"A"),e.qZA(),e._uU(95,".. "),e.TgZ(96,"span",25),e._uU(97,"Z"),e.qZA(),e.TgZ(98,"span",25),e._uU(99,"0"),e.qZA(),e._uU(100,".. "),e.TgZ(101,"span",25),e._uU(102,"9"),e.qZA(),e._uU(103," to select the next item started with the pressed key"),e.qZA()()()()(),e.TgZ(104,"mat-card",17)(105,"mat-toolbar",18),e._uU(106,"Treelist with options"),e.qZA(),e.TgZ(107,"mat-card-content")(108,"div"),e._uU(109,"These treelists has a list coming from html options"),e.qZA(),e.TgZ(110,"span",19)(111,"deja-tree-list",26),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().fruct=r}),e._UZ(112,"deja-item",27)(113,"deja-item",28)(114,"deja-item",29)(115,"deja-item",30)(116,"deja-item",31)(117,"deja-item",32)(118,"deja-item",33)(119,"deja-item",34)(120,"deja-item",35)(121,"deja-item",36)(122,"deja-item",37)(123,"deja-item",38),e.qZA(),e.TgZ(124,"deja-tree-list",39),e._UZ(125,"deja-item",40)(126,"deja-item",41)(127,"deja-item",42)(128,"deja-item",43)(129,"deja-item",44)(130,"deja-item",45)(131,"deja-item",46)(132,"deja-item",47)(133,"deja-item",48)(134,"deja-item",49)(135,"deja-item",50)(136,"deja-item",51),e.qZA()()()(),e.TgZ(137,"mat-card",17)(138,"mat-toolbar",18),e._uU(139,"String Array Model"),e.qZA(),e.TgZ(140,"mat-card-content")(141,"span",52)(142,"deja-tree-list",53),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().fruct=r}),e.qZA(),e.TgZ(143,"span",54),e._uU(144),e.qZA()()()(),e.TgZ(145,"mat-card",17)(146,"mat-toolbar",18),e._uU(147,"Disabled tree-list"),e.qZA(),e.TgZ(148,"mat-card-content")(149,"div")(150,"mat-checkbox",55),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().disabled=r}),e._uU(151,"Check me to disable tree-list below"),e.qZA()(),e.TgZ(152,"div",19)(153,"span",20)(154,"deja-tree-list",56),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().deepCountry=r}),e.ALo(155,"async"),e.qZA()(),e.TgZ(156,"span",22)(157,"h4"),e._uU(158,"Selected deep country model :"),e.qZA(),e.TgZ(159,"pre"),e._uU(160),e.ALo(161,"json"),e.qZA()()()()(),e.TgZ(162,"mat-card",17)(163,"mat-toolbar",18),e._uU(164,"Multi level"),e.qZA(),e.TgZ(165,"mat-card-content")(166,"div",19)(167,"span",20),e._UZ(168,"deja-tree-list",57),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.country)("models",e.lcZ(10,16,t.countries$)),e.xp6(6),e.Oqu(e.lcZ(16,18,t.country)),e.xp6(10),e.Q6J("ngModel",t.country)("models",e.lcZ(26,20,t.countries$)),e.xp6(86),e.Q6J("ngModel",t.fruct),e.xp6(13),e.Q6J("selectedModels",e.DdM(26,ae)),e.xp6(18),e.Q6J("ngModel",t.fruct)("models",t.fructs),e.xp6(2),e.hij("Selected fruct model is: ",t.fruct,""),e.xp6(6),e.Q6J("ngModel",t.disabled),e.xp6(4),e.Q6J("disabled",t.disabled)("ngModel",t.deepCountry)("models",e.lcZ(155,22,t.deepCountries$)),e.xp6(6),e.Oqu(e.lcZ(161,24,t.deepCountry)),e.xp6(8),e.Q6J("models",t.folders)}}function ot(n,a){if(1&n&&(e.TgZ(0,"li")(1,"span"),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.naqme)}}function lt(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.uIk("ddid",t.model.code),e.xp6(1),e.Oqu(t.model.naqme)}}function dt(n,a){if(1&n&&(e.TgZ(0,"mat-icon",69),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.groupName)}}const ct=function(n,a,t){return{dragovercallback:n,dragentercallback:a,dropcallback:t}};function ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Multi selection"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div"),e._uU(6,"Multi selection example"),e.qZA(),e.TgZ(7,"div",19)(8,"span",20)(9,"deja-tree-list",58),e.NdJ("itemDragStart",function(r){return e.CHM(t),e.oxw().onItemDragStart(r)})("selectedChange",function(r){return e.CHM(t),e.oxw().multiselectModelChange(r.items)}),e.qZA()(),e.TgZ(10,"span",59)(11,"h4"),e._uU(12,"Multi selection shortcuts :"),e.qZA(),e.TgZ(13,"ul",60)(14,"li"),e._uU(15,"Press "),e.TgZ(16,"span",25),e._uU(17,"Ctrl"),e.qZA(),e.TgZ(18,"span",25),e._uU(19,"Space"),e.qZA(),e._uU(20," to add/remove the current item to the selection"),e.qZA(),e.TgZ(21,"li"),e._uU(22,"Press "),e.TgZ(23,"span",25),e._uU(24,"Shift"),e.qZA(),e.TgZ(25,"span",25),e._uU(26,"\u2191"),e.qZA(),e._uU(27," to select a range orf items"),e.qZA(),e.TgZ(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"Shift"),e.qZA(),e.TgZ(32,"span",25),e._uU(33,"\u2193"),e.qZA(),e._uU(34," to select a range orf items"),e.qZA()(),e.TgZ(35,"h4"),e._uU(36,"Selected country model :"),e.qZA(),e.TgZ(37,"ul"),e.YNc(38,ot,3,1,"li",61),e.qZA()()()(),e.TgZ(39,"mat-toolbar",18),e._uU(40,"Grouping and Drag Drop"),e.qZA(),e.TgZ(41,"mat-card-content")(42,"div"),e._uU(43,"Grouping example"),e.qZA(),e.TgZ(44,"div",19)(45,"span",20)(46,"deja-tree-list",62),e.YNc(47,lt,2,2,"ng-template",null,63,e.W1O),e.YNc(49,dt,5,1,"ng-template",null,64,e.W1O),e.qZA()(),e.TgZ(51,"span",22)(52,"div"),e._uU(53,"You can drag and drop items the the area bellow (That will display a JSON representation of the dropped model) :"),e.qZA(),e._UZ(54,"div",65,66),e.qZA()()(),e.TgZ(56,"mat-toolbar",18),e._uU(57,"Autocomplete"),e.qZA(),e.TgZ(58,"mat-card-content")(59,"div"),e._uU(60,"Autocomplete 2 characters minimum"),e.qZA(),e._UZ(61,"deja-tree-list",67),e.qZA(),e.TgZ(62,"mat-toolbar",18),e._uU(63,"Variable Row Size"),e.qZA(),e.TgZ(64,"mat-card-content")(65,"div"),e._uU(66,"Variable Row height example"),e.qZA(),e.TgZ(67,"div",19)(68,"span",20),e._UZ(69,"deja-tree-list",68),e.qZA()()()()()}if(2&n){const t=e.MAs(55),i=e.oxw();e.xp6(9),e.Q6J("selectedItems",i.multiselectModel)("items",i.countriesForMultiselect),e.xp6(29),e.Q6J("ngForOf",i.multiselectModel),e.xp6(8),e.Q6J("items",i.groupedCountries)("deja-mouse-draggable",i.getDragContext()),e.xp6(8),e.Q6J("deja-mouse-droppable",i.getDropContext(t))("deja-droppable",e.kEZ(9,ct,i.onDivDragOver,i.onDivDragOver,i.onDivDropEvent)),e.xp6(7),e.Q6J("itemListService",i.countriesListService),e.xp6(8),e.Q6J("items",i.loremList)}}function pt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"news-card",80),e.NdJ("imageLoaded",function(){const s=e.CHM(t).$implicit;return e.oxw(2).imageLoaded(s)}),e.qZA()}2&n&&e.Q6J("item",a.$implicit.model)}function mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"span",81),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(20).sort()}),e.TgZ(1,"span",82),e._uU(2," This is a header template, click to sort the list. "),e.qZA(),e._UZ(3,"deja-sort-indicator",83),e.qZA()}if(2&n){e.oxw();const t=e.MAs(20);e.xp6(3),e.Q6J("sort-infos",t.sortInfos)}}function ht(n,a){if(1&n&&(e.TgZ(0,"mat-icon",69),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.groupName)}}function gt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",84),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onFilterTemplateClicked("Prefix")}),e._uU(1,"public"),e.qZA()}}function ft(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",84),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onFilterTemplateClicked("Suffix")}),e._uU(1,"more_vert"),e.qZA()}}function xt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Templating Examples"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"Item Template"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"An exemple with auto sized item template"),e.qZA(),e.TgZ(9,"deja-tree-list",70,71),e.YNc(11,pt,1,1,"ng-template",null,63,e.W1O),e.qZA(),e.TgZ(13,"h1"),e._uU(14,"Header Template and Group Template"),e.qZA(),e.TgZ(15,"div"),e._uU(16,"Treelist with an header template"),e.qZA(),e.TgZ(17,"div",19)(18,"span",20)(19,"deja-tree-list",72,73),e.ALo(21,"async"),e.YNc(22,mt,4,1,"ng-template",null,74,e.W1O),e.qZA()(),e.TgZ(24,"span",75)(25,"deja-tree-list",76),e.YNc(26,ht,5,1,"ng-template",null,64,e.W1O),e.qZA()()(),e.TgZ(28,"h1"),e._uU(29,"Search Prefix and Suffix Templates"),e.qZA(),e.TgZ(30,"div",19)(31,"span",20)(32,"deja-tree-list",77),e.ALo(33,"async"),e.YNc(34,gt,2,0,"ng-template",null,78,e.W1O),e.YNc(36,ft,2,0,"ng-template",null,79,e.W1O),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("models",t.news$),e.xp6(10),e.Q6J("models",e.lcZ(21,4,t.countries$)),e.xp6(6),e.Q6J("items",t.groupedCountries),e.xp6(7),e.Q6J("items",e.lcZ(33,6,t.countries$))}}function _t(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Pre-Selections from html inputs"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div",19)(6,"div",85)(7,"div"),e._uU(8,"Preselection with the input selectedModel"),e.qZA(),e._UZ(9,"deja-tree-list",86),e.qZA(),e.TgZ(10,"div",87)(11,"div"),e._uU(12,"Preselections with the input selectedModels"),e.qZA(),e._UZ(13,"deja-tree-list",88),e.qZA()(),e.TgZ(14,"div",19)(15,"div",85)(16,"div"),e._uU(17,"Preselection with the input selectedItem"),e.qZA(),e._UZ(18,"deja-tree-list",89),e.qZA(),e._UZ(19,"div",90),e.qZA()(),e.TgZ(20,"mat-toolbar",18),e._uU(21,"Pre-Selections from javascript"),e.qZA(),e.TgZ(22,"mat-card-content")(23,"div"),e._uU(24,"The collection fructItemsWithPreSelection has a pre-selected item"),e.qZA(),e._UZ(25,"deja-tree-list",91),e.qZA()()()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("models",t.fructs),e.xp6(4),e.Q6J("selectedModels",e.DdM(5,ae))("models",t.fructs),e.xp6(5),e.Q6J("items",t.fructItems),e.xp6(7),e.Q6J("items",t.fructItemsWithPreSelection)}}function vt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Pre-Events and on Demand"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"On Demand Loading "),e.qZA(),e.TgZ(7,"div"),e._uU(8,"The items are loaded from the loading event"),e.qZA(),e._UZ(9,"deja-tree-list",92,93),e.TgZ(11,"h1"),e._uU(12,"Confirm Selection"),e.qZA(),e.TgZ(13,"div"),e._uU(14,"A dialog will confirm the selection of an item"),e.qZA(),e._UZ(15,"deja-tree-list",94),e.ALo(16,"async"),e.TgZ(17,"h1"),e._uU(18,"Confirm Expand and Collapse "),e.qZA(),e.TgZ(19,"div"),e._uU(20,"A dialog will confirm the expand and collapse or an item if the children are not loaded. The children will be loaded asynchronously after the item expansion."),e.qZA(),e._UZ(21,"deja-tree-list",95,96),e.qZA()()()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("loadingItems",t.loadingItems()),e.xp6(6),e.Q6J("selectingItem",t.confirmDialog())("items",e.lcZ(16,6,t.countries$)),e.xp6(6),e.Q6J("items",t.onDemandGroupedCountries)("expandingItem",t.expandingItems())("collapsingItem",t.collapsingItems())}}function jt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"news-card",80),e.NdJ("imageLoaded",function(){const s=e.CHM(t).$implicit;return e.oxw(2).imageLoaded(s)}),e.qZA()}2&n&&e.Q6J("item",a.$implicit.model)}function bt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"span",105),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}function Tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Performance Examples"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"10K items with Item Template "),e.qZA(),e.TgZ(7,"div",97)(8,"span",98),e._uU(9,"An exemple with 10000 auto sized templatized items"),e.qZA(),e.TgZ(10,"mat-form-field",99)(11,"input",100),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().ensureIndex=r}),e.qZA()(),e.TgZ(12,"button",101),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(15),s=e.oxw();return r.ensureItemVisible(s.ensureIndex)}),e._uU(13,"Ensure index"),e.qZA()(),e.TgZ(14,"deja-tree-list",70,71),e.YNc(16,jt,1,1,"ng-template",null,63,e.W1O),e.qZA(),e.TgZ(18,"h1"),e._uU(19,"Fixed size rows 100K items"),e.qZA(),e.TgZ(20,"div"),e._uU(21,"An exemple with 100000 fixed size items"),e.qZA(),e.TgZ(22,"span",19),e._UZ(23,"deja-tree-list",102,103),e.TgZ(25,"span",22)(26,"h4",104),e._uU(27,"Viewport Infos:"),e.qZA(),e.YNc(28,bt,5,2,"div",61),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.ensureIndex),e.xp6(3),e.Q6J("models",t.bigNews$),e.xp6(9),e.Q6J("items",t.bigCountries$),e.xp6(5),e.Q6J("ngForOf",t.viewPortInfos)}}function Ct(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Single selection"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"form",106)(6,"div",19)(7,"span",20),e._UZ(8,"deja-tree-list",107),e.qZA(),e.TgZ(9,"span",22)(10,"h4"),e._uU(11,"Your selection :"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()()()(),e.TgZ(14,"mat-card",17)(15,"mat-toolbar",18),e._uU(16,"Multi selection"),e.qZA(),e.TgZ(17,"mat-card-content")(18,"form",106)(19,"div",19)(20,"span",20),e._UZ(21,"deja-tree-list",108),e.qZA(),e.TgZ(22,"span",22)(23,"h4"),e._uU(24,"Your selection :"),e.qZA(),e.TgZ(25,"span"),e._uU(26),e.qZA()()()()()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.fruitForm),e.xp6(3),e.Q6J("models",t.fruits$),e.xp6(5),e.Oqu(t.fruitForm.get("fruitName").value),e.xp6(5),e.Q6J("formGroup",t.fruitFormModels),e.xp6(3),e.Q6J("models",t.fruits$),e.xp6(5),e.Oqu(t.fruitFormModels.get("fruitName").value)}}const Zt=We.Bz.forChild([{path:"",component:(()=>{class n extends g.yl{constructor(t,i,r,s,d,c,h){super(),this.changeDetectorRef=t,this.countriesService=i,this.folderService=r,this.countriesListService=s,this.newsService=d,this.groupingService=c,this.fb=h,this.fruct="apricots",this.fructs=[],this.fructItems=[],this.fructItemsWithPreSelection=[],this.tabIndex=1,this.deepCountry={l1:{l2:{name:"Switzerland",value:"CH"}}},this.dialogResponse$=new $.x,this.loremList=[],this._dialogVisible=!1,this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","displayName":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","displayName":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","displayName":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","displayName":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","displayName":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","displayName":"Dominica","depth":0,"odd":false,"selected":true}]'),this.news$=d.getNews$(50),this.bigNews$=d.getNews$(1e4),this.bigCountries$=i.getCountries$(null,1e5);for(let o=0;o<50;o++){const l=Math.floor(38*Math.random())+33;this.loremList[o]={},this.loremList[o].size=l,this.loremList[o].displayName=`${o} - Une ligne de test avec une taille de : ${l}`}c.group$(this.loremList,[{groupByField:"height"}]).pipe((0,x.R)(this.destroyed$)).subscribe(o=>{this.loremList=o}),this.country=new re.c,this.country.code="CH",this.country.displayName="Switzerland",this.country.naqme="Switzerland",this.country.color="rgb(211, 47, 47)",this.countries$=this.countriesService.getCountries$(),this.folders=this.folderService.getFolders(),this.deepCountries$=this.countriesService.getCountries$().pipe((0,v.w)(o=>o),(0,I.U)(o=>({l1:{l2:{name:o.naqme,value:o.code}}})),(0,Ke.q)()),this.fructs=["Apricots","Banana","Cantaloupe","Cherries","Coconut","Cranberries","Durian","Grapes","Lemon","Mango","Pineapple","Watermelon"],this.fruits$=(0,_.of)(this.fructs),this.fructItems=this.fructs.map(o=>({displayName:o,value:o.toLowerCase()})),this.fructItemsWithPreSelection=this.fructs.map((o,l)=>({displayName:o,value:o.toLowerCase(),selected:1===l})),this.countries$.pipe((0,D.b)(o=>this.countriesForMultiselect=o),(0,V.g)(1),(0,x.R)(this.destroyed$)).subscribe(()=>{this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","displayName":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","displayName":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","displayName":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","displayName":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","displayName":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","displayName":"Dominica","depth":0,"odd":false,"selected":true}]')}),this.countries$.pipe((0,x.R)(this.destroyed$)).subscribe(o=>{const l=[],u=[],m={};l.push({collapsible:!0,collapsed:!0,groupName:"EmptyGroup",items:[],displayName:"Empty Group",selectable:!1}),o.forEach(f=>{const T=`Group ${f.naqme[0]}`;m[T]||(m[T]=[],l.push({collapsible:!0,groupName:T,items:m[T],displayName:T,selectable:!1}),u.push({collapsible:!0,collapsed:!0,groupName:T,items:[{displayName:"loading...",selectable:!1}],displayName:T,selectable:!1,loaded:!1})),m[T].push({model:f})}),this.groupedCountries=l,this.onDemandGroupedCountries=u}),this.fruitForm=this.fb.group({fruitName:["",[Be.p]]}),this.fruitFormModels=this.fb.group({fruitName:[""]})}set dialogVisible(t){this._dialogVisible=t,this.changeDetectorRef.markForCheck()}get dialogVisible(){return this._dialogVisible}loadingItems(){return(t,i)=>this.countriesService.getCountries$().pipe((0,V.g)(3e3))}collapsingItems(){return t=>t.loaded?(0,_.of)(t):this.confirmDialog()(t)}expandingItems(){return t=>{const i=t;return i.loaded?(0,_.of)(t):this.confirmDialog()(t).pipe((0,v.w)(r=>r?((0,_.of)(i).pipe((0,V.g)(2e3),(0,b.q)(1),(0,x.R)(this.destroyed$)).subscribe(s=>{const d=this.groupedCountries.find(c=>c.displayName===s.displayName);s.items=d.items,s.loaded=!0,this.onExpandList.refresh()}),(0,_.of)(r)):(0,_.of)(null)))}}confirmDialog(){return t=>(this.dialogVisible=!0,this.dialogResponse$.pipe((0,b.q)(1),(0,I.U)(i=>(this.dialogVisible=!1,"ok"===i?t:null))))}set bigCountriesList(t){this.viewPortInfos$&&(this.viewPortInfos$.unsubscribe(),this.viewPortInfos=[],delete this.viewPortInfos$),this.viewPortInfos$=null==t?void 0:t.viewPort.viewPort$.subscribe(i=>{var r,s;this.viewPortInfos=[{name:"beforeSize",value:String(i.beforeSize)},{name:"startIndex",value:String(i.startIndex)},{name:"viewPortSize",value:String(i.viewPortSize)},{name:"visibleCount",value:String(null===(r=i.visibleItems)||void 0===r?void 0:r.length)},{name:"endIndex",value:String(i.endIndex)},{name:"afterSize",value:String(i.afterSize)},{name:"itemsCount",value:String(null===(s=i.items)||void 0===s?void 0:s.length)}]})}imageLoaded(t){const i=t;i.loaded||(i.loaded=!0,i.size=void 0,this.newsList.refreshViewPort())}multiselectModelChange(t){this.multiselectModel=t||null}onFilterTemplateClicked(t){alert(`${t} clicked`)}onItemDragStart(t){t.dragInfo.country=t.dragObject}onDivDragOver(t){t.dragInfo.hasOwnProperty("country")&&t.preventDefault()}onDivDropEvent(t){if(t.dragInfo.hasOwnProperty("country")){const i=t.dragInfo.country;t.target.innerText=`The dropped country is ${i.naqme} - the code is: ${i.code}`,t.preventDefault()}}getDragContext(){return{target:"[ddid]",className:"item-base-cursor",dragStart:t=>{const i=null==t?void 0:t.getAttribute("ddid");return i&&this.countriesService.getCountryByCode$(i)}}}getDropContext(t){return{dragEnter:i=>({width:200,height:60,className:"country-target-cursor"}),drop:i=>{t.innerText=`The dropped country is ${i.naqme} - the code is: ${i.code}`}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(re.K),e.Y36(ne.Z),e.Y36(se.g),e.Y36(Ge.Y),e.Y36(A.uC),e.Y36(Z.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["deja-tree-list-demo"]],viewQuery:function(t,i){if(1&t&&(e.Gf(et,5),e.Gf(tt,5),e.Gf(it,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.newsList=r.first),e.iGM(r=e.CRH())&&(i.onExpandList=r.first),e.iGM(r=e.CRH())&&(i.bigCountriesList=r.first)}},features:[e._Bn([se.g]),e.qOj],decls:18,vars:10,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","SIMPLE EXAMPLES"],["label","ADVANCED EXAMPLES"],["label","TEMPLATING"],["label","PRE-SELECTIONS"],["label","PRE-EVENTS AND ON_DEMAND"],["label","PERFORMANCES"],["label","REACTIVE FORM"],[4,"ngIf"],["class","demo-card demo-basic",4,"ngIf"],["type","primary","title","Confirm"],["actionsTemplate",""],["id","cancelbtn","mat-raised-button","",3,"click"],["id","okbtn","mat-raised-button","","color","primary",3,"click"],[1,"demo-card","demo-basic"],[3,"url"],[1,"deja-treelist-demo","demo-card","demo-basic"],["color","primary"],[1,"flexLayout"],[1,"flex45p","flexLayout","flexColumn"],["textField","naqme","valueField","code",3,"ngModel","models","ngModelChange"],[1,"flex45p","flexOffset5p"],["textField","naqme","valueField","code",1,"flex50p",3,"ngModel","models","ngModelChange"],["id","shortcut-list",1,"flexOffset5p"],[1,"keyboard-key"],[1,"flex45p","demo-half-width","optionstl",3,"ngModel","ngModelChange"],["value","Apricots","text","My preferred fruct is Apricots"],["value","Banana","text","My preferred fruct is Banana"],["value","Cantaloupe","text","My preferred fruct is Cantaloupe"],["value","Cherries","text","My preferred fruct is Cherries"],["value","Coconut","text","My preferred fruct is Coconut"],["value","Cranberries","text","My preferred fruct is Cranberries"],["value","Durian","text","My preferred fruct is Durian"],["value","Grapes","text","My preferred fruct is Grapes"],["value","Lemon","text","My preferred fruct is Lemon"],["value","Mango","text","My preferred fruct is Mango"],["value","Pineapple","text","My preferred fruct is Pineapple"],["value","Watermelon","text","My preferred fruct is Watermelon"],["multiSelect","true",1,"flex45p","flexOffset5p","demo-half-width","optionstl",3,"selectedModels"],["value","apricots","text","Apricots"],["value","banana","text","Banana"],["value","cantaloupe","text","Cantaloupe"],["value","cherries","text","Cherries"],["value","coconut","text","Coconut"],["value","cranberries","text","Cranberries"],["value","durian","text","Durian"],["value","grapes","text","Grapes"],["value","lemon","text","Lemon"],["value","mango","text","Mango"],["value","pineapple","text","Pineapple"],["value","watermelon","text","Watermelon"],[1,"flexLayout","flexAlignCenter","flexJustifyStart"],[1,"demo-half-width",3,"ngModel","models","ngModelChange"],[1,"flex50p","flexOffset5p"],["color","primary",3,"ngModel","ngModelChange"],["searchArea","","nodataholder","No record to display","maxHeight","auto","selectionClearable","","textField","l1.l2.name","valueField","l1.l2.value",3,"disabled","ngModel","models","ngModelChange"],["nodataholder","No record to display","maxHeight","auto","textField","label","childrenField","children",3,"models"],["sortable","","multiSelect","","textField","naqme","valueField","code",3,"selectedItems","items","itemDragStart","selectedChange"],[1,"flexLayout","flexColumn","flex45p","flexOffset5p"],["id","shortcut-list"],[4,"ngFor","ngForOf"],["textField","naqme","valueField","code",3,"items","deja-mouse-draggable"],["itemTemplate",""],["parentItemTemplate",""],[2,"border","1px solid red","min-height","150px",3,"deja-mouse-droppable","deja-droppable"],["dropArea",""],["nodataholder","No record to display","textField","naqme","valueField","code","min-search-length","2",1,"demo-half-width",3,"itemListService"],["multiSelect","","viewportMode","variable","searchArea","","sortable","",3,"items"],["id","placeholder-icon"],["viewportMode","auto","textField","title","searchField","description",1,"news",3,"models"],["news",""],["textField","naqme","valueField","code",3,"models"],["headertreelist",""],["headerTemplate",""],[1,"flex45p","flexLayout","flexColumn","flexOffset5p"],["textField","naqme",3,"items"],["searchArea","","textField","naqme","valueField","code",3,"items"],["searchPrefixTemplate",""],["searchSuffixTemplate",""],[3,"item","imageLoaded"],["id","headerTemplateContent",3,"click"],["id","title"],[3,"sort-infos"],[3,"click"],[1,"flexFixed140px","flexLayout","flexColumn"],["selectedModel","Mango",1,"fixed-height",3,"models"],[1,"flexFixed140px","flexLayout","flexColumn","flexOffset15px"],["multiSelect","true",1,"fixed-height",3,"selectedModels","models"],["selectedItem","mango",1,"fixed-height",3,"items"],[1,"flexFixed140px","flexOffset15px"],[1,"fixed-height",3,"items"],["textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"loadingItems"],["ondemand",""],["multiSelect","","textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"selectingItem","items"],["textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"items","expandingItem","collapsingItem"],["onexpand",""],[1,"flexContainer","flexLayout","flexAlignCenter","flexJustifyStart"],[1,"flexExtendCollapseAuto"],[1,"flexFixedAuto"],["matInput","","type","number","autocomplete","off",3,"ngModel","ngModelChange"],["mat-button","",1,"flexFixedAuto",3,"click"],["id","bigCountries","textField","naqme","valueField","code",1,"flex45p",3,"items"],["bigCountries",""],["id","vptitle"],[1,"vpinfoname"],["novalidate","",3,"formGroup"],["formControlName","fruitName",3,"models"],["multiSelect","","formControlName","fruitName",3,"models"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-tab-group",0),e.NdJ("selectedTabChange",function(s){return i.tabIndex=s.index}),e._UZ(1,"mat-tab",1)(2,"mat-tab",2)(3,"mat-tab",3)(4,"mat-tab",4)(5,"mat-tab",5)(6,"mat-tab",6)(7,"mat-tab",7)(8,"mat-tab",8),e.qZA(),e.YNc(9,rt,5,0,"deja-dialog",9),e.YNc(10,st,2,1,"mat-card",10),e.YNc(11,at,169,27,"div",9),e.YNc(12,ut,70,13,"div",9),e.YNc(13,xt,38,8,"div",9),e.YNc(14,_t,26,6,"div",9),e.YNc(15,vt,23,8,"div",9),e.YNc(16,Tt,29,4,"div",9),e.YNc(17,Ct,27,6,"div",9)),2&t&&(e.Q6J("selectedIndex",i.tabIndex),e.xp6(9),e.Q6J("ngIf",i.dialogVisible),e.xp6(1),e.Q6J("ngIf",0===i.tabIndex),e.xp6(1),e.Q6J("ngIf",1===i.tabIndex),e.xp6(1),e.Q6J("ngIf",2===i.tabIndex),e.xp6(1),e.Q6J("ngIf",3===i.tabIndex),e.xp6(1),e.Q6J("ngIf",4===i.tabIndex),e.xp6(1),e.Q6J("ngIf",5===i.tabIndex),e.xp6(1),e.Q6J("ngIf",6===i.tabIndex),e.xp6(1),e.Q6J("ngIf",7===i.tabIndex))},directives:[H.SP,H.uX,M.O5,K.a,z.b,P.lW,Q.a8,ze.F,W.Ye,Q.dn,Oe,Z.JJ,Z.On,A.ZV,O.oG,M.sg,de,N.Hw,ce,B,Xe.H,A._h,E.KE,R.Nt,Z.wV,Z.Fj,Z._Y,Z.JL,Z.sg,Z.u],pipes:[M.Ov,M.Ts],styles:['deja-tree-list-demo .demo-card{margin:16px}deja-tree-list-demo .demo-card mat-card-content{padding:16px;display:flex;flex-direction:column}deja-tree-list-demo .demo-card mat-card-content deja-tree-list{max-height:400px;position:relative;margin:1rem 0}deja-tree-list-demo .demo-card mat-card-content deja-tree-list.fixed-height{height:400px}deja-tree-list-demo .demo-card mat-card-content deja-tree-list.news{max-height:600px}deja-tree-list-demo .demo-card mat-card-content mat-form-field{flex-basis:auto;flex-grow:0;flex-shrink:0;position:relative;margin-top:.7rem}deja-tree-list-demo .demo-basic{padding:0}deja-tree-list-demo .demo-full-width{width:100%}deja-tree-list-demo .demo-half-width{width:45%}deja-tree-list-demo .demo-icons{font-size:100%;height:inherit;vertical-align:top;width:inherit}deja-tree-list-demo #flight{display:flex;align-items:center}deja-tree-list-demo news-card{width:100%}deja-tree-list-demo news-card .text{overflow-x:hidden}deja-tree-list-demo .vpinfoname{display:inline-block;width:7rem}deja-tree-list-demo #bigCountries{height:400px}deja-tree-list-demo #headerTemplateContent{padding:.4rem;display:block;background-color:#aaa;cursor:pointer;display:flex}deja-tree-list-demo #headerTemplateContent #title{flex:1 0 auto}deja-tree-list-demo #headerTemplateContent step-indicator{flex:0 0 auto}deja-tree-list-demo [matPrefix]{cursor:default;padding:4px}deja-tree-list-demo [matSuffix]{padding:4px;display:flex;justify-content:flex-end;cursor:pointer}deja-tree-list-demo [ddid]{width:100%;height:100%;display:flex;align-items:center}deja-tree-list-demo .optionstl{overflow:visible}deja-tree-list-demo .flexLayout{display:flex}deja-tree-list-demo .flexLayout.flexColumn{flex-direction:column}deja-tree-list-demo .flexLayout.flexJustifyStart{justify-content:start}deja-tree-list-demo .flexLayout.flexAlignCenter{align-items:center}deja-tree-list-demo .flexLayout .flex45p{flex:0 0 45%;overflow:hidden}deja-tree-list-demo .flexLayout .flex50p{flex:0 0 50%;overflow:hidden}deja-tree-list-demo .flexLayout .flexFixedAuto{flex:0 0 auto;overflow:hidden}deja-tree-list-demo .flexLayout .flexFixed140px{flex:0 0 140px;overflow:hidden}deja-tree-list-demo .flexLayout .flexExtendAuto{flex:1 0 auto;overflow:hidden}deja-tree-list-demo .flexLayout .flexExtendCollapseAuto{flex:1 1 auto;overflow:hidden}deja-tree-list-demo .flexOffset15px{margin-left:15px}deja-tree-list-demo .flexOffset5p{margin-left:5%}.item-base-cursor #content,.country-target-cursor #content{background-color:#222!important;color:#fff;opacity:.8;display:flex;align-items:center;cursor:pointer}.item-base-cursor #content:before,.country-target-cursor #content:before{display:block;width:.5rem;content:" "}\n'],encapsulation:2}),n})()},{path:"**",redirectTo:"",pathMatch:"full"}]);let It=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ne.Z],imports:[[M.ez,K.W,G,A.tN,Ve.O,z.J,ue,A.NA,He,Z.u5,P.ot,Q.QW,O.p9,E.lN,N.Ps,R.c,H.Nh,W.g0,Ye.NewsCardModule,Z.UX,Zt]]}),n})()}}]);