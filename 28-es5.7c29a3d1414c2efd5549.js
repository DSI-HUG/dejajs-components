!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"7trc":function(t,n,o){"use strict";o.r(n),o.d(n,"DejaRangeDemoModule",(function(){return le}));var l=o("SVse"),m=o("s7LF"),g=o("Dxy4"),u=o("PDjf"),d=o("M9ds"),p=o("l0rg"),h=o("650w"),f=o("8Y7J"),x=o("8LU1"),b=o("CDpB"),y=o("xgIS"),w=o("VRyK"),C=o("IzEk"),v=o("vkgz"),O=o("1G5W"),M=o("mrSG"),_=["rangeTemplate"],P=["separatorTemplate"];function k(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span",7),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate2"]("",n.min," - ",n.max,"")}}function E(e,t){}function S(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",10),f["\u0275\u0275element"](1,"span",11),f["\u0275\u0275elementEnd"]())}function j(e,t){}var R=function(e,t,n){return{$implicit:e,index:t,ranges:n}};function I(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"span",8),f["\u0275\u0275listener"]("mousedown",(function(e){f["\u0275\u0275restoreView"](n);var t=f["\u0275\u0275nextContext"]().index;return f["\u0275\u0275nextContext"]().onMouseDown(e,t)})),f["\u0275\u0275template"](1,S,2,0,"span",9),f["\u0275\u0275template"](2,j,0,0,"ng-template",5),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275nextContext"](),a=r.$implicit,i=r.index,o=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!o.separatorTemplate),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngTemplateOutlet",o.separatorTemplate)("ngTemplateOutletContext",f["\u0275\u0275pureFunction3"](3,R,a,i,o.ranges))}}function F(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"section",2),f["\u0275\u0275elementStart"](1,"span",3),f["\u0275\u0275listener"]("mousedown",(function(e){f["\u0275\u0275restoreView"](n);var r=t.index;return f["\u0275\u0275nextContext"]().onSelect(e,r)})),f["\u0275\u0275template"](2,k,2,2,"span",4),f["\u0275\u0275template"](3,E,0,0,"ng-template",5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,I,3,7,"span",6),f["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,a=t.index,i=f["\u0275\u0275nextContext"]();f["\u0275\u0275styleProp"]("width",r.$width,"px"),f["\u0275\u0275advance"](1),f["\u0275\u0275classProp"]("selected",i.selected===a),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!i.rangeTemplate),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngTemplateOutlet",i.rangeTemplate)("ngTemplateOutletContext",f["\u0275\u0275pureFunction3"](8,R,r,a,i.ranges)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",i.ranges.length>a+1)}}var W=function e(t,n,r){c(this,e),this.min=t,this.max=n,this.$width=r},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=i(n);function n(e,r,a){var i;return c(this,n),(i=t.call(this)).changeDetectorRef=e,i.elementRef=r,i.control=a,i.select=new f.EventEmitter,i.errorFeedback=new f.EventEmitter,i.step=1,i.selected=0,i.minimumRangePercentage=.01,i._readOnly=!0,i._disabled=!1,i._onChangeCallback=function(e){},i._onTouchCallback=function(){},i.control&&(i.control.valueAccessor=s(i)),i}return r(n,[{key:"onResize",value:function(){this.ranges=this.ranges.concat()}},{key:"registerOnChange",value:function(e){this._onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this._onTouchCallback=e}},{key:"writeValue",value:function(e){if(e&&e.length){var t=this.elementRef.nativeElement.firstElementChild.getBoundingClientRect().width,n=e[e.length-1].max-e[0].min;this._ranges=e.map((function(r,a){return r.$width=+(t*((e[a].max-e[a].min)/(n/100))/100).toFixed(2),r})),this.changeDetectorRef.markForCheck()}}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"add",value:function(){if(!this.readOnly){if("number"!=typeof this.step)throw new Error("Invalid step type, you have to implement the add function yourself for the fn & array.");var e,t,n=this.ranges,r=this.selected,a=n[r],i=a.max-a.min,o=i>=2*this.step;if(i/(n[n.length-1].max-n[0].min)>2*this.minimumRangePercentage&&o){e=a.min+i/2,t=new W(a.min,e),a.min=e;var s=n.slice(0,r),l=n.length-1>r?n.slice(r+1):[],c=Object(M.c)(s,[t,a],l),m=c.indexOf(t);c[m].max=this.toStep(c,m,c[m].max),c=c.map((function(e,t){return 0!==t&&(e.min=c[t-1].max),e})),this.ranges=c}else this.errorFeedback.emit(new Error("Range is too small to be splitted"))}}},{key:"remove",value:function(){var e=this;if(!this.readOnly&&this.ranges.length>2){var t=this.ranges.filter((function(t,n){return e.selected!==n}));this.ranges=t.map((function(e,n){return n!==t.length-1&&(e.max=t[n+1].min),e}))}}},{key:"refresh",value:function(){this.changeDetectorRef.markForCheck()}},{key:"onSelect",value:function(e,t){if(!this.disabled&&this.selected!==t){var n=e;n.range=this.ranges[t],n.index=t,n.ranges=this.ranges,this.select.emit(n),this.selected=t}}},{key:"onMouseDown",value:function(e,t){var n=this;if(!this.readOnly){for(var r=e.pageX,a=this.ranges,i=this.ranges[t],o=i.max,s=e.target.parentElement;!s.classList.contains("block");)s=s.parentElement;var l=Object(y.a)(document,"mouseup"),c=Object(y.a)(document.body,"mouseleave"),m=Object(w.a)(l,c).pipe(Object(C.a)(1),Object(v.a)((function(){n.elementRef.nativeElement.firstElementChild.ownerDocument.body.classList.remove("noselect"),n._onChangeCallback(n._ranges)})));Object(y.a)(document,"mousemove").pipe(Object(O.a)(Object(w.a)(this.destroyed$,m))).subscribe((function(e){var s=-(r-e.pageX),l=n.ranges[t+1],c=a[a.length-1].max-a[0].min,m=n.elementRef.nativeElement.firstElementChild,g=m.getBoundingClientRect().width;m.ownerDocument.body.classList.add("noselect");var u=o+s*c/g,d=n.minimumRangePercentage*c,p=i.min+d;u=Math.min(u,l.max-d),u=Math.max(u,p);var h=n.toStep(a,t,u);l.min=i.max=h,a[t]=i,a[t+1]=l,n.writeValue(a)}))}}},{key:"toStep",value:function(e,t,n){var r=e[t],a=e[e.length-1>t?t+1:t].max,i=0!==t?e[t-1].max:0,o=this.minimumRangePercentage*(e[e.length-1].max-e[0].min),s=r.min+o,l=a-o;if("number"==typeof this.step){var c=this.step,m=100/(100*c),g=Math.round(n*m)/m,u=c.toString().replace(/[0-9]+\./,"").length,d=+g.toFixed(u),p=Math.min(d,a-c),h=Math.max(d,i+c),f=s<h?h:s,x=l>p?p:l;return n>r.max?x:f}if("function"==typeof this.step){var b={};return b.range=this.ranges[t],b.index=t,b.ranges=this.ranges,b.newMax=n,this.step(b)}if(this.step instanceof Array){var y,w=n;return this.step.filter((function(e){return e<=l&&e>=s})).forEach((function(e){var t=Math.abs(e-n);(void 0===y||y>t)&&(w=e,y=t)})),w}throw new Error("Invalid step type.")}},{key:"ranges",get:function(){return this._ranges||[]},set:function(e){e&&(this.writeValue(e),this._onChangeCallback(e))}},{key:"disabled",set:function(e){this._disabled=Object(x.b)(e),this.changeDetectorRef.markForCheck()},get:function(){return this._disabled}},{key:"readOnly",set:function(e){this._readOnly=Object(x.b)(e)},get:function(){return this._readOnly||this.disabled}}]),n}(b.s);D.\u0275fac=function(e){return new(e||D)(f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](f.ElementRef),f["\u0275\u0275directiveInject"](m.NgControl,10))},D.\u0275cmp=f["\u0275\u0275defineComponent"]({type:D,selectors:[["deja-range"]],contentQueries:function(e,t,n){var r;1&e&&(f["\u0275\u0275contentQuery"](n,_,!0),f["\u0275\u0275contentQuery"](n,P,!0)),2&e&&(f["\u0275\u0275queryRefresh"](r=f["\u0275\u0275loadQuery"]())&&(t.rangeTemplate=r.first),f["\u0275\u0275queryRefresh"](r=f["\u0275\u0275loadQuery"]())&&(t.separatorTemplate=r.first))},hostBindings:function(e,t){1&e&&f["\u0275\u0275listener"]("resize",(function(){return t.onResize()}),!1,f["\u0275\u0275resolveWindow"])},inputs:{step:"step",selected:"selected",disabled:"disabled",readOnly:"readOnly"},outputs:{select:"select",errorFeedback:"errorFeedback"},features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:1,consts:[["id","container"],["ngFor","",3,"ngForOf"],[1,"block"],[1,"range",3,"mousedown"],["class","default-range",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"mousedown",4,"ngIf"],[1,"default-range"],[1,"separator",3,"mousedown"],["class","default-separator",4,"ngIf"],[1,"default-separator"],[1,"default-separator-item"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"section",0),f["\u0275\u0275template"](1,F,5,12,"ng-template",1),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",t.ranges))},directives:[l.m,l.n,l.s],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);display:flex;height:100%;height:32px;width:100%}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{display:inline-flex;flex-grow:100;justify-content:center}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:inline-flex;flex-basis:auto;justify-content:center;z-index:5}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]:hover{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{cursor:pointer;width:7px}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .default-range[_ngcontent-%COMP%]{align-self:center;font-size:10pt;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{cursor:ew-resize}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   .default-separator[_ngcontent-%COMP%]{display:flex;height:25.6px;justify-content:center;margin-top:3.2px;width:7px}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   .default-separator[_ngcontent-%COMP%]   .default-separator-item[_ngcontent-%COMP%]{height:100%;width:1px}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range.selected[_ngcontent-%COMP%]{-webkit-animation-duration:175ms;-webkit-animation-fill-mode:both;-webkit-animation-name:selected;-webkit-animation-timing-function:ease-in-out;animation-duration:175ms;animation-fill-mode:both;animation-name:selected;animation-timing-function:ease-in-out}[_nghost-%COMP%]   #container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]:not(.selected){-webkit-animation-duration:175ms;-webkit-animation-fill-mode:both;-webkit-animation-name:not-selected;-webkit-animation-timing-function:ease-in-out;animation-duration:175ms;animation-fill-mode:both;animation-name:not-selected;animation-timing-function:ease-in-out}"],changeDetection:0}),D.ctorParameters=function(){return[{type:f.ChangeDetectorRef},{type:f.ElementRef},{type:m.NgControl,decorators:[{type:f.Self},{type:f.Optional}]}]},D.propDecorators={select:[{type:f.Output}],errorFeedback:[{type:f.Output}],step:[{type:f.Input}],selected:[{type:f.Input}],rangeTemplate:[{type:f.ContentChild,args:["rangeTemplate"]}],separatorTemplate:[{type:f.ContentChild,args:["separatorTemplate"]}],onResize:[{type:f.HostListener,args:["window:resize",[]]}],disabled:[{type:f.Input}],readOnly:[{type:f.Input}]};var T=function e(){c(this,e)};T.\u0275mod=f["\u0275\u0275defineNgModule"]({type:T}),T.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||T)},imports:[[l.c]]});var V=o("KUKF"),z=o("KYkd"),$=o("iInd"),A=o("Cfvw"),Q=o("lJxs"),B=o("Kqap"),L=o("xbPD"),N=function e(t,n){c(this,e),this.minWeight=t,this.maxWeight=n},q=[new W(4,16),new W(16,20),new W(20,24),new W(24,36)],K=[new W(0,12.5),new W(12.5,25),new W(25,30)],G=[new W(0,12),new W(12,20),new W(20,24)],J=[new N(3,4),new N(4,6),new N(6,9),new N(9,12),new N(12,16),new N(16,20),new N(20,25),new N(25,32),new N(32,40),new N(40,200)],U=[1,2,4,8,16,20,22,24],X=o("iss+"),H=["dejaRange"],Y=["dejaWeight"];function Z(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card",5),f["\u0275\u0275element"](1,"deja-markdown",6),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/range/readme.md"))}function ee(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span",22),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"number"),f["\u0275\u0275pipe"](3,"number"),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate2"]("",f["\u0275\u0275pipeBind2"](2,2,n.minWeight,"1.0-2")," - ",f["\u0275\u0275pipeBind2"](3,5,n.maxWeight,"1.0-2")," kg")}}function te(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",23),f["\u0275\u0275namespaceSVG"](),f["\u0275\u0275elementStart"](1,"svg",24),f["\u0275\u0275element"](2,"polygon",25),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"svg",26),f["\u0275\u0275element"](4,"rect",27),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"svg",24),f["\u0275\u0275element"](6,"polygon",28),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"deja-snackbar",30),f["\u0275\u0275listener"]("onAnimationDone",(function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().$implicit.gate=!1})),f["\u0275\u0275elementStart"](1,"deja-message-box",31),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275property"]("duration",5e3),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](r.message)}}function re(e,t){if(1&e&&f["\u0275\u0275template"](0,ne,3,2,"deja-snackbar",29),2&e){var n=t.$implicit;f["\u0275\u0275property"]("ngIf",null==n?null:n.gate)}}function ae(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275elementStart"](1,"mat-card",7),f["\u0275\u0275elementStart"](2,"mat-toolbar",8),f["\u0275\u0275text"](3,"Default template : Read Only"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"mat-card-content"),f["\u0275\u0275elementStart"](5,"deja-range",9),f["\u0275\u0275listener"]("ngModelChange",(function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().readOnlyRanges=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"mat-card",7),f["\u0275\u0275elementStart"](7,"mat-toolbar",8),f["\u0275\u0275text"](8,"Default template : Movable separator, with an array of accepted intervals"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"mat-card-content"),f["\u0275\u0275elementStart"](10,"deja-range",10),f["\u0275\u0275listener"]("ngModelChange",(function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().rangesWithInterval=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"mat-card",7),f["\u0275\u0275elementStart"](12,"mat-toolbar",8),f["\u0275\u0275text"](13,"Default template : Movable separator, with a numeric step"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"mat-card-content"),f["\u0275\u0275elementStart"](15,"deja-range",11,12),f["\u0275\u0275listener"]("ngModelChange",(function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().ranges=e}))("errorFeedback",(function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().errorFeed.emit(e)})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"mat-card-content"),f["\u0275\u0275elementStart"](18,"button",13),f["\u0275\u0275text"](19,"Simple"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](20,"button",14),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275reference"](16).add()})),f["\u0275\u0275text"](21,"Split selected range"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](22,"button",14),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275reference"](16).remove()})),f["\u0275\u0275text"](23,"Remove selected range"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](24,"mat-card",7),f["\u0275\u0275elementStart"](25,"mat-toolbar",8),f["\u0275\u0275text"](26,"Custom template : Movable separator, with a function based step, logarithmic interpolation bewtween the model (weight) and the inner model"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"mat-card-content"),f["\u0275\u0275elementStart"](28,"deja-range",15,16),f["\u0275\u0275listener"]("ngModelChange",(function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().weights=e}))("ngModelChange",(function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().computeRangeFromWeight()}))("errorFeedback",(function(e){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().errorFeed.emit(e)})),f["\u0275\u0275template"](30,ee,4,8,"ng-template",null,17,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275template"](32,te,7,0,"ng-template",null,18,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](34,"mat-card-content"),f["\u0275\u0275elementStart"](35,"button",14),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](n);var e=f["\u0275\u0275reference"](29);return f["\u0275\u0275nextContext"]().add(e.selected)})),f["\u0275\u0275text"](36,"Split selected range"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"button",14),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](n);var e=f["\u0275\u0275reference"](29);return f["\u0275\u0275nextContext"]().remove(e.selected)})),f["\u0275\u0275text"](38,"Remove selected range"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](39,"button",19),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().decrease()})),f["\u0275\u0275text"](40,"Decrease minimum"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"button",20),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().increase()})),f["\u0275\u0275text"](42,"Increase maximum"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](43,re,1,1,"ng-template",21),f["\u0275\u0275pipe"](44,"async"),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("ngModel",r.readOnlyRanges),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("ngModel",r.rangesWithInterval)("readOnly",!1)("selected",1)("step",r.steps),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("ngModel",r.ranges)("readOnly",!1)("step",2.5),f["\u0275\u0275advance"](13),f["\u0275\u0275property"]("ngModel",r.weights)("readOnly",!1)("selected",0)("step",r.stepFn),f["\u0275\u0275advance"](11),f["\u0275\u0275property"]("disabled",0===(null==r.weights[0]?null:r.weights[0].minWeight)),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](44,14,r.errors$))}}var ie,oe,se=$.f.forChild([{path:"",component:(ie=function(){function t(){c(this,t),this.errorFeed=new f.EventEmitter,this.tabIndex=1,this.numericStep=1,this.readOnlyRanges=q,this.rangesWithInterval=G,this.ranges=K,this.weights=J,this.steps=U,this.computeRangeFromWeight(),this.errors$=Object(A.a)(this.errorFeed).pipe(Object(Q.a)((function(e){return{gate:!0,message:e.message}})),Object(B.a)((function(t,n){return[].concat(e(t),[n])}),[]),Object(L.a)([]))}return r(t,[{key:"computeRangeFromWeight",value:function(){var e=0;this.weights=this.weights.map((function(t){var n=Math.log(4*(t.maxWeight-t.minWeight));return t.min=e,t.max=e+n,e+=n,t}))}},{key:"stepFn",value:function(e){var t=e.ranges[e.index],n=e.ranges.length-1===e.index,r=Math.pow(Math.E,e.newMax-t.min)/4,a=t.minWeight+r;if(a=Math.round(a),a=Math.max(a,t.minWeight+1),!n){var i=e.ranges[e.index+1];a=Math.min(a,i.maxWeight-1),i.minWeight=a,t.maxWeight=a}return t.min+Math.log(4*(a-t.minWeight))}},{key:"remove",value:function(e){if(this.weights.length>=2){var t=this.weights.find((function(t,n){return e===n})),n=this.weights.filter((function(t,n){return e!==n}));e>0&&(n[e-1].maxWeight=t.maxWeight),this.weights=n,this.weightRef.selected=0,this.computeRangeFromWeight()}}},{key:"add",value:function(t){var n=this.weights.find((function(e,n){return t===n})),r=n.maxWeight-n.minWeight;if(r>=2){var a=new N(n.minWeight,n.minWeight+r/2);n.minWeight=n.minWeight+r/2;var i=0!==t?this.weights.slice(0,t):[],o=t<this.weights.length?this.weights.slice(t+1):[];this.weights=[].concat(e(i),[a,n],e(o)),this.weightRef.selected=0,this.computeRangeFromWeight()}}},{key:"increase",value:function(){this.weights[this.weights.length-1].maxWeight++,this.computeRangeFromWeight()}},{key:"decrease",value:function(){this.weights[0].minWeight>0&&(this.weights[0].minWeight--,this.computeRangeFromWeight())}}]),t}(),ie.\u0275fac=function(e){return new(e||ie)},ie.\u0275cmp=f["\u0275\u0275defineComponent"]({type:ie,selectors:[["deja-range-demo"]],viewQuery:function(e,t){var n;1&e&&(f["\u0275\u0275viewQuery"](H,!0),f["\u0275\u0275viewQuery"](Y,!0)),2&e&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.rangeRef=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.weightRef=n.first))},outputs:{errorFeed:"errorFeed"},decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["class","demo-card demo-basic",4,"ngIf"],[4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],[1,"demo-card"],["color","primary"],[3,"ngModel","ngModelChange"],[3,"ngModel","readOnly","selected","step","ngModelChange"],[3,"ngModel","readOnly","step","ngModelChange","errorFeedback"],["dejaRange",""],["mat-raised-button",""],["mat-raised-button","",3,"click"],["id","custom-range",3,"ngModel","readOnly","selected","step","ngModelChange","errorFeedback"],["dejaWeight",""],["rangeTemplate",""],["separatorTemplate",""],["id","decrease","mat-raised-button","",3,"disabled","click"],["id","increase","mat-raised-button","",3,"click"],["ngFor","",3,"ngForOf"],[1,"custom-range"],[1,"custom-separator"],[1,"triangle"],["points","0,0 10,0 5,5"],[1,"line"],["x","4.5","y","0"],["points","0,5 5,0 10,5 "],["alignment","bottom right",3,"duration","onAnimationDone",4,"ngIf"],["alignment","bottom right",3,"duration","onAnimationDone"],["type","warn","horizontal",""]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-tab-group",0),f["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabIndex=e.index})),f["\u0275\u0275element"](1,"mat-tab",1),f["\u0275\u0275element"](2,"mat-tab",2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](3,Z,2,1,"mat-card",3),f["\u0275\u0275template"](4,ae,45,16,"div",4)),2&e&&(f["\u0275\u0275property"]("selectedIndex",t.tabIndex),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",0===t.tabIndex),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",1===t.tabIndex))},directives:[d.b,d.a,l.n,u.a,X.a,p.a,u.c,D,m.NgControlStatus,m.NgModel,g.b,l.m,V.a,h.a],pipes:[l.b,l.f],styles:["[_nghost-%COMP%]   #custom-range-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   #flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;\n  justify-content:flex-end}[_nghost-%COMP%]   #flex-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:block;flex-grow:1;flex-shrink:0;box-sizing:border-box;margin:1rem}[_nghost-%COMP%]   #flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:1;flex-basis:36px;box-sizing:border-box;margin:1rem}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]{flex-basis:max-content;align-self:center;height:24px}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-range[_ngcontent-%COMP%]{display:flex;align-self:center;font-size:10pt;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]{display:flex;width:10px;flex-wrap:wrap}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.triangle[_ngcontent-%COMP%]{margin-top:-5px;width:10px;height:5px}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.triangle[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{fill:#333}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.line[_ngcontent-%COMP%]{height:34px;margin-top:-5px}[_nghost-%COMP%]   #custom-range[_ngcontent-%COMP%]   .custom-separator[_ngcontent-%COMP%]   svg.line[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#333;height:34px;width:1px}"]}),ie)},{path:"**",redirectTo:"",pathMatch:"full"}]),le=((oe=function e(){c(this,e)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:oe}),oe.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||oe)},providers:[],imports:[[l.c,m.FormsModule,u.d,d.c,p.b,g.c,T,z.a,V.b,h.b,se]]}),oe)}}])}();