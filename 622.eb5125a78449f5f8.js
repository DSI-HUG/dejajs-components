"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[622],{6622:(z,f,r)=>{r.r(f),r.d(f,{MonacoEditorDemoModule:()=>J});var h=r(9808),d=r(3075),g=r(9224),v=r(7446),_=r(4107),m=r(3251),M=r(4594),y=r(1402),t=r(5e3),p=r(1636);const j=["editor"];class D{}let T=(()=>{class o{initMonacoLib(){return this._loading||this.init(),this._loader}init(){this._loader=new Promise(e=>{this._loading=!0;const i=(document.getElementsByTagName("base")[0]||{}).href,a=window,l=a.MONACOEDITOR_BASEPATH||`${i}assets/monaco/vs`,x=()=>{a.require.config({paths:{vs:l}}),a.require(["vs/editor/editor.main"],()=>{e()})};if(a.require||a.monaco)x();else{const u=document.createElement("script");u.type="text/javascript",u.src=`${l}/loader.js`,u.addEventListener("load",x),document.body.appendChild(u)}})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),S=(()=>{class o{constructor(e,n){this.monacoEditorService=e,this.control=n,this.valueChange=new t.vpe,this.valueToCompareChange=new t.vpe,this.onInit=new t.vpe,this._value="",this._valueToCompare="",this.onTouchedCallback=()=>{},this.onChangeCallback=i=>{},console.warn("@deja-js/component/deja-monaco-editor is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/monaco-editor instead."),this.control&&(this.control.valueAccessor=this)}set language(e){e&&(this._language=e,this._editor&&this.ngAfterViewInit())}set valueToCompare(e){if(e!==this._valueToCompare){if(this._valueToCompare=e,void 0===this._valueToCompare||!this._valueToCompare||!this._editor)return;"vs.editor.ICodeEditor"!==this._editor.getEditorType()&&this.getModifiedModel().setValue(this._valueToCompare)}}set value(e){if(e!==this._value){if(this._value=e,!this._editor)return;(void 0===this._value||!this._value)&&(this._value=""),this.getOriginalModel().setValue(this._value),this.onChangeCallback(this._value)}}onResize(){this.editorContent.nativeElement.setAttribute("style","height: 100%; width: 100%;"),this._editor&&this._editor.layout()}ngAfterViewInit(){this.monacoEditorService.initMonacoLib().then(()=>{this.initEditor()})}ngOnDestroy(){this.dispose()}ngOnChanges(){this._editor&&this._editor.updateOptions(this.getOptions())}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}dispose(){const e=this.editorContent.nativeElement;if(this._editor){for(;e.hasChildNodes();)e.removeChild(e.firstChild);this._editor=null}}initEditor(){const e=this.editorContent.nativeElement,n=this.getOptions();this.dispose(),this._editor=this.isDiffEditor?this.initDiffEditor(e,n):this.initSimpleEditor(e,n),this.onResize(),this.getOriginalModel().onDidChangeContent(()=>{const i=this.getOriginalModel().getValue();this._value!==i&&this.updateValue(i)}),this.getModifiedModel()&&this.getModifiedModel().onDidChangeContent(()=>{const i=this.getModifiedModel().getValue();this._valueToCompare!==i&&this.updateValueToCompare(i)}),this.onInit.next(this._editor)}initSimpleEditor(e,n){return monaco.editor.create(e,n)}initDiffEditor(e,n){const i=monaco.editor.createModel(this._value,this.language),a=monaco.editor.createModel(this._valueToCompare,this.language),l=monaco.editor.createDiffEditor(e,n);return l.setModel({modified:a,original:i}),l}getOptions(){const e=new D;return e.experimentalScreenReader=this.experimentalScreenReader,e.ariaLabel=this.ariaLabel,e.rulers=this.rulers,e.wordSeparators=this.wordSeparators,e.selectionClipboard=this.selectionClipboard,e.lineNumbers=this.lineNumbers,e.selectOnLineNumbers=this.selectOnLineNumbers,e.lineNumbersMinChars=this.lineNumbersMinChars,e.glyphMargin=this.glyphMargin,e.lineDecorationsWidth=this.lineDecorationsWidth,e.revealHorizontalRightPadding=this.revealHorizontalRightPadding,e.roundedSelection=this.roundedSelection,e.theme=this.theme,e.readOnly=this.readOnly,e.scrollbar=this.scrollbar,e.overviewRulerLanes=this.overviewRulerLanes,e.cursorBlinking=this.cursorBlinking,e.mouseWheelZoom=this.mouseWheelZoom,e.cursorStyle=this.cursorStyle,e.mouseWheelZoom=this.mouseWheelZoom,e.fontLigatures=this.fontLigatures,e.disableTranslate3d=this.disableTranslate3d,e.hideCursorInOverviewRuler=this.hideCursorInOverviewRuler,e.scrollBeyondLastLine=this.scrollBeyondLastLine,e.automaticLayout=this.automaticLayout,e.wrappingColumn=this.wrappingColumn,e.wordWrap=this.wordWrap,e.wrappingIndent=this.wrappingIndent,e.wordWrapBreakBeforeCharacters=this.wordWrapBreakBeforeCharacters,e.wordWrapBreakAfterCharacters=this.wordWrapBreakAfterCharacters,e.wordWrapBreakObtrusiveCharacters=this.wordWrapBreakObtrusiveCharacters,e.stopRenderingLineAfter=this.stopRenderingLineAfter,e.hover=this.hover,e.contextmenu=this.contextmenu,e.mouseWheelScrollSensitivity=this.mouseWheelScrollSensitivity,e.quickSuggestions=this.quickSuggestions,e.quickSuggestionsDelay=this.quickSuggestionsDelay,e.parameterHints=this.parameterHints,e.iconsInSuggestions=this.iconsInSuggestions,e.autoClosingBrackets=this.autoClosingBrackets,e.formatOnType=this.formatOnType,e.suggestOnTriggerCharacters=this.suggestOnTriggerCharacters,e.acceptSuggestionOnEnter=this.acceptSuggestionOnEnter,e.snippetSuggestions=this.snippetSuggestions,e.tabCompletion=this.tabCompletion,e.wordBasedSuggestions=this.wordBasedSuggestions,e.selectionHighlight=this.selectionHighlight,e.codeLens=this.codeLens,e.folding=this.folding,e.renderWhitespace=this.renderWhitespace,e.renderControlCharacters=this.renderControlCharacters,e.renderIndentGuides=this.renderIndentGuides,e.renderLineHighlight=this.renderLineHighlight,e.useTabStops=this.useTabStops,e.fontFamily=this.fontFamily,e.fontWeight=this.fontWeight,e.fontSize=this.fontSize,e.lineHeight=this.lineHeight,e.formatOnPaste=this.formatOnPaste,e.value=this._value,e.language=this._language,Object.keys(e).forEach(n=>void 0===e[n]&&delete e[n]),e}updateValue(e){this._value=e,this.valueChange.emit(e),this.onChangeCallback(e)}updateValueToCompare(e){this._valueToCompare=e,this.valueToCompareChange.emit(e)}getOriginalModel(){if(this._editor){const e=this._editor.getModel();return e.original||e}}getModifiedModel(){if(this._editor)return this._editor.getModel().modified||null}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T),t.Y36(d.a5,10))},o.\u0275cmp=t.Xpm({type:o,selectors:[["deja-monaco-editor"]],viewQuery:function(e,n){if(1&e&&t.Gf(j,7),2&e){let i;t.iGM(i=t.CRH())&&(n.editorContent=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("resize",function(){return n.onResize()},!1,t.Jf7)},inputs:{experimentalScreenReader:"experimentalScreenReader",ariaLabel:"ariaLabel",rulers:"rulers",wordSeparators:"wordSeparators",selectionClipboard:"selectionClipboard",lineNumbers:"lineNumbers",selectOnLineNumbers:"selectOnLineNumbers",lineNumbersMinChars:"lineNumbersMinChars",glyphMargin:"glyphMargin",lineDecorationsWidth:"lineDecorationsWidth",revealHorizontalRightPadding:"revealHorizontalRightPadding",roundedSelection:"roundedSelection",theme:"theme",readOnly:"readOnly",scrollbar:"scrollbar",fixedOverflowWidgets:"fixedOverflowWidgets",overviewRulerLanes:"overviewRulerLanes",cursorBlinking:"cursorBlinking",mouseWheelZoom:"mouseWheelZoom",cursorStyle:"cursorStyle",fontLigatures:"fontLigatures",disableTranslate3d:"disableTranslate3d",disableMonospaceOptimizations:"disableMonospaceOptimizations",hideCursorInOverviewRuler:"hideCursorInOverviewRuler",scrollBeyondLastLine:"scrollBeyondLastLine",automaticLayout:"automaticLayout",wrappingColumn:"wrappingColumn",wordWrap:"wordWrap",wrappingIndent:"wrappingIndent",wordWrapBreakBeforeCharacters:"wordWrapBreakBeforeCharacters",wordWrapBreakAfterCharacters:"wordWrapBreakAfterCharacters",wordWrapBreakObtrusiveCharacters:"wordWrapBreakObtrusiveCharacters",stopRenderingLineAfter:"stopRenderingLineAfter",hover:"hover",contextmenu:"contextmenu",mouseWheelScrollSensitivity:"mouseWheelScrollSensitivity",quickSuggestions:"quickSuggestions",quickSuggestionsDelay:"quickSuggestionsDelay",parameterHints:"parameterHints",iconsInSuggestions:"iconsInSuggestions",autoClosingBrackets:"autoClosingBrackets",formatOnType:"formatOnType",formatOnPaste:"formatOnPaste",suggestOnTriggerCharacters:"suggestOnTriggerCharacters",acceptSuggestionOnEnter:"acceptSuggestionOnEnter",acceptSuggestionOnCommitCharacter:"acceptSuggestionOnCommitCharacter",snippetSuggestions:"snippetSuggestions",emptySelectionClipboard:"emptySelectionClipboard",tabCompletion:"tabCompletion",wordBasedSuggestions:"wordBasedSuggestions",suggestFontSize:"suggestFontSize",suggestLineHeight:"suggestLineHeight",selectionHighlight:"selectionHighlight",codeLens:"codeLens",folding:"folding",renderWhitespace:"renderWhitespace",renderControlCharacters:"renderControlCharacters",renderIndentGuides:"renderIndentGuides",renderLineHighlight:"renderLineHighlight",useTabStops:"useTabStops",fontFamily:"fontFamily",fontWeight:"fontWeight",fontSize:"fontSize",lineHeight:"lineHeight",isDiffEditor:"isDiffEditor",language:"language",valueToCompare:"valueToCompare",value:"value"},outputs:{valueChange:"valueChange",valueToCompareChange:"valueToCompareChange",onInit:"onInit"},features:[t.TTD],decls:2,vars:0,consts:[["resize-listener","",1,"monaco-editor",3,"sizeChanged"],["editor",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("sizeChanged",function(){return n.onResize()}),t.qZA())},directives:[p.mu],styles:["deja-monaco-editor{width:100%;display:flex;flex:1 1 auto}deja-monaco-editor .monaco-editor{flex:1 1 auto}\n"],encapsulation:2}),o})(),E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[T],imports:[[h.ez,d.u5,p.vf]]}),o})();var C=r(5868),b=r(3485),c=r(2722),O=r(4004),w=r(520);let L=(()=>{class o{constructor(e){this.httpClient=e}getFile$(e){return this.httpClient.get(`assets/datas/monaco/${e}`,{observe:"body",responseType:"text"}).pipe((0,O.U)(n=>n))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(w.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Z=r(1339),I=r(7322),H=r(508);function W(o,s){1&o&&(t.TgZ(0,"mat-card",6),t._UZ(1,"deja-markdown",7),t.qZA()),2&o&&(t.xp6(1),t.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/monaco-editor/readme.md"))}function A(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-card",6)(2,"mat-toolbar",8),t._uU(3," Modification d'un fichier XML "),t._UZ(4,"span",9),t.TgZ(5,"mat-checkbox",10),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().readOnly=i}),t._uU(6,"Read only"),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"div",11)(9,"deja-monaco-editor",12),t.NdJ("valueChange",function(i){return t.CHM(e),t.oxw().xmlContent=i})("valueChange",function(){return t.CHM(e),t.oxw().onValueChange()}),t.qZA()()()(),t.TgZ(10,"mat-card",6)(11,"mat-toolbar",8),t._uU(12,"Comparaison d'un fichier XML"),t.qZA(),t.TgZ(13,"mat-card-content")(14,"div",11)(15,"deja-monaco-editor",13),t.NdJ("valueChange",function(i){return t.CHM(e),t.oxw().xmlContent=i})("valueToCompareChange",function(i){return t.CHM(e),t.oxw().xmlContentToCompare=i})("valueToCompareChange",function(){return t.CHM(e),t.oxw().onValueToCompareChange()}),t.qZA()()()(),t.TgZ(16,"mat-card",6)(17,"mat-toolbar",8),t._uU(18,"Modification d'un fichier JSON"),t.qZA(),t.TgZ(19,"mat-card-content")(20,"div",11)(21,"deja-monaco-editor",14),t.NdJ("valueChange",function(i){return t.CHM(e),t.oxw().jsonContent=i}),t.qZA()()()(),t.TgZ(22,"mat-card",6)(23,"mat-toolbar",8),t._uU(24,"Comparaison d'un fichier JSON"),t.qZA(),t.TgZ(25,"mat-card-content")(26,"div",11)(27,"deja-monaco-editor",15),t.NdJ("valueChange",function(i){return t.CHM(e),t.oxw().jsonContent=i}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.readOnly),t.xp6(4),t.Q6J("value",e.xmlContent)("readOnly",e.readOnly)("folding",!0),t.xp6(6),t.Q6J("value",e.xmlContent)("valueToCompare",e.xmlContentToCompare)("isDiffEditor",!0)("folding",!0),t.xp6(6),t.Q6J("value",e.jsonContent)("folding",!0),t.xp6(6),t.Q6J("value",e.jsonContent)("valueToCompare",e.jsonContentToCompare)("isDiffEditor",!0)("folding",!0)}}function B(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-card",6)(2,"mat-toolbar",8),t._uU(3," Resize auto "),t.qZA(),t.TgZ(4,"mat-card-content",16)(5,"deja-splitter",17)(6,"split-area",18)(7,"deja-splitter",19)(8,"split-area",18)(9,"deja-monaco-editor",20),t.NdJ("valueChange",function(i){return t.CHM(e),t.oxw().xmlContent=i})("valueChange",function(){return t.CHM(e),t.oxw().onValueChange()}),t.qZA()(),t.TgZ(10,"split-area")(11,"p"),t._uU(12,"Sed ut perspiciatis unde omnis iste natus erro..."),t.qZA()()()(),t.TgZ(13,"split-area")(14,"p"),t._uU(15,"Sed ut perspiciatis unde omnis iste natus erro..."),t.qZA()()()()(),t.TgZ(16,"mat-card",6)(17,"mat-toolbar",8),t._uU(18," Modification du text et du language "),t.qZA(),t.TgZ(19,"mat-card-content")(20,"mat-form-field")(21,"mat-select",21),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().updateLanguage(i)}),t.TgZ(22,"mat-option",22),t._uU(23,"XML"),t.qZA(),t.TgZ(24,"mat-option",23),t._uU(25,"JSON"),t.qZA()()(),t.TgZ(26,"div",11)(27,"deja-monaco-editor",24),t.NdJ("valueChange",function(i){return t.CHM(e),t.oxw().dynamicContent=i}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("size",75),t.xp6(2),t.Q6J("size",75),t.xp6(1),t.Q6J("value",e.xmlContent)("readOnly",e.readOnly)("folding",!0),t.xp6(12),t.Q6J("ngModel",e.dynamicLanguage),t.xp6(6),t.Q6J("value",e.dynamicContent)("folding",!0)("language",e.dynamicLanguage)}}const R=[{path:"",component:(()=>{class o extends p.yl{constructor(e){super(),this.fileService=e,this.tabIndex=1,this.readOnly=!1}ngOnInit(){this.fileService.getFile$("xmlFile.xml").pipe((0,c.R)(this.destroyed$)).subscribe(e=>this.xmlContent=e),this.fileService.getFile$("xmlFileToCompare.xml").pipe((0,c.R)(this.destroyed$)).subscribe(e=>this.xmlContentToCompare=e),this.fileService.getFile$("jsonFile.json").pipe((0,c.R)(this.destroyed$)).subscribe(e=>this.jsonContent=e),this.fileService.getFile$("jsonFileToCompare.json").pipe((0,c.R)(this.destroyed$)).subscribe(e=>this.jsonContentToCompare=e),this.updateLanguage("xml")}onValueChange(){}onValueToCompareChange(){}updateLanguage(e){"json"===e?(this.dynamicLanguage=e,this.dynamicContent=this.jsonContent):(this.dynamicLanguage="xml",this.dynamicContent=this.xmlContent)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(L))},o.\u0275cmp=t.Xpm({type:o,selectors:[["deja-monaco-editor-demo"]],features:[t.qOj],decls:8,vars:4,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["label","AUTO RESIZE"],["class","demo-card demo-basic",4,"ngIf"],[4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],["color","primary"],["flex",""],[3,"ngModel","ngModelChange"],[1,"viewer"],["language","xml","theme","vs",3,"value","readOnly","folding","valueChange"],["language","xml",3,"value","valueToCompare","isDiffEditor","folding","valueChange","valueToCompareChange"],["language","json",3,"value","folding","valueChange"],["language","json",3,"value","valueToCompare","isDiffEditor","folding","valueChange"],[2,"height","500px"],["direction","vertical"],[3,"size"],["direction","horizontal"],["language","xml","theme","vs",2,"height","100%",3,"value","readOnly","folding","valueChange"],["placeholder","Language",3,"ngModel","ngModelChange"],["value","xml"],["value","json"],[3,"value","folding","language","valueChange"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedTabChange",function(a){return n.tabIndex=a.index}),t._uU(1,"> "),t._UZ(2,"mat-tab",1)(3,"mat-tab",2)(4,"mat-tab",3),t.qZA(),t.YNc(5,W,2,1,"mat-card",4),t.YNc(6,A,28,14,"div",5),t.YNc(7,B,28,9,"div",5)),2&e&&(t.Q6J("selectedIndex",n.tabIndex),t.xp6(5),t.Q6J("ngIf",0===n.tabIndex),t.xp6(1),t.Q6J("ngIf",1===n.tabIndex),t.xp6(1),t.Q6J("ngIf",2===n.tabIndex))},directives:[m.SP,m.uX,h.O5,g.a8,Z.F,M.Ye,v.oG,d.JJ,d.On,g.dn,S,C.tX,C.zE,I.KE,_.gD,H.ey],styles:["[_nghost-%COMP%]   .viewer[_ngcontent-%COMP%]{height:500px;display:flex;flex:1 1 100%}[_nghost-%COMP%]   .viewer[_ngcontent-%COMP%]   deja-monaco-editor[_ngcontent-%COMP%]{display:flex;flex:1 1 100%}[_nghost-%COMP%]   span[flex][_ngcontent-%COMP%]{flex:1 1 auto}"]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.ez,b.O,E,C.dp,d.u5,g.QW,v.p9,_.LD,m.Nh,M.g0,y.Bz.forChild(R)]]}),o})()}}]);