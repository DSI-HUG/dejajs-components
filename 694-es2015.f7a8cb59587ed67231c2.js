(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[694],{36694:function(e,t,i){"use strict";i.r(t),i.d(t,{MonacoEditorDemoModule:function(){return L}});var n=i(61511),o=i(16073),a=i(27439),r=i(29236),s=i(4786),l=i(55109),d=i(33104),u=i(71398),g=i(31572),h=i(27312);const c=["editor"];class m{}let p=(()=>{class e{initMonacoLib(){return this._loading||this.init(),this._loader}init(){this._loader=new Promise(e=>{this._loading=!0;const t=document.getElementsByTagName("base")[0]||{},i=window,n=i.MONACOEDITOR_BASEPATH||`${t.href}assets/monaco/vs`,o=()=>{i.require.config({paths:{vs:n}}),i.require(["vs/editor/editor.main"],()=>{e()})};if(i.require||i.monaco)o();else{const e=document.createElement("script");e.type="text/javascript",e.src=`${n}/loader.js`,e.addEventListener("load",o),document.body.appendChild(e)}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e{constructor(e,t){this.monacoEditorService=e,this.control=t,this.valueChange=new g.vpe,this.valueToCompareChange=new g.vpe,this.onInit=new g.vpe,this._value="",this._valueToCompare="",this.onTouchedCallback=()=>{},this.onChangeCallback=e=>{},console.warn("@deja-js/component/deja-monaco-editor is deprecated, and will be removed in a further version. Please use @deja-js/component/v2/monaco-editor instead."),this.control&&(this.control.valueAccessor=this)}set language(e){e&&(this._language=e,this._editor&&this.ngAfterViewInit())}set valueToCompare(e){if(e!==this._valueToCompare){if(this._valueToCompare=e,void 0===this._valueToCompare||!this._valueToCompare||!this._editor)return;"vs.editor.ICodeEditor"!==this._editor.getEditorType()&&this.getModifiedModel().setValue(this._valueToCompare)}}set value(e){if(e!==this._value){if(this._value=e,!this._editor)return;void 0!==this._value&&this._value||(this._value=""),this.getOriginalModel().setValue(this._value),this.onChangeCallback(this._value)}}onResize(){this.editorContent.nativeElement.setAttribute("style","height: 100%; width: 100%;"),this._editor&&this._editor.layout()}ngAfterViewInit(){this.monacoEditorService.initMonacoLib().then(()=>{this.initEditor()})}ngOnDestroy(){this.dispose()}ngOnChanges(){this._editor&&this._editor.updateOptions(this.getOptions())}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}dispose(){const e=this.editorContent.nativeElement;if(this._editor){for(;e.hasChildNodes();)e.removeChild(e.firstChild);this._editor=null}}initEditor(){const e=this.editorContent.nativeElement,t=this.getOptions();this.dispose(),this._editor=this.isDiffEditor?this.initDiffEditor(e,t):this.initSimpleEditor(e,t),this.onResize(),this.getOriginalModel().onDidChangeContent(()=>{const e=this.getOriginalModel().getValue();this._value!==e&&this.updateValue(e)}),this.getModifiedModel()&&this.getModifiedModel().onDidChangeContent(()=>{const e=this.getModifiedModel().getValue();this._valueToCompare!==e&&this.updateValueToCompare(e)}),this.onInit.next(this._editor)}initSimpleEditor(e,t){return monaco.editor.create(e,t)}initDiffEditor(e,t){const i=monaco.editor.createModel(this._value,this.language),n=monaco.editor.createModel(this._valueToCompare,this.language),o=monaco.editor.createDiffEditor(e,t);return o.setModel({modified:n,original:i}),o}getOptions(){const e=new m;return e.experimentalScreenReader=this.experimentalScreenReader,e.ariaLabel=this.ariaLabel,e.rulers=this.rulers,e.wordSeparators=this.wordSeparators,e.selectionClipboard=this.selectionClipboard,e.lineNumbers=this.lineNumbers,e.selectOnLineNumbers=this.selectOnLineNumbers,e.lineNumbersMinChars=this.lineNumbersMinChars,e.glyphMargin=this.glyphMargin,e.lineDecorationsWidth=this.lineDecorationsWidth,e.revealHorizontalRightPadding=this.revealHorizontalRightPadding,e.roundedSelection=this.roundedSelection,e.theme=this.theme,e.readOnly=this.readOnly,e.scrollbar=this.scrollbar,e.overviewRulerLanes=this.overviewRulerLanes,e.cursorBlinking=this.cursorBlinking,e.mouseWheelZoom=this.mouseWheelZoom,e.cursorStyle=this.cursorStyle,e.mouseWheelZoom=this.mouseWheelZoom,e.fontLigatures=this.fontLigatures,e.disableTranslate3d=this.disableTranslate3d,e.hideCursorInOverviewRuler=this.hideCursorInOverviewRuler,e.scrollBeyondLastLine=this.scrollBeyondLastLine,e.automaticLayout=this.automaticLayout,e.wrappingColumn=this.wrappingColumn,e.wordWrap=this.wordWrap,e.wrappingIndent=this.wrappingIndent,e.wordWrapBreakBeforeCharacters=this.wordWrapBreakBeforeCharacters,e.wordWrapBreakAfterCharacters=this.wordWrapBreakAfterCharacters,e.wordWrapBreakObtrusiveCharacters=this.wordWrapBreakObtrusiveCharacters,e.stopRenderingLineAfter=this.stopRenderingLineAfter,e.hover=this.hover,e.contextmenu=this.contextmenu,e.mouseWheelScrollSensitivity=this.mouseWheelScrollSensitivity,e.quickSuggestions=this.quickSuggestions,e.quickSuggestionsDelay=this.quickSuggestionsDelay,e.parameterHints=this.parameterHints,e.iconsInSuggestions=this.iconsInSuggestions,e.autoClosingBrackets=this.autoClosingBrackets,e.formatOnType=this.formatOnType,e.suggestOnTriggerCharacters=this.suggestOnTriggerCharacters,e.acceptSuggestionOnEnter=this.acceptSuggestionOnEnter,e.snippetSuggestions=this.snippetSuggestions,e.tabCompletion=this.tabCompletion,e.wordBasedSuggestions=this.wordBasedSuggestions,e.selectionHighlight=this.selectionHighlight,e.codeLens=this.codeLens,e.folding=this.folding,e.renderWhitespace=this.renderWhitespace,e.renderControlCharacters=this.renderControlCharacters,e.renderIndentGuides=this.renderIndentGuides,e.renderLineHighlight=this.renderLineHighlight,e.useTabStops=this.useTabStops,e.fontFamily=this.fontFamily,e.fontWeight=this.fontWeight,e.fontSize=this.fontSize,e.lineHeight=this.lineHeight,e.formatOnPaste=this.formatOnPaste,e.value=this._value,e.language=this._language,Object.keys(e).forEach(t=>void 0===e[t]&&delete e[t]),e}updateValue(e){this._value=e,this.valueChange.emit(e),this.onChangeCallback(e)}updateValueToCompare(e){this._valueToCompare=e,this.valueToCompareChange.emit(e)}getOriginalModel(){if(this._editor){const e=this._editor.getModel();return e.original||e}}getModifiedModel(){if(this._editor)return this._editor.getModel().modified||null}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(p),g.Y36(o.a5,10))},e.\u0275cmp=g.Xpm({type:e,selectors:[["deja-monaco-editor"]],viewQuery:function(e,t){if(1&e&&g.Gf(c,7),2&e){let e;g.iGM(e=g.CRH())&&(t.editorContent=e.first)}},hostBindings:function(e,t){1&e&&g.NdJ("resize",function(){return t.onResize()},!1,g.Jf7)},inputs:{experimentalScreenReader:"experimentalScreenReader",ariaLabel:"ariaLabel",rulers:"rulers",wordSeparators:"wordSeparators",selectionClipboard:"selectionClipboard",lineNumbers:"lineNumbers",selectOnLineNumbers:"selectOnLineNumbers",lineNumbersMinChars:"lineNumbersMinChars",glyphMargin:"glyphMargin",lineDecorationsWidth:"lineDecorationsWidth",revealHorizontalRightPadding:"revealHorizontalRightPadding",roundedSelection:"roundedSelection",theme:"theme",readOnly:"readOnly",scrollbar:"scrollbar",fixedOverflowWidgets:"fixedOverflowWidgets",overviewRulerLanes:"overviewRulerLanes",cursorBlinking:"cursorBlinking",mouseWheelZoom:"mouseWheelZoom",cursorStyle:"cursorStyle",fontLigatures:"fontLigatures",disableTranslate3d:"disableTranslate3d",disableMonospaceOptimizations:"disableMonospaceOptimizations",hideCursorInOverviewRuler:"hideCursorInOverviewRuler",scrollBeyondLastLine:"scrollBeyondLastLine",automaticLayout:"automaticLayout",wrappingColumn:"wrappingColumn",wordWrap:"wordWrap",wrappingIndent:"wrappingIndent",wordWrapBreakBeforeCharacters:"wordWrapBreakBeforeCharacters",wordWrapBreakAfterCharacters:"wordWrapBreakAfterCharacters",wordWrapBreakObtrusiveCharacters:"wordWrapBreakObtrusiveCharacters",stopRenderingLineAfter:"stopRenderingLineAfter",hover:"hover",contextmenu:"contextmenu",mouseWheelScrollSensitivity:"mouseWheelScrollSensitivity",quickSuggestions:"quickSuggestions",quickSuggestionsDelay:"quickSuggestionsDelay",parameterHints:"parameterHints",iconsInSuggestions:"iconsInSuggestions",autoClosingBrackets:"autoClosingBrackets",formatOnType:"formatOnType",formatOnPaste:"formatOnPaste",suggestOnTriggerCharacters:"suggestOnTriggerCharacters",acceptSuggestionOnEnter:"acceptSuggestionOnEnter",acceptSuggestionOnCommitCharacter:"acceptSuggestionOnCommitCharacter",snippetSuggestions:"snippetSuggestions",emptySelectionClipboard:"emptySelectionClipboard",tabCompletion:"tabCompletion",wordBasedSuggestions:"wordBasedSuggestions",suggestFontSize:"suggestFontSize",suggestLineHeight:"suggestLineHeight",selectionHighlight:"selectionHighlight",codeLens:"codeLens",folding:"folding",renderWhitespace:"renderWhitespace",renderControlCharacters:"renderControlCharacters",renderIndentGuides:"renderIndentGuides",renderLineHighlight:"renderLineHighlight",useTabStops:"useTabStops",fontFamily:"fontFamily",fontWeight:"fontWeight",fontSize:"fontSize",lineHeight:"lineHeight",isDiffEditor:"isDiffEditor",language:"language",valueToCompare:"valueToCompare",value:"value"},outputs:{valueChange:"valueChange",valueToCompareChange:"valueToCompareChange",onInit:"onInit"},features:[g.TTD],decls:2,vars:0,consts:[["resize-listener","",1,"monaco-editor",3,"sizeChanged"],["editor",""]],template:function(e,t){1&e&&(g.TgZ(0,"div",0,1),g.NdJ("sizeChanged",function(){return t.onResize()}),g.qZA())},directives:[h.mu],styles:["deja-monaco-editor{width:100%;display:flex;flex:1 1 auto}deja-monaco-editor .monaco-editor{flex:1 1 auto}"],encapsulation:2}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[p],imports:[[n.ez,o.u5,h.vf]]}),e})();var v=i(45352),T=i(7631),Z=i(25416),b=i(79996),x=i(29063);let w=(()=>{class e{constructor(e){this.httpClient=e}getFile$(e){return this.httpClient.get(`assets/datas/monaco/${e}`,{observe:"body",responseType:"text"}).pipe((0,b.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(x.eN))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e})();var y=i(50246),S=i(66283),O=i(71522);function _(e,t){1&e&&(g.TgZ(0,"mat-card",6),g._UZ(1,"deja-markdown",7),g.qZA()),2&e&&(g.xp6(1),g.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/monaco-editor/readme.md"))}function M(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"mat-card",6),g.TgZ(2,"mat-toolbar",8),g._uU(3," Modification d'un fichier XML "),g._UZ(4,"span",9),g.TgZ(5,"mat-checkbox",10),g.NdJ("ngModelChange",function(t){return g.CHM(e),g.oxw().readOnly=t}),g._uU(6,"Read only"),g.qZA(),g.qZA(),g.TgZ(7,"mat-card-content"),g.TgZ(8,"div",11),g.TgZ(9,"deja-monaco-editor",12),g.NdJ("valueChange",function(t){return g.CHM(e),g.oxw().xmlContent=t})("valueChange",function(){return g.CHM(e),g.oxw().onValueChange()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"mat-card",6),g.TgZ(11,"mat-toolbar",8),g._uU(12,"Comparaison d'un fichier XML"),g.qZA(),g.TgZ(13,"mat-card-content"),g.TgZ(14,"div",11),g.TgZ(15,"deja-monaco-editor",13),g.NdJ("valueChange",function(t){return g.CHM(e),g.oxw().xmlContent=t})("valueToCompareChange",function(t){return g.CHM(e),g.oxw().xmlContentToCompare=t})("valueToCompareChange",function(){return g.CHM(e),g.oxw().onValueToCompareChange()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"mat-card",6),g.TgZ(17,"mat-toolbar",8),g._uU(18,"Modification d'un fichier JSON"),g.qZA(),g.TgZ(19,"mat-card-content"),g.TgZ(20,"div",11),g.TgZ(21,"deja-monaco-editor",14),g.NdJ("valueChange",function(t){return g.CHM(e),g.oxw().jsonContent=t}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"mat-card",6),g.TgZ(23,"mat-toolbar",8),g._uU(24,"Comparaison d'un fichier JSON"),g.qZA(),g.TgZ(25,"mat-card-content"),g.TgZ(26,"div",11),g.TgZ(27,"deja-monaco-editor",15),g.NdJ("valueChange",function(t){return g.CHM(e),g.oxw().jsonContent=t}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(5),g.Q6J("ngModel",e.readOnly),g.xp6(4),g.Q6J("value",e.xmlContent)("readOnly",e.readOnly)("folding",!0),g.xp6(6),g.Q6J("value",e.xmlContent)("valueToCompare",e.xmlContentToCompare)("isDiffEditor",!0)("folding",!0),g.xp6(6),g.Q6J("value",e.jsonContent)("folding",!0),g.xp6(6),g.Q6J("value",e.jsonContent)("valueToCompare",e.jsonContentToCompare)("isDiffEditor",!0)("folding",!0)}}function A(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"mat-card",6),g.TgZ(2,"mat-toolbar",8),g._uU(3," Resize auto "),g.qZA(),g.TgZ(4,"mat-card-content",16),g.TgZ(5,"deja-splitter",17),g.TgZ(6,"split-area",18),g.TgZ(7,"deja-splitter",19),g.TgZ(8,"split-area",18),g.TgZ(9,"deja-monaco-editor",20),g.NdJ("valueChange",function(t){return g.CHM(e),g.oxw().xmlContent=t})("valueChange",function(){return g.CHM(e),g.oxw().onValueChange()}),g.qZA(),g.qZA(),g.TgZ(10,"split-area"),g.TgZ(11,"p"),g._uU(12,"Sed ut perspiciatis unde omnis iste natus erro..."),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"split-area"),g.TgZ(14,"p"),g._uU(15,"Sed ut perspiciatis unde omnis iste natus erro..."),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"mat-card",6),g.TgZ(17,"mat-toolbar",8),g._uU(18," Modification du text et du language "),g.qZA(),g.TgZ(19,"mat-card-content"),g.TgZ(20,"mat-form-field"),g.TgZ(21,"mat-select",21),g.NdJ("ngModelChange",function(t){return g.CHM(e),g.oxw().updateLanguage(t)}),g.TgZ(22,"mat-option",22),g._uU(23,"XML"),g.qZA(),g.TgZ(24,"mat-option",23),g._uU(25,"JSON"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"div",11),g.TgZ(27,"deja-monaco-editor",24),g.NdJ("valueChange",function(t){return g.CHM(e),g.oxw().dynamicContent=t}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(6),g.Q6J("size",75),g.xp6(2),g.Q6J("size",75),g.xp6(1),g.Q6J("value",e.xmlContent)("readOnly",e.readOnly)("folding",!0),g.xp6(12),g.Q6J("ngModel",e.dynamicLanguage),g.xp6(6),g.Q6J("value",e.dynamicContent)("folding",!0)("language",e.dynamicLanguage)}}const q=[{path:"",component:(()=>{class e extends h.yl{constructor(e){super(),this.fileService=e,this.tabIndex=1,this.readOnly=!1}ngOnInit(){this.fileService.getFile$("xmlFile.xml").pipe((0,Z.R)(this.destroyed$)).subscribe(e=>this.xmlContent=e),this.fileService.getFile$("xmlFileToCompare.xml").pipe((0,Z.R)(this.destroyed$)).subscribe(e=>this.xmlContentToCompare=e),this.fileService.getFile$("jsonFile.json").pipe((0,Z.R)(this.destroyed$)).subscribe(e=>this.jsonContent=e),this.fileService.getFile$("jsonFileToCompare.json").pipe((0,Z.R)(this.destroyed$)).subscribe(e=>this.jsonContentToCompare=e),this.updateLanguage("xml")}onValueChange(){}onValueToCompareChange(){}updateLanguage(e){switch(e){case"json":this.dynamicLanguage=e,this.dynamicContent=this.jsonContent;break;default:this.dynamicLanguage="xml",this.dynamicContent=this.xmlContent}}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(w))},e.\u0275cmp=g.Xpm({type:e,selectors:[["deja-monaco-editor-demo"]],features:[g._Bn([w]),g.qOj],decls:8,vars:4,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["label","AUTO RESIZE"],["class","demo-card demo-basic",4,"ngIf"],[4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],["color","primary"],["flex",""],[3,"ngModel","ngModelChange"],[1,"viewer"],["language","xml","theme","vs",3,"value","readOnly","folding","valueChange"],["language","xml",3,"value","valueToCompare","isDiffEditor","folding","valueChange","valueToCompareChange"],["language","json",3,"value","folding","valueChange"],["language","json",3,"value","valueToCompare","isDiffEditor","folding","valueChange"],[2,"height","500px"],["direction","vertical"],[3,"size"],["direction","horizontal"],["language","xml","theme","vs",2,"height","100%",3,"value","readOnly","folding","valueChange"],["placeholder","Language",3,"ngModel","ngModelChange"],["value","xml"],["value","json"],[3,"value","folding","language","valueChange"]],template:function(e,t){1&e&&(g.TgZ(0,"mat-tab-group",0),g.NdJ("selectedTabChange",function(e){return t.tabIndex=e.index}),g._uU(1,"> "),g._UZ(2,"mat-tab",1),g._UZ(3,"mat-tab",2),g._UZ(4,"mat-tab",3),g.qZA(),g.YNc(5,_,2,1,"mat-card",4),g.YNc(6,M,28,14,"div",5),g.YNc(7,A,28,9,"div",5)),2&e&&(g.Q6J("selectedIndex",t.tabIndex),g.xp6(5),g.Q6J("ngIf",0===t.tabIndex),g.xp6(1),g.Q6J("ngIf",1===t.tabIndex),g.xp6(1),g.Q6J("ngIf",2===t.tabIndex))},directives:[l.SP,l.uX,n.O5,a.a8,y.F,d.Ye,r.oG,o.JJ,o.On,a.dn,C,v.tX,v.zE,S.KE,s.gD,O.ey],styles:["[_nghost-%COMP%]   .viewer[_ngcontent-%COMP%]{height:500px;display:flex;flex:1 1 100%}[_nghost-%COMP%]   .viewer[_ngcontent-%COMP%]   deja-monaco-editor[_ngcontent-%COMP%]{display:flex;flex:1 1 100%}[_nghost-%COMP%]   span[flex][_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[w],imports:[[f,n.ez,o.u5,a.QW,r.p9,s.LD,l.Nh,d.g0,v.dp,T.O,u.Bz.forChild(q)]]}),e})()}}]);