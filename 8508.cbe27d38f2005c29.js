"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[8508],{8508:(ni,se,p)=>{p.r(se),p.d(se,{TreeListDemoModule:()=>ei});var N=p(9808),M=p(3075),ee=p(7423),te=p(9224),re=p(7446),k=p(7322),j=p(5245),W=p(7531),ie=p(3251),le=p(4594),oe=p(4765),we=p(5965),Te=p(9710),e=p(5e3);class F{constructor(l,t,n){this.model=n,this.id=l,this.label=t}get isCollapsible(){var l;return this.items&&(null===(l=this.collapsible)||void 0===l||l)}get isVisible(){var l;return null===(l=this.visible)||void 0===l||l}get isSelectable(){var l;return null===(l=this.selectable)||void 0===l||l}}var Z=p(2031),R=p(4707),q=p(1135),b=p(4004),U=p(4782),J=p(2718),K=p(2181),$=p(3900),B=p(5698),S=p(9646),H=p(8505),G=p(1365),L=p(9300),Ze=p(8675);let ne=(()=>{class i{constructor(t){this.diacriticService=t,this.items$=new R.t(1),this.models$=new R.t(1),this.options$=new R.t(1),this.childrenField$=new q.X("items"),this.textField$=new q.X("label"),this.valueField$=new q.X("value"),this.searchField$=new q.X("searchText"),this.query$=new q.X(""),this.minSearchLength$=new q.X(0),this.refreshFlatItemList$=new q.X(void 0),this.refreshFilterItemList$=new q.X(void 0),this.refreshVisibleItemList$=new q.X(void 0),this.refreshSelection$=new q.X({}),this.compareItems=(o,c)=>{const h=v=>null!=v;if(!h(o)||!h(c))return!1;{const v=o.model,m=o.model;return null!=v&&v.equals?v.equals(c.model):null!=m&&m.equals?m.equals(o.model):o.id&&c.id?o.id===c.id:o.model===c.model}},this.compareModels=(o,c,h)=>{const v=m=>null!=m;if(!v(o)||!v(c))return!1;if(o===c)return!0;if(Object(o)===o&&Object(c)===c){const m=o,g=c;return null!=m&&m.equals?m.equals(c):null!=g&&g.equals?g.equals(o):!!h&&this.extractValueField(o,h)===this.extractValueField(c,h)}return!1};const n=this.options$.pipe((0,b.U)(o=>{const c=o.map(h=>{const v=new F(h.value,h.text);return v.selected=!0===h.selected||""===h.selected,v});return c.length>100&&console.error("Select options with more than 100 items can have performance options. Please bind directly the items in code behind with items or models input."),c}),(0,U.d)({bufferSize:1,refCount:!1})),r=this.models$.pipe((0,J.V)(this.valueField$,this.textField$,this.childrenField$),(0,b.U)(([o,c,h,v])=>o&&o instanceof Array&&this.mapToItem(o,c,h,v)||new Array),(0,U.d)({bufferSize:1,refCount:!1}));this.itemList$=this.items$.pipe((0,K.b)(r,n),(0,$.w)(o=>this.selectedItems$&&(null==o?void 0:o.length)>0?this.selectedItems$.pipe((0,B.q)(1),(0,b.U)(c=>{if(null!=c&&c.length){const h=c.reduce((v,m)=>(m.id&&v.add(m.id),v),new Set);o.forEach(v=>{v.id&&(v.selected=h.has(v.id))})}return o})):(0,S.of)(o)),(0,U.d)({bufferSize:1,refCount:!1})),this.flatItemList$=this.itemList$.pipe((0,J.V)(this.refreshFlatItemList$),(0,b.U)(([o])=>{const c=(h,v)=>h.reduce((m,g)=>{var _;return g.depth=v,m.push(g),null!==(_=g.items)&&void 0!==_&&_.length?[...m,...c(g.items,v+1)]:m},new Array);return o&&c(o,0)||new Array}),(0,H.b)(()=>{this.previousQuery=void 0}),(0,U.d)({bufferSize:1,refCount:!1}));const d=this.refreshFilterItemList$.pipe((0,H.b)(()=>{this.previousQuery=void 0}));this.filteredItemList$=this.flatItemList$.pipe((0,J.V)(this.query$,this.minSearchLength$,this.searchField$,d),(0,$.w)(([o,c,h,v])=>{if(h>0&&(!c||"string"==typeof c&&c.length<h))return this.previousQuery=null,(0,S.of)(new Array);if(!c)return(0,S.of)(o);const m="string"==typeof c&&this.previousQuery&&c.includes(this.previousQuery)&&this.filteredItemList$?this.filteredItemList$:(0,S.of)(o);let _;if(this.previousQuery="string"==typeof c?c:null,c)if("string"==typeof c)try{const s=(s=>(["\\","/","|","&",";","$","%","@",'"',"<",">","(",")","+"].forEach(f=>s=s.replace(f,`\\${f}`)),s))(c=this.diacriticService.remove(c));_=new RegExp(s,"i")}catch(s){console.log("Invalid search parameters")}else _=c,void 0===_.test&&(_=void 0);return m.pipe((0,B.q)(1),(0,b.U)(s=>{let a;return[...s].reverse().filter(f=>{let w;return w=void 0===f.items?this.itemMatch(f,v,_):this.parentItemMatch(f,a,v,_),w&&(a=f),w}).reverse()}))}),(0,U.d)({bufferSize:1,refCount:!1})),this.visibleItemList$=this.filteredItemList$.pipe((0,J.V)(this.refreshVisibleItemList$),(0,b.U)(([o])=>{let h,c=!1;return o.filter(v=>{var m;return!(void 0!==h&&h<=v.depth||(null===(m=v.isVisible)||void 0===m||m?(h=v.collapsed?v.depth+1:void 0,c=void 0===v.items&&!c,v.odd=c,0):(h=v.depth+1,1)))})}),(0,U.d)({bufferSize:1,refCount:!1})),this.selectedItems$=this.visibleItemList$.pipe((0,J.V)(this.valueField$,this.refreshSelection$),(0,G.M)(this.flatItemList$),(0,L.h)(([o,c])=>(null==c?void 0:c.length)>0),(0,$.w)(([[o,c,h],v])=>{const m=h.selectItems,g=h.unselectItems,_=h.toggle,s=h.checkSelectable,a=h.selectParents,f=h.selectModels,w=h.selectValues;let x;delete h.selectItems,delete h.unselectItems,delete h.toggle,delete h.checkSelectable,delete h.selectParents,delete h.selectModels,delete h.selectValues,x=g?("all"===g?v:g).filter(C=>{var E;return C.selecting=!C.selected&&void 0,!(null===(E=C.selecting)||void 0===E||E)}):new Array,m&&(null==o?void 0:o.length)>0&&("all"===m?x=o.filter(u=>(u.selecting=(a||!u.items)&&(!s||u.isSelectable)||u.selecting,void 0!==u.selecting)):null!=m&&m.length&&(x=[...x,...m.filter(u=>(u.selecting=!s||u.isSelectable||u.selecting,void 0!==u.selecting))])),f&&(null==o?void 0:o.length)>0&&(x=[...x,...o.filter(u=>(u.selecting=(!s||u.isSelectable)&&f.some(C=>this.compareModels(C,u.model,c))||u.selecting,void 0!==u.selecting))]),w&&(null==o?void 0:o.length)>0&&(x=[...x,...o.filter(u=>(u.selecting=(!s||u.isSelectable)&&w.some(C=>C===u.id)||u.selecting,void 0!==u.selecting))]),_&&_.forEach(u=>{u.selecting=!u.selected,x.push(u)});const T=x.filter(u=>u.selecting),A=x.filter(u=>!u.selecting);return(T.length&&this.selectingItems?this.selectingItems(T):(0,S.of)(T)).pipe((0,b.U)(u=>null==u?void 0:u.forEach(C=>C.selected=!0)),(0,$.w)(()=>A.length&&this.unSelectingItems?this.unSelectingItems(A):(0,S.of)(A)),(0,b.U)(u=>(null==u||u.forEach(C=>C.selected=!1),x.forEach(C=>delete C.selecting),o.filter(C=>C.selected))))}),(0,Ze.O)(new Array),(0,U.d)({bufferSize:1,refCount:!1}))}mapToItem(t,n,r,d){return t.map(o=>{const c=new F;if(c.model=o,"string"==typeof o)c.id=o,c.label=o;else{const h=this.extractValueField(o,r);void 0!==h&&(c.label=h);const v=this.extractValueField(o,n);if(void 0!==v&&(c.id=v),d){const m=this.extractValueField(o,d);m&&m instanceof Array&&(c.items=this.mapToItem(m,n,r,d))}}return c})}unselectAll(){this.refreshSelection$.next({unselectItems:"all"})}selectAll(t){this.refreshSelection$.next({selectItems:"all",checkSelectable:t})}unSelectItem(t){this.refreshSelection$.next({unselectItems:[t]})}selectItem(t){this.refreshSelection$.next({selectItems:[t]})}unSelectItems(t){this.refreshSelection$.next({unselectItems:t})}selectItems(t){this.refreshSelection$.next({selectItems:t})}setSelectedItems(t){this.refreshSelection$.next({unselectItems:"all",selectItems:t})}setSelectedModels(t){this.refreshSelection$.next({unselectItems:"all",selectModels:t})}setSelectedValues(t){this.refreshSelection$.next({unselectItems:"all",selectValues:t})}toggleSelect(t){this.refreshSelection$.next({toggle:t})}getItemIndexFromHtmlElement(t){for(;(null==t?void 0:t.parentElement)&&t.hasAttribute&&!t.hasAttribute("flat")&&"BODY"!==t.parentElement.tagName;)t=t.parentElement;if(t&&t.hasAttribute("flat"))return+t.getAttribute("flat")}itemMatch(t,n,r){var d;const c=null!==(d=n&&t[n])&&void 0!==d?d:t.label;return c&&r.test(this.diacriticService.remove(c))}parentItemMatch(t,n,r,d){return n&&n.depth===t.depth+1}extractValueField(t,n){const r=t;return n.split(".").reduce((o,c)=>o[c],r)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Z.R5))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var V=p(3191);let ae=(()=>{class i{set selected(t){this._selected=(0,V.Ig)(t)}get selected(){return this._selected}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["item"]],inputs:{value:"value",text:"text",selected:"selected"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();var Ce=p(1677);let be=(()=>{class i{sort(t,n){if(null!=t&&t.length){const r=n instanceof Array?n:[n];let d=r.length;for(;--d>=0;){const o=r[d];t=(0,Ce.Z)(t,o.name),"descending"===o.order&&(t=t.reverse())}}return t}sortTree(t,n,r="items"){return this.sort(t,n).map(d=>((null==d?void 0:d[r])&&(null==d?void 0:d[r])instanceof Array&&this.sortTree(d[r],n,r),d))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),de=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})();var Ie=p(567),Ae=p(8042),ce=p(1976),X=p(7579),D=p(2722),Y=p(4326),Se=p(1884),Q=p(4968),ye=p(5963),Me=p(5335),$e=p(8770);const Ue=["itemTemplate"],Le=["parentItemTemplate"],qe=["headerTemplate"],Ee=["searchPrefixTemplate"],Pe=["searchSuffixTemplate"],Fe=["listElement"],De=["inputelement"];function Ne(i,l){}function Je(i,l){if(1&i&&(e.TgZ(0,"span",12),e.YNc(1,Ne,0,0,"ng-template",13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchPrefixTemplate)}}function Ve(i,l){}function Qe(i,l){if(1&i&&(e.TgZ(0,"span",14),e.YNc(1,Ve,0,0,"ng-template",13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchSuffixTemplate)}}function Re(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"mat-form-field",7)(2,"input",8,9),e.NdJ("input",function(){e.CHM(t);const r=e.MAs(4),d=e.oxw();return e.KtG(d.itemService.query$.next(r&&r.value))}),e.ALo(5,"async"),e.qZA(),e.YNc(6,Je,2,1,"span",10),e.YNc(7,Qe,2,1,"span",11),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",e.lcZ(5,5,t.itemService.query$))("placeholder",t.placeholder)("disabled",t.disabled),e.xp6(4),e.Q6J("ngIf",t.searchPrefixTemplate),e.xp6(1),e.Q6J("ngIf",t.searchSuffixTemplate)}}function He(i,l){}function Oe(i,l){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,He,0,0,"ng-template",13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Ge(i,l){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.hintLabel)}}function ke(i,l){if(1&i&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.nodataholder)}}function Ye(i,l){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"arrow_drop_down"),e.qZA())}function ze(i,l){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.label)}}function je(i,l){}const me=function(i,l,t){return{$implicit:i,query:l,flatindex:t}};function We(i,l){if(1&i&&(e.ynx(0),e.YNc(1,je,0,0,"ng-template",23),e.BQk()),2&i){const t=e.oxw(),n=t.$implicit,r=t.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",d.parentItemTemplate)("ngTemplateOutletContext",e.kEZ(2,me,n,d.query,r))}}function Ke(i,l){}function Be(i,l){if(1&i&&(e.ynx(0),e.YNc(1,Ke,0,0,"ng-template",23),e.BQk()),2&i){const t=e.oxw(),n=t.$implicit,r=t.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",d.itemTemplate)("ngTemplateOutletContext",e.kEZ(2,me,n,d.query,r))}}function Xe(i,l){if(1&i&&(e.TgZ(0,"span",22),e.YNc(1,Ye,2,0,"mat-icon",5),e.qZA(),e.YNc(2,ze,2,1,"ng-container",5),e.YNc(3,We,2,6,"ng-container",5),e.YNc(4,Be,2,6,"ng-container",5)),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.items?null:t.items.length),e.xp6(1),e.Q6J("ngIf",(!t.items||!n.parentItemTemplate)&&(t.items||!n.itemTemplate)),e.xp6(1),e.Q6J("ngIf",t.items&&n.parentItemTemplate),e.xp6(1),e.Q6J("ngIf",!t.items&&n.itemTemplate)}}function et(i,l){if(1&i&&(e.TgZ(0,"viewport",20),e.YNc(1,Xe,5,4,"ng-template",null,21,e.W1O),e.qZA()),2&i){const t=e.oxw().ngIf,n=e.oxw();e.Q6J("items",t)("itemSize",n.viewPortRowHeight)("viewPortMode",n.viewPortMode)("debugMode",n.debugMode)}}function tt(i,l){if(1&i&&(e.ynx(0),e.YNc(1,ke,2,1,"div",17),e.YNc(2,et,3,4,"viewport",18),e.BQk()),2&i){const t=l.ngIf;e.xp6(1),e.Q6J("ngIf",!t.length),e.xp6(1),e.Q6J("ngIf",t.length)}}let it=(()=>{class i extends Z.yl{constructor(t,n,r,d,o){super(),this.elementRef=t,this.control=n,this.changeDetectorRef=o,this.selectedChange=new e.vpe,this.itemCollapse=new e.vpe,this.itemExpand=new e.vpe,this.itemEnter=new e.vpe,this.queryChange=new e.vpe,this.debugMode=!1,this._disabled=null,this.ngModelType$=new q.X("value"),this._ngModelType="value",this.writeValue$=new R.t(1),this.multiSelect$=new q.X(!1),this._multiSelect=!1,this.listElement$=new R.t(1),this.inputElement$=new R.t(1),this.raiseChangeCallback=!1,this._pageSize=0,this.filterExpression="",this.viewPortComponent$=new R.t(1),this._viewPortRowHeight=40,this.keyboardStartIndex=void 0,this.collapseItem$=new X.x,this._searchArea=!1,this.reloadViewPort$=new q.X(void 0),this.onTouchedCallback=()=>{},this.onChangeCallback=s=>{},this.itemService=d||r,this.listElementId=`listcontainer_${(1e9*Math.random()).toString().substr(10)}`,this.control&&(this.control.valueAccessor=this);const c=this.viewPortComponent$.pipe((0,L.h)(s=>!!s),(0,$.w)(s=>s.viewPort$));this.viewPort$=c.pipe((0,J.V)(this.reloadViewPort$),(0,b.U)(([s])=>s)),this.viewPortComponent$.pipe((0,L.h)(s=>!!s),(0,$.w)(s=>s.itemClass),(0,D.R)(this.destroyed$)).subscribe(s=>{const a=s.item;null!=a&&a.selected&&s.classes.push("selected"),a===this.currentItem&&s.classes.push("current"),a.className&&s.classes.push(a.className),(a.collapsing||a.expanding)&&s.classes.push("hide"),a.items&&s.classes.push("parent"),a.collapsed&&s.classes.push("collapsed"),a.isSelectable||s.classes.push("unselectable"),a.odd&&s.classes.push("odd"),a.depth&&s.classes.push(`depth${a.depth}`)}),this.itemService.selectedItems$.pipe((0,H.b)(s=>{if(this._selectedItems=s,this.raiseChangeCallback&&(this.onChangeCallback(this.value),this.onTouchedCallback(),this.raiseChangeCallback=!1,this.selectedChange.observed)){const a=this.selectedModels;this.selectedChange.next({item:s[0],model:a[0],items:s,models:a})}}),(0,G.M)(this.viewPortComponent$),(0,L.h)(([s,a])=>!!a),(0,Y.g)(1),(0,D.R)(this.destroyed$)).subscribe(([s,a])=>{a.reloadViewPort()}),this.itemService.query$.pipe((0,b.U)(s=>s||""),(0,Se.x)(),(0,L.h)(s=>"string"==typeof s),(0,D.R)(this.destroyed$)).subscribe(s=>{this._query=s,this.queryChange.emit(this._query)});const h=this.ngModelType$.pipe((0,H.b)(s=>this._ngModelType=s));this.writeValue$.pipe((0,J.V)(this.multiSelect$,h),(0,D.R)(this.destroyed$)).subscribe(([s,a,f])=>{if(s)if(a)switch(f){case"item":this.selectedItems=s;break;case"model":this.selectedModels=s;break;default:this.selectedValues=s}else switch(f){case"item":this.selectedItem=s;break;case"model":this.selectedModel=s;break;default:this.selectedValue=s}else this.itemService.unselectAll()}),this.listElement$.pipe((0,$.w)(s=>(0,Q.R)(s,"dblclick")),(0,D.R)(this.destroyed$)).subscribe(()=>window.getSelection().empty()),this.listElement$.pipe((0,$.w)(s=>(0,Q.R)(s,"mousedown").pipe((0,G.M)(this.viewPort$,this.itemService.visibleItemList$),(0,$.w)(([a,f,w])=>{if(this.disabled)return(0,S.of)(null);const x=a.target,T=this.itemService.getItemIndexFromHtmlElement(x);if(void 0===T)return(0,S.of)(null);const A=u=>u.hasAttribute("expandbtn")||u.parentElement.hasAttribute("expandbtn"),y=f.visibleItems[T-f.startIndex];if((!A(x)||!y.isCollapsible)&&y.isSelectable&&(!a.ctrlKey||!this.multiSelect)&&(0===a.button||!y.selected)){if(a.shiftKey&&this.multiSelect){const u=Math.max(w.findIndex(E=>this.currentItem===E),0),C=w.slice(Math.min(u,T),Math.max(u,T)+1).filter(E=>E.isSelectable);return this.raiseChangeCallback=!0,this.itemService.setSelectedItems(C),this.viewPortComponent.reloadViewPort(),(0,S.of)(null)}if(!a.ctrlKey){if(!this.multiSelect&&y.selected)return(0,S.of)(null);if(!this.multiSelect||!y.selected)return this.raiseChangeCallback=!0,this.itemService.setSelectedItems([y]),this.currentItem=y,this.ensureItemVisible(y),this.viewPortComponent.reloadViewPort(),this.lastClickedItem=y,(0,S.of)(y)}}return(0,Q.R)(s,"mouseup").pipe((0,L.h)(()=>!this.disabled),(0,H.b)(u=>{const C=u.target,E=this.itemService.getItemIndexFromHtmlElement(C);if(void 0===E)return;const I=f.visibleItems[E-f.startIndex];y&&I!==y||0===u.button&&(!I.isCollapsible||!A(C)&&I.isSelectable&&this.lastClickedItem!==I?I.isSelectable?(this.raiseChangeCallback=!0,u.ctrlKey&&this.multiSelect?this.itemService.toggleSelect([I]):u.ctrlKey&&I.selected?this.itemService.unselectAll():this.itemService.setSelectedItems([I]),this.keyboardStartIndex=void 0,this.currentItem=I,this.ensureItemVisible(I),this.viewPortComponent.reloadViewPort(),this.lastClickedItem=I):this.lastClickedItem=I:(this.collapseItem$.next(I),this.ensureItemVisible(I)))}),(0,Y.g)(300),(0,H.b)(()=>{this.lastClickedItem=void 0}))}))),(0,D.R)(this.destroyed$)).subscribe();const v=this.inputElement$.pipe((0,$.w)(s=>s?(0,Q.R)(s,"keydown"):(0,S.of)(null)),(0,L.h)(s=>!!s));this.listElement$.pipe((0,$.w)(s=>(0,Q.R)(s,"keydown"))).pipe((0,K.b)(v),(0,L.h)(()=>!this.disabled),(0,L.h)(s=>{const a=s.code;return a===Z.mW.Home||a===Z.mW.End||a===Z.mW.PageUp||a===Z.mW.PageDown||a===Z.mW.UpArrow||a===Z.mW.DownArrow||a===Z.mW.Space||a===Z.mW.Enter}),(0,G.M)(this.viewPort$,this.itemService.visibleItemList$,this.listElement$),(0,D.R)(this.destroyed$)).subscribe(([s,a,f,w])=>{var x,T,A,y;let u=!1;(null==w?void 0:w.clientHeight)&&this.viewPortRowHeight&&0===this.pageSize&&(this.pageSize=Math.floor(w.clientHeight/+this.viewPortRowHeight));const C=P=>{this.currentItem=a.items[P],this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort()},E=(P,_e)=>{const ti=f.slice(Math.min(P,_e),Math.max(P,_e)+1).filter(ii=>ii.isSelectable);this.raiseChangeCallback=!0,this.itemService.setSelectedItems(ti)},I=P=>{this.multiSelect&&s.shiftKey?(E(O,P),this.ensureItemVisible(P),this.viewPortComponent.reloadViewPort()):(s.ctrlKey||(this.raiseChangeCallback=!0,this.selectedItem=a.items[P]),C(P)),this.keyboardStartIndex=P,u=!0},O=f.findIndex(P=>this.currentItem===P);let xe;switch(s.code){case Z.mW.Home:this.multiSelect&&s.shiftKey?E(O,0):s.ctrlKey||(this.raiseChangeCallback=!0,this.selectedItem=a.items[0]),C(0),this.keyboardStartIndex=0,u=!0;break;case Z.mW.End:this.multiSelect&&s.shiftKey?E(O,f.length-1):s.ctrlKey||(this.raiseChangeCallback=!0,this.selectedItem=a.items[a.items.length-1]),C(a.items.length-1),this.keyboardStartIndex=a.items.length-1,u=!0;break;case Z.mW.PageUp:I(Math.max(0,(null!==(x=this.keyboardStartIndex)&&void 0!==x?x:O)-this._pageSize));break;case Z.mW.PageDown:I(Math.max(0,(null!==(T=this.keyboardStartIndex)&&void 0!==T?T:O)+this._pageSize));break;case Z.mW.UpArrow:I(Math.max(0,(null!==(A=this.keyboardStartIndex)&&void 0!==A?A:O)-1));break;case Z.mW.DownArrow:I(Math.min(a.items.length-1,(null!==(y=this.keyboardStartIndex)&&void 0!==y?y:O)+1));break;case Z.mW.Space:if(xe=s.target,"INPUT"===xe.tagName&&!s.ctrlKey&&!s.shiftKey)return;this.currentItem&&(this.currentItem.isCollapsible?(this.collapseItem$.next(this.currentItem),this.ensureItemVisible(this.currentItem)):(this.raiseChangeCallback=!0,this.currentItem.selected||this.multiSelect&&s.ctrlKey?this.itemService.toggleSelect([this.currentItem]):this.selectedItem=this.currentItem,this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort()));break;case Z.mW.Enter:this.currentItem&&(this.currentItem.isCollapsible?(this.collapseItem$.next(this.currentItem),this.ensureItemVisible(this.currentItem)):this.currentItem.isSelectable&&(this.itemEnter.observed?this.itemEnter.next({item:this.currentItem,items:[this.currentItem],model:this.currentItem.model,models:this.currentItem.model&&[this.currentItem.model]}):(this.raiseChangeCallback=!0,this.selectedItem=this.currentItem,this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort())));break;default:this.keyboardStartIndex=void 0}u&&(s.preventDefault(),s.stopPropagation())});const g=this.inputElement$.pipe((0,$.w)(s=>{if(s){const a=(0,Q.R)(s,"keyup"),f=(0,Q.R)(s,"drop");return a.pipe((0,K.b)(f))}return(0,S.of)(null)}),(0,L.h)(s=>!!s));this.listElement$.pipe((0,$.w)(s=>(0,Q.R)(s,"keyup"))).pipe((0,K.b)(g),(0,L.h)(()=>!this.disabled),(0,L.h)(s=>{const a=s.code;return a>=Z.mW.Key0||a===Z.mW.Backspace||a===Z.mW.Space||a===Z.mW.Delete}),(0,G.M)(this.viewPort$),(0,L.h)(([s,a])=>{var f;return(null===(f=a.items)||void 0===f?void 0:f.length)>0}),(0,$.w)(([s,a])=>{if(!this.searchArea&&/[a-zA-Z0-9]/.test(s.key)){const f=()=>{const w=new RegExp(`^${this.filterExpression}`,"i"),x=Math.max(a.items.findIndex(A=>this.currentItem===A),0);let T=this.filterExpression.length>1?x:x+1;return a.items.some(()=>{const A=a.items[T];return null!=A&&A.isSelectable&&w.test(A.label)?(this.raiseChangeCallback=!0,this.selectedItem=this.currentItem=A,this.ensureItemVisible(this.currentItem),this.viewPortComponent.reloadViewPort(),!0):(T++,T>=a.items.length&&(T=0),!1)})};this.filterExpression+=s.key,f()?(s.preventDefault(),s.stopPropagation()):(this.filterExpression=s.key,f()&&(s.preventDefault(),s.stopPropagation()))}return(0,ye.H)(1e3)}),(0,D.R)(this.destroyed$)).subscribe(()=>{this.filterExpression=""}),this.collapseItem$.pipe((0,$.w)(s=>!s.collapsed&&this.collapsingItem?this.collapsingItem(s):this.expandingItem?this.expandingItem(s):(0,S.of)(s)),(0,L.h)(s=>!!s),(0,D.R)(this.destroyed$)).subscribe(s=>{s.collapsed=!s.collapsed,this.itemService.refreshVisibleItemList$.next();const a={item:s,model:s.model,items:[s],models:[s.model]};s.collapsed?this.itemCollapse.emit(a):this.itemExpand.emit(a)}),this.maxHeight=0}set viewPortComponent(t){this.viewPortComponent$.next(t),this._viewPortComponent=t}get viewPortComponent(){return this._viewPortComponent}set options(t){null!=t&&t.length&&this.itemService.options$.next(t)}set viewPortRowHeight(t){this._viewPortRowHeight=(0,V.su)(t)}get viewPortRowHeight(){return this._viewPortRowHeight}set items(t){delete this.hintLabel,this.itemService.items$.next(t)}set models(t){this.itemService.models$.next(t)}set selectedItems(t){this.itemService.setSelectedItems(t)}get selectedItems(){return this._selectedItems}set selectedItem(t){this.itemService.setSelectedItems(t&&[t])}get selectedItem(){var t;return null===(t=this.selectedItems)||void 0===t?void 0:t[0]}set selectedModel(t){this.itemService.setSelectedModels(t&&[t])}get selectedModel(){var t;return null===(t=this.selectedModels)||void 0===t?void 0:t[0]}set selectedModels(t){this.itemService.setSelectedModels(t)}get selectedModels(){var t;return null===(t=this.selectedItems)||void 0===t?void 0:t.map(n=>n.model)}set selectedValue(t){this.itemService.setSelectedValues(t&&[t])}get selectedValue(){var t;return null===(t=this.selectedValues)||void 0===t?void 0:t[0]}set selectedValues(t){this.itemService.setSelectedValues(t)}get selectedValues(){var t;return null===(t=this.selectedItems)||void 0===t?void 0:t.map(n=>n.id)}set ngModelType(t){this.ngModelType$.next(t)}set multiSelect(t){this._multiSelect=(0,V.Ig)(t),this.multiSelect$.next(this._multiSelect)}get multiSelect(){return this._multiSelect}set query(t){this.itemService.query$.next(t)}get query(){return this._query}set selectingItems(t){this.itemService.selectingItems=t}set unSelectingItems(t){this.itemService.unSelectingItems=t}set listElememtRef(t){this.listElement$.next(null==t?void 0:t.nativeElement)}set inputElememtRef(t){this.inputElement$.next(null==t?void 0:t.nativeElement)}set disabled(t){const n=(0,V.Ig)(t);this._disabled=n||null}get disabled(){return this._disabled}set childrenField(t){this.itemService.childrenField$.next(t)}set textField(t){this.itemService.textField$.next(t)}set valueField(t){this.itemService.valueField$.next(t)}set currentItem(t){this._currentItem=t}get currentItem(){return this._currentItem}set pageSize(t){this._pageSize=(0,V.su)(t)}get pageSize(){return this._pageSize}set maxHeight(t){this._maxHeight=(0,V.su)(t)}get maxHeight(){return this._maxHeight}set searchArea(t){this._searchArea=(0,V.Ig)(t)}get searchArea(){return this._searchArea}set minSearchlength(t){this.itemService.minSearchLength$.next((0,V.su)(t))}set hintLabel(t){this._hintLabel=t}get hintLabel(){return this._hintLabel}set searchField(t){this.itemService.searchField$.next(t)}set inputValidatorDirective(t){t&&(t.parentControl=this.control)}get itemTemplate(){return this.itemTemplateExternal||this.itemTemplateInternal}get parentItemTemplate(){return this.parentItemTemplateExternal||this.parentItemTemplateInternal}get headerTemplate(){return this.headerTemplateExternal||this.headerTemplateInternal}get searchPrefixTemplate(){return this.searchPrefixTemplateExternal||this.searchPrefixTemplateInternal}get searchSuffixTemplate(){return this.searchSuffixTemplateExternal||this.searchSuffixTemplateInternal}get value(){if(this._multiSelect)switch(this._ngModelType){case"item":return this.selectedItems;case"model":return this.selectedModels;default:return this.selectedValues}else switch(this._ngModelType){case"item":return this.selectedItem;case"model":return this.selectedModel;default:return this.selectedValue}}set value(t){this.writeValue(t),this.onChangeCallback(t),this.onTouchedCallback()}writeValue(t){this.writeValue$.next(t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ensureItemVisible(t){this.viewPortComponent&&this.viewPortComponent.ensureVisible(t)}reloadViewPort(){this.viewPortComponent&&this.viewPortComponent.reloadViewPort()}refreshViewPort(t){this.viewPortComponent&&this.viewPortComponent.refreshViewPort(t)}clearViewPort(){this.viewPortComponent&&this.viewPortComponent.clearViewPort()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(M.a5,10),e.Y36(ne),e.Y36(ne,12),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tree-list"]],contentQueries:function(t,n,r){if(1&t&&(e.Suo(r,Ue,5),e.Suo(r,Le,5),e.Suo(r,qe,5),e.Suo(r,Ee,5),e.Suo(r,Pe,5),e.Suo(r,ae,4)),2&t){let d;e.iGM(d=e.CRH())&&(n.itemTemplateInternal=d.first),e.iGM(d=e.CRH())&&(n.parentItemTemplateInternal=d.first),e.iGM(d=e.CRH())&&(n.headerTemplateInternal=d.first),e.iGM(d=e.CRH())&&(n.searchPrefixTemplateInternal=d.first),e.iGM(d=e.CRH())&&(n.searchSuffixTemplateInternal=d.first),e.iGM(d=e.CRH())&&(n.options=d)}},viewQuery:function(t,n){if(1&t&&(e.Gf(ce.Ef,5),e.Gf(Fe,7),e.Gf(De,5),e.Gf(Z.TW,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.viewPortComponent=r.first),e.iGM(r=e.CRH())&&(n.listElememtRef=r.first),e.iGM(r=e.CRH())&&(n.inputElememtRef=r.first),e.iGM(r=e.CRH())&&(n.inputValidatorDirective=r.first)}},hostVars:1,hostBindings:function(t,n){2&t&&e.uIk("disabled",n._disabled)},inputs:{placeholder:"placeholder",viewPortMode:"viewPortMode",nodataholder:"nodataholder",itemTemplateExternal:"itemTemplateExternal",parentItemTemplateExternal:"parentItemTemplateExternal",headerTemplateExternal:"headerTemplateExternal",searchPrefixTemplateExternal:"searchPrefixTemplateExternal",searchSuffixTemplateExternal:"searchSuffixTemplateExternal",expandingItem:"expandingItem",collapsingItem:"collapsingItem",debugMode:"debugMode",viewPortRowHeight:"viewPortRowHeight",items:"items",models:"models",selectedItems:"selectedItems",selectedItem:"selectedItem",selectedModel:"selectedModel",selectedModels:"selectedModels",selectedValue:"selectedValue",selectedValues:"selectedValues",ngModelType:"ngModelType",multiSelect:"multiSelect",query:"query",selectingItems:"selectingItems",unSelectingItems:"unSelectingItems",disabled:"disabled",childrenField:"childrenField",textField:"textField",valueField:"valueField",currentItem:"currentItem",pageSize:"pageSize",maxHeight:"maxHeight",searchArea:"searchArea",minSearchlength:["min-search-length","minSearchlength"],hintLabel:"hintLabel",searchField:"searchField"},outputs:{selectedChange:"selectedChange",itemCollapse:"itemCollapse",itemExpand:"itemExpand",itemEnter:"itemEnter",queryChange:"queryChange"},features:[e._Bn([ne]),e.qOj],decls:8,vars:13,consts:[["id","header",4,"ngIf"],["id","listheader",4,"ngIf"],["tabindex","1",1,"listcontainer",3,"id"],["listElement",""],["id","error-hint",4,"ngIf"],[4,"ngIf"],["id","header"],["deja-child-validator","","id","input"],["type","text","matInput","","tabindex","0",3,"ngModel","placeholder","disabled","input"],["inputelement","","model","ngModel"],["matPrefix","",4,"ngIf"],["matSuffix","",4,"ngIf"],["matPrefix",""],[3,"ngTemplateOutlet"],["matSuffix",""],["id","listheader"],["id","error-hint"],["id","nodata-holder",4,"ngIf"],[3,"items","itemSize","viewPortMode","debugMode",4,"ngIf"],["id","nodata-holder"],[3,"items","itemSize","viewPortMode","debugMode"],["viewPortItemTemplate",""],["expandbtn",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&(e.YNc(0,Re,8,7,"div",0),e.ALo(1,"async"),e.YNc(2,Oe,2,1,"div",1),e.TgZ(3,"div",2,3),e.YNc(5,Ge,2,1,"div",4),e.YNc(6,tt,3,2,"ng-container",5),e.ALo(7,"async"),e.qZA()),2&t&&(e.Q6J("ngIf",n.searchArea||e.lcZ(1,9,n.itemService.minSearchLength$)),e.xp6(2),e.Q6J("ngIf",n.headerTemplate),e.xp6(1),e.Udp("max-height",n.maxHeight||null,"px"),e.ekj("hasheader",n.headerTemplate),e.Q6J("id",n.listElementId),e.xp6(2),e.Q6J("ngIf",n.hintLabel),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,11,n.itemService.visibleItemList$)))},dependencies:[N.O5,N.tP,Me.T,M.Fj,M.JJ,M.On,j.Hw,k.KE,k.qo,k.R9,W.Nt,$e.E,N.Ov],styles:["tree-list{display:flex;position:relative;flex-direction:column;align-content:stretch;overflow:hidden}tree-list.ng-invalid #input .mat-form-field-wrapper .mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:scaleY(1)}tree-list #input{outline:none}tree-list #header{flex:0 0 auto;align-items:center;display:flex}tree-list #header #input{flex:1 1 auto}tree-list #header button{flex:0 0 auto;margin:16px .5rem 16px 0}tree-list #listheader{flex:0 0 auto;overflow:hidden;box-sizing:border-box}tree-list .listcontainer{flex:1 1 auto;outline:none;overflow:auto;display:flex;flex-direction:column;padding:0;margin:0;position:relative}tree-list .listcontainer.hasheader{border-top:0}tree-list .listcontainer[valign=bottom]{border-top:none}tree-list .listcontainer #nodata-holder{margin:.5rem}tree-list .listcontainer #error-hint{margin:.5rem;flex:0 0 auto}tree-list .listcontainer viewport{flex:1 1 100%}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth0{padding-left:0rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth1{padding-left:1rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth2{padding-left:2rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth3{padding-left:3rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth4{padding-left:4rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth5{padding-left:5rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth6{padding-left:6rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth7{padding-left:7rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth8{padding-left:8rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth9{padding-left:9rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth10{padding-left:10rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth11{padding-left:11rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth12{padding-left:12rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth13{padding-left:13rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth14{padding-left:14rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth15{padding-left:15rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth16{padding-left:16rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth17{padding-left:17rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth18{padding-left:18rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth19{padding-left:19rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth20{padding-left:20rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth21{padding-left:21rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth22{padding-left:22rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth23{padding-left:23rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth24{padding-left:24rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth25{padding-left:25rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth26{padding-left:26rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth27{padding-left:27rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth28{padding-left:28rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth29{padding-left:29rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth30{padding-left:30rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth31{padding-left:31rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth32{padding-left:32rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth33{padding-left:33rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth34{padding-left:34rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth35{padding-left:35rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth36{padding-left:36rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth37{padding-left:37rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth38{padding-left:38rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth39{padding-left:39rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth40{padding-left:40rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth41{padding-left:41rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth42{padding-left:42rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth43{padding-left:43rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth44{padding-left:44rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth45{padding-left:45rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth46{padding-left:46rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth47{padding-left:47rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth48{padding-left:48rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth49{padding-left:49rem}tree-list .listcontainer viewport div.viewport-wrapper div.listitem.depth50{padding-left:50rem}tree-list .listcontainer viewport div.listitem{opacity:1;margin:0;transition-timing-function:linear;transition-duration:.3s;transition-property:max-height,opacity;display:flex;align-items:center}tree-list .listcontainer viewport div.listitem.hide{opacity:0!important;max-height:0!important;transition-timing-function:ease-out}tree-list .listcontainer viewport div.listitem:not(.unselectable):hover{cursor:pointer}tree-list .listcontainer viewport div.listitem [expandbtn]{width:24px;cursor:pointer;opacity:.6;padding-top:2px}tree-list .listcontainer viewport div.listitem.parent.collapsed [expandbtn]>.mat-icon{transform:rotate(-90deg)}\n"],encapsulation:2,changeDetection:0}),i})(),nt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez,Z.ET,M.u5,de,j.Ps,W.c,ce.J0]}),i})();var pe=p(7010),st=p(3485),rt=p(4779),lt=p(1865),ot=p(1305),at=p(9751),dt=p(8421),ct=p(4482),ue=p(5403);var pt=p(5577),ut=p(207),he=p(2518),ht=p(5241),fe=p(9809),ge=p(706),ft=p(1857),gt=p(5430),vt=p(1339),xt=p(2666),_t=p(7793),wt=p(6107),Tt=p(6239),Zt=p(2884),Ct=p(837),bt=p(5857);const It=["news"],At=["onexpand"],St=["bigCountries"];function yt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.dialogResponse$.next("cancel"))}),e._uU(1,"Cancel"),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.dialogResponse$.next("ok"))}),e._uU(3,"Ok"),e.qZA()}}function Mt(i,l){1&i&&(e.TgZ(0,"deja-dialog")(1,"deja-message-box",11),e._uU(2," Please confirm your operation! "),e.YNc(3,yt,4,0,"ng-template",null,12,e.W1O),e.qZA()())}function $t(i,l){1&i&&(e.TgZ(0,"mat-card",15),e._UZ(1,"deja-markdown",16),e.qZA()),2&i&&(e.xp6(1),e.Q6J("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/v2/tree-list/readme.md"))}const ve=function(){return["Mango","Apricots","Coconut"]};function Ut(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Simple Usage"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div"),e._uU(6,"Just passing an array of objects"),e.qZA(),e.TgZ(7,"div",19)(8,"span",20)(9,"tree-list",21),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.country=r)}),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"span",22)(12,"h4"),e._uU(13,"Selected country model :"),e.qZA(),e.TgZ(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA()()()()(),e.TgZ(17,"mat-card",17)(18,"mat-toolbar",18),e._uU(19,"Keyboard Navigation"),e.qZA(),e.TgZ(20,"mat-card-content")(21,"div"),e._uU(22,"tree-list has some keyboard navigation feature"),e.qZA(),e.TgZ(23,"div",19)(24,"span",20)(25,"tree-list",23),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.country=r)}),e.ALo(26,"async"),e.qZA()(),e.TgZ(27,"ul",24)(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"\u2191"),e.qZA(),e._uU(32," to select the previous item"),e.qZA(),e.TgZ(33,"li"),e._uU(34,"Press "),e.TgZ(35,"span",25),e._uU(36,"\u2193"),e.qZA(),e._uU(37," to select the next item"),e.qZA(),e.TgZ(38,"li"),e._uU(39,"Press "),e.TgZ(40,"span",25),e._uU(41,"Ctrl"),e.qZA(),e.TgZ(42,"span",25),e._uU(43,"\u2191"),e.qZA(),e._uU(44," to change the current item to the previous"),e.qZA(),e.TgZ(45,"li"),e._uU(46,"Press "),e.TgZ(47,"span",25),e._uU(48,"Ctrl"),e.qZA(),e.TgZ(49,"span",25),e._uU(50,"\u2193"),e.qZA(),e._uU(51," to change the current item to the next"),e.qZA(),e.TgZ(52,"li"),e._uU(53,"Press "),e.TgZ(54,"span",25),e._uU(55,"Shift"),e.qZA(),e.TgZ(56,"span",25),e._uU(57,"\u2191"),e.qZA(),e._uU(58," to change the current item to the previous"),e.qZA(),e.TgZ(59,"li"),e._uU(60,"Press "),e.TgZ(61,"span",25),e._uU(62,"Shift"),e.qZA(),e.TgZ(63,"span",25),e._uU(64,"\u2193"),e.qZA(),e._uU(65," to change the current item to the next"),e.qZA(),e.TgZ(66,"li"),e._uU(67,"Press "),e.TgZ(68,"span",25),e._uU(69,"PageUp"),e.qZA(),e._uU(70," to select the next page item"),e.qZA(),e.TgZ(71,"li"),e._uU(72,"Press "),e.TgZ(73,"span",25),e._uU(74,"PageDown"),e.qZA(),e._uU(75," to select the previous page item"),e.qZA(),e.TgZ(76,"li"),e._uU(77,"Press "),e.TgZ(78,"span",25),e._uU(79,"Home"),e.qZA(),e._uU(80," to select the first item"),e.qZA(),e.TgZ(81,"li"),e._uU(82,"Press "),e.TgZ(83,"span",25),e._uU(84,"End"),e.qZA(),e._uU(85," to select the last item"),e.qZA(),e.TgZ(86,"li"),e._uU(87,"Press "),e.TgZ(88,"span",25),e._uU(89,"Space"),e.qZA(),e._uU(90," to collapse/expand a group header or to select/unselect the current item"),e.qZA(),e.TgZ(91,"li"),e._uU(92,"Press "),e.TgZ(93,"span",25),e._uU(94,"A"),e.qZA(),e._uU(95,".. "),e.TgZ(96,"span",25),e._uU(97,"Z"),e.qZA(),e.TgZ(98,"span",25),e._uU(99,"0"),e.qZA(),e._uU(100,".. "),e.TgZ(101,"span",25),e._uU(102,"9"),e.qZA(),e._uU(103," to select the next item started with the pressed key"),e.qZA()()()()(),e.TgZ(104,"mat-card",17)(105,"mat-toolbar",18),e._uU(106,"Treelist with options"),e.qZA(),e.TgZ(107,"mat-card-content")(108,"div"),e._uU(109,"These treelists has a list coming from html options"),e.qZA(),e.TgZ(110,"span",19)(111,"tree-list",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.fruct=r)}),e._UZ(112,"item",27)(113,"item",28)(114,"item",29)(115,"item",30)(116,"item",31)(117,"item",32)(118,"item",33)(119,"item",34)(120,"item",35)(121,"item",36)(122,"item",37)(123,"item",38),e.qZA(),e.TgZ(124,"tree-list",39),e._UZ(125,"item",40)(126,"item",41)(127,"item",42)(128,"item",43)(129,"item",44)(130,"item",45)(131,"item",46)(132,"item",47)(133,"item",48)(134,"item",49)(135,"item",50)(136,"item",51),e.qZA()()()(),e.TgZ(137,"mat-card",17)(138,"mat-toolbar",18),e._uU(139,"String Array Model"),e.qZA(),e.TgZ(140,"mat-card-content")(141,"span",52)(142,"tree-list",53),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.fruct=r)}),e.qZA(),e.TgZ(143,"span",54),e._uU(144),e.qZA()()()(),e.TgZ(145,"mat-card",17)(146,"mat-toolbar",18),e._uU(147,"Disabled tree-list"),e.qZA(),e.TgZ(148,"mat-card-content")(149,"div")(150,"mat-checkbox",55),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.disabled=r)}),e._uU(151,"Check me to disable tree-list below"),e.qZA()(),e.TgZ(152,"div",19)(153,"span",20)(154,"tree-list",56),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.deepCountry=r)}),e.ALo(155,"async"),e.qZA()(),e.TgZ(156,"span",22)(157,"h4"),e._uU(158,"Selected deep country model :"),e.qZA(),e.TgZ(159,"pre"),e._uU(160),e.ALo(161,"json"),e.qZA()()()()(),e.TgZ(162,"mat-card",17)(163,"mat-toolbar",18),e._uU(164,"Multi level"),e.qZA(),e.TgZ(165,"mat-card-content")(166,"div",19)(167,"span",20),e._UZ(168,"tree-list",57),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.country)("models",e.lcZ(10,16,t.countries$)),e.xp6(6),e.Oqu(e.lcZ(16,18,t.country)),e.xp6(10),e.Q6J("ngModel",t.country)("models",e.lcZ(26,20,t.countries$)),e.xp6(86),e.Q6J("ngModel",t.fruct),e.xp6(13),e.Q6J("selectedValues",e.DdM(26,ve)),e.xp6(18),e.Q6J("ngModel",t.fruct)("models",t.fructs),e.xp6(2),e.hij("Selected fruct model is: ",t.fruct,""),e.xp6(6),e.Q6J("ngModel",t.disabled),e.xp6(4),e.Q6J("disabled",t.disabled)("ngModel",t.deepCountry)("models",e.lcZ(155,22,t.deepCountries$)),e.xp6(6),e.Oqu(e.lcZ(161,24,t.deepCountry)),e.xp6(8),e.Q6J("models",t.folders)}}function Lt(i,l){if(1&i&&(e.TgZ(0,"li")(1,"span"),e._uU(2),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.naqme)}}function qt(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Oqu(t.label)}}function Et(i,l){if(1&i&&(e.TgZ(0,"mat-icon",71),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&i){const t=l.$implicit;e.xp6(4),e.Oqu(t.label)}}function Pt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Multi selection"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div"),e._uU(6,"Multi selection example"),e.qZA(),e.TgZ(7,"div",19)(8,"span",20)(9,"tree-list",58),e.NdJ("selectedChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.multiselectModelChange(r.models))}),e.qZA()(),e.TgZ(10,"span",59)(11,"h4"),e._uU(12,"Multi selection shortcuts :"),e.qZA(),e.TgZ(13,"ul",60)(14,"li"),e._uU(15,"Press "),e.TgZ(16,"span",25),e._uU(17,"Ctrl"),e.qZA(),e.TgZ(18,"span",25),e._uU(19,"Space"),e.qZA(),e._uU(20," to add/remove the current item to the selection"),e.qZA(),e.TgZ(21,"li"),e._uU(22,"Press "),e.TgZ(23,"span",25),e._uU(24,"Shift"),e.qZA(),e.TgZ(25,"span",25),e._uU(26,"\u2191"),e.qZA(),e._uU(27," to select a range orf items"),e.qZA(),e.TgZ(28,"li"),e._uU(29,"Press "),e.TgZ(30,"span",25),e._uU(31,"Shift"),e.qZA(),e.TgZ(32,"span",25),e._uU(33,"\u2193"),e.qZA(),e._uU(34," to select a range orf items"),e.qZA()(),e.TgZ(35,"h4"),e._uU(36,"Selected country model :"),e.qZA(),e.TgZ(37,"ul"),e.YNc(38,Lt,3,1,"li",61),e.qZA()()()(),e.TgZ(39,"mat-toolbar",18),e._uU(40,"Grouping and Drag Drop"),e.qZA(),e.TgZ(41,"mat-card-content")(42,"div"),e._uU(43,"Grouping example"),e.qZA(),e.TgZ(44,"div",19)(45,"span",62)(46,"tree-list",63,64),e.ALo(48,"async"),e.YNc(49,qt,2,1,"ng-template",null,65,e.W1O),e.YNc(51,Et,5,1,"ng-template",null,66,e.W1O),e.qZA()(),e.TgZ(53,"span",22)(54,"div"),e._uU(55,"You can drag and drop items the the area bellow (That will display a JSON representation of the dropped model) :"),e.qZA(),e._UZ(56,"div",67,68),e.qZA()()(),e.TgZ(58,"mat-toolbar",18),e._uU(59,"Autocomplete"),e.qZA(),e.TgZ(60,"mat-card-content")(61,"div"),e._uU(62,"Autocomplete 2 characters minimum"),e.qZA(),e._UZ(63,"tree-list",69),e.ALo(64,"async"),e.qZA(),e.TgZ(65,"mat-toolbar",18),e._uU(66,"Variable Row Size"),e.qZA(),e.TgZ(67,"mat-card-content")(68,"div"),e._uU(69,"Variable Row height example"),e.qZA(),e.TgZ(70,"div",19)(71,"span",20),e._UZ(72,"tree-list",70),e.ALo(73,"async"),e.qZA()()()()()}if(2&i){const t=e.MAs(47),n=e.MAs(57),r=e.oxw();e.xp6(9),e.Q6J("selectedModels",r.multiselectModel)("models",r.countriesForMultiselect),e.xp6(29),e.Q6J("ngForOf",r.multiselectModel),e.xp6(8),e.Q6J("items",e.lcZ(48,8,r.groupedCountryItems$))("mouse-draggable",r.getDragContext(t)),e.xp6(10),e.Q6J("mouse-droppable",r.getDropContext(n)),e.xp6(7),e.Q6J("models",e.lcZ(64,10,r.countries$)),e.xp6(9),e.Q6J("items",e.lcZ(73,12,r.loremList$))}}function Ft(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"news-card",82),e.NdJ("imageLoaded",function(){const d=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.imageLoaded(d))}),e.qZA()}2&i&&e.Q6J("item",l.$implicit.model)}function Dt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",83),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sortCountries$.next())}),e.ALo(1,"async"),e.TgZ(2,"span",84),e._uU(3," This is a header template, click to sort the list. "),e.qZA(),e._UZ(4,"deja-sort-indicator",85),e.ALo(5,"async"),e.qZA()}if(2&i){e.oxw();const t=e.MAs(21),n=e.oxw();let r;e.Udp("width",null==(r=e.lcZ(1,3,t.viewPort$))||null==r.element?null:r.element.clientWidth,"px"),e.xp6(4),e.Q6J("sort-infos",e.lcZ(5,5,n.sortInfos$))}}function Nt(i,l){if(1&i&&(e.TgZ(0,"mat-icon",71),e._uU(1,"public"),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4),e.qZA()),2&i){const t=l.$implicit;e.xp6(4),e.Oqu(t.groupName)}}function Jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",86),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onFilterTemplateClicked("Prefix"))}),e._uU(1,"public"),e.qZA()}}function Vt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",86),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onFilterTemplateClicked("Suffix"))}),e._uU(1,"more_vert"),e.qZA()}}function Qt(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.model," Text d'alignement")}}function Rt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",89),e._UZ(1,"input",90,91),e.TgZ(3,"deja-numeric-stepper",92),e.NdJ("increment",function(){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.model=r.model+20)})("decrement",function(){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.model=r.model-20)}),e.qZA()(),e.TgZ(4,"span"),e._uU(5,"Text d'alignement"),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.model)}}function Ht(i,l){if(1&i&&(e.YNc(0,Qt,2,1,"span",87),e.YNc(1,Rt,6,1,"ng-template",null,88,e.W1O)),2&i){const t=l.$implicit,n=e.MAs(2);e.Q6J("ngIf",!t.selected)("ngIfElse",n)}}function Ot(i,l){if(1&i&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Templating Examples"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"Item Template"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"An exemple with auto sized item template"),e.qZA(),e.TgZ(9,"tree-list",72,73),e.ALo(11,"async"),e.YNc(12,Ft,1,1,"ng-template",null,65,e.W1O),e.qZA(),e.TgZ(14,"h1"),e._uU(15,"Header Template and Group Template"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"Treelist with an header template"),e.qZA(),e.TgZ(18,"div",19)(19,"span",20)(20,"tree-list",74,75),e.ALo(22,"async"),e.YNc(23,Dt,6,7,"ng-template",null,76,e.W1O),e.qZA()(),e.TgZ(25,"span",77)(26,"tree-list",78),e.ALo(27,"async"),e.YNc(28,Nt,5,1,"ng-template",null,66,e.W1O),e.qZA()()(),e.TgZ(30,"h1"),e._uU(31,"Search Prefix and Suffix Templates"),e.qZA(),e.TgZ(32,"div",19)(33,"span",20)(34,"tree-list",79),e.ALo(35,"async"),e.YNc(36,Jt,2,0,"ng-template",null,80,e.W1O),e.YNc(38,Vt,2,0,"ng-template",null,81,e.W1O),e.qZA()()(),e.TgZ(40,"h1"),e._uU(41,"Item Template including a control"),e.qZA(),e.TgZ(42,"div",19)(43,"span",20)(44,"tree-list",79),e.YNc(45,Ht,3,2,"ng-template",null,65,e.W1O),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(9),e.Q6J("models",e.lcZ(11,5,t.news$)),e.xp6(11),e.Q6J("models",e.lcZ(22,7,t.sortedCountries$)),e.xp6(6),e.Q6J("items",e.lcZ(27,9,t.groupedCountryItems$)),e.xp6(8),e.Q6J("models",e.lcZ(35,11,t.countries$)),e.xp6(10),e.Q6J("models",t.numbers)}}function Gt(i,l){if(1&i&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Pre-Selections from html inputs"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"div",19)(6,"div",20)(7,"div"),e._uU(8,"Preselection with the input selectedModel"),e.qZA(),e._UZ(9,"tree-list",93),e.qZA(),e.TgZ(10,"div",94)(11,"div"),e._uU(12,"Preselections with the input selectedModels"),e.qZA(),e._UZ(13,"tree-list",95),e.qZA()(),e.TgZ(14,"div",19)(15,"div",20)(16,"div"),e._uU(17,"Preselection with the input selectedItem"),e.qZA(),e._UZ(18,"tree-list",96),e.qZA(),e._UZ(19,"div",97),e.qZA()(),e.TgZ(20,"mat-toolbar",18),e._uU(21,"Pre-Selections from javascript"),e.qZA(),e.TgZ(22,"mat-card-content")(23,"div"),e._uU(24,"The collection fructItemsWithPreSelection has a pre-selected item"),e.qZA(),e._UZ(25,"tree-list",98),e.qZA()()()),2&i){const t=e.oxw();e.xp6(9),e.Q6J("models",t.fructs),e.xp6(4),e.Q6J("selectedModels",e.DdM(5,ve))("models",t.fructs),e.xp6(5),e.Q6J("items",t.fructItems),e.xp6(7),e.Q6J("items",t.fructItemsWithPreSelection)}}function kt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Pre-Events and on Demand"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"Confirm Selection"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"A dialog will confirm the selection of an item"),e.qZA(),e._UZ(9,"tree-list",99),e.ALo(10,"async"),e.TgZ(11,"h1"),e._uU(12,"Confirm Expand and Collapse "),e.qZA(),e.TgZ(13,"div"),e._uU(14,"A dialog will confirm the expand and collapse or an item if the children are not loaded. The children will be loaded asynchronously after the item expansion."),e.qZA(),e.TgZ(15,"tree-list",100,101),e.NdJ("itemExpand",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.itemExpand$.next(r.item))}),e.ALo(17,"async"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("selectingItems",t.selectingItems())("models",e.lcZ(10,5,t.countries$)),e.xp6(6),e.Q6J("items",e.lcZ(17,7,t.onDemandGroupedCountryItems$))("expandingItem",t.expandingItem())("collapsingItem",t.collapsingItem())}}function Yt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"news-card",82),e.NdJ("imageLoaded",function(){const d=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.imageLoaded(d))}),e.qZA()}2&i&&e.Q6J("item",l.$implicit.model)}function zt(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",112),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}function jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Performance Examples"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"h1"),e._uU(6,"10K items with Item Template "),e.qZA(),e.TgZ(7,"div",102)(8,"span",103),e._uU(9,"An exemple with 10000 auto sized templatized items"),e.qZA(),e.TgZ(10,"a",104),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(18);return e.KtG(r.reloadViewPort())}),e.TgZ(11,"mat-icon"),e._uU(12,"refresh"),e.qZA()(),e.TgZ(13,"mat-form-field",105)(14,"input",106),e.NdJ("ngModelChange",function(r){e.CHM(t);const d=e.oxw();return e.KtG(d.ensureIndex=r)}),e.qZA()(),e.TgZ(15,"button",107),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(18),d=e.oxw();return e.KtG(r.ensureItemVisible(d.ensureIndex))}),e._uU(16,"Ensure index"),e.qZA()(),e.TgZ(17,"tree-list",108,73),e.ALo(19,"async"),e.YNc(20,Yt,1,1,"ng-template",null,65,e.W1O),e.qZA(),e.TgZ(22,"h1"),e._uU(23,"Fixed size rows 100K items"),e.qZA(),e.TgZ(24,"div"),e._uU(25,"An exemple with 100000 fixed size items"),e.qZA(),e.TgZ(26,"span",19),e._UZ(27,"tree-list",109,110),e.ALo(29,"async"),e.TgZ(30,"span",22)(31,"h4",111),e._uU(32,"Viewport Infos:"),e.qZA(),e.YNc(33,zt,5,2,"div",61),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.ensureIndex),e.xp6(3),e.Q6J("debugMode",!1)("models",e.lcZ(19,5,t.bigNews$)),e.xp6(10),e.Q6J("models",e.lcZ(29,7,t.bigCountries$)),e.xp6(6),e.Q6J("ngForOf",t.viewPortInfos)}}function Wt(i,l){if(1&i&&(e.TgZ(0,"div")(1,"mat-card",17)(2,"mat-toolbar",18),e._uU(3,"Single selection"),e.qZA(),e.TgZ(4,"mat-card-content")(5,"form",113)(6,"div",19)(7,"span",20),e._UZ(8,"tree-list",114),e.ALo(9,"async"),e.qZA(),e.TgZ(10,"span",22)(11,"h4"),e._uU(12,"Your selection :"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.qZA()()()()()(),e.TgZ(15,"mat-card",17)(16,"mat-toolbar",18),e._uU(17,"Multi selection"),e.qZA(),e.TgZ(18,"mat-card-content")(19,"form",113)(20,"div",19)(21,"span",20),e._UZ(22,"tree-list",115),e.ALo(23,"async"),e.qZA(),e.TgZ(24,"span",22)(25,"h4"),e._uU(26,"Your selection :"),e.qZA(),e.TgZ(27,"span"),e._uU(28),e.qZA()()()()()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.fruitForm),e.xp6(3),e.Q6J("models",e.lcZ(9,6,t.fruits$)),e.xp6(6),e.Oqu(t.fruitForm.get("fruitName").value),e.xp6(5),e.Q6J("formGroup",t.fruitFormModels),e.xp6(3),e.Q6J("models",e.lcZ(23,8,t.fruits$)),e.xp6(6),e.Oqu(t.fruitFormModels.get("fruitName").value)}}let Kt=(()=>{class i extends Z.yl{constructor(t,n,r,d,o,c,h,v){super(),this.changeDetectorRef=t,this.countriesService=n,this.folderService=r,this.countriesListService=d,this.newsService=o,this.groupingService=c,this.sortingService=h,this.formBuilder=v,this.fruct="Apricots",this.fructs=[],this.fructItems=[],this.fructItemsWithPreSelection=[],this.tabIndex=1,this.itemExpand$=new X.x,this.sortCountries$=new q.X(void 0),this.deepCountry={l1:{l2:{name:"Switzerland",value:"CH"}}},this.dialogResponse$=new X.x,this.sortInfos={name:"naqme"},this._dialogVisible=!1,this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","label":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","label":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","label":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","label":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","label":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","label":"Dominica","depth":0,"odd":false,"selected":true}]'),this.news$=o.getNews$(50),this.bigCountries$=n.getCountries$(null,1e5),this.bigNews$=o.getNews$(1e4).pipe((0,U.d)({bufferSize:1,refCount:!1})),this.loremList$=(0,ot.w)(0,50).pipe((0,b.U)(m=>{const g=Math.floor(38*Math.random())+33,_=new F(m.toString(),`${m} - Une ligne de test avec une taille de : ${g}`);return _.size=g,_}),function mt(i,l,t,n){return(0,ct.e)((r,d)=>{let o;l&&"function"!=typeof l?({duration:t,element:o,connector:n}=l):o=l;const c=new Map,h=a=>{c.forEach(a),a(d)},v=a=>h(f=>f.error(a));let m=0,g=!1;const _=new ue.Q(d,a=>{try{const f=i(a);let w=c.get(f);if(!w){c.set(f,w=n?n():new X.x);const x=function s(a,f){const w=new at.y(x=>{m++;const T=f.subscribe(x);return()=>{T.unsubscribe(),0==--m&&g&&_.unsubscribe()}});return w.key=a,w}(f,w);if(d.next(x),t){const T=(0,ue.x)(w,()=>{w.complete(),null==T||T.unsubscribe()},void 0,void 0,()=>c.delete(f));_.add((0,dt.Xf)(t(x)).subscribe(T))}}w.next(o?o(a):a)}catch(f){v(f)}},()=>h(a=>a.complete()),v,()=>c.clear(),()=>(g=!0,0===m));r.subscribe(_)})}(m=>m.size,{element:m=>m}),(0,pt.z)(m=>m.pipe((0,ut.u)((g,_)=>(g.items||(g.label=_.label,g.items=new Array),g.items=[...g.items,_],g),new F))),(0,he.q)(),(0,U.d)({bufferSize:1,refCount:!1})),this.country=new fe.c,this.country.code="CH",this.country.displayName="Switzerland",this.country.naqme="Switzerland",this.country.color="rgb(211, 47, 47)",this.countries$=this.countriesService.getCountries$(),this.countryItems$=this.countries$.pipe((0,b.U)(m=>m.map(g=>new F(g.code,g.naqme,g))),(0,U.d)({bufferSize:1,refCount:!1})),this.sortInfos$=this.sortCountries$.pipe((0,b.U)(()=>(this.sortInfos.order="ascending"===this.sortInfos.order?"descending":"ascending",this.sortInfos)),(0,U.d)({bufferSize:1,refCount:!1})),this.sortedCountries$=this.countries$.pipe((0,J.V)(this.sortInfos$),(0,b.U)(([m,g])=>h.sort(m,g)),(0,U.d)({bufferSize:1,refCount:!1})),this.folders=this.folderService.getFolders(),this.deepCountries$=this.countriesService.getCountries$().pipe((0,$.w)(m=>m),(0,b.U)(m=>({l1:{l2:{name:m.naqme,value:m.code}}})),(0,he.q)(),(0,U.d)({bufferSize:1,refCount:!1})),this.fructs=["Apricots","Banana","Cantaloupe","Cherries","Coconut","Cranberries","Durian","Grapes","Lemon","Mango","Pineapple","Watermelon"],this.fruits$=(0,S.of)(this.fructs),this.fructItems=this.fructs.map(m=>new F(m.toLowerCase(),m)),this.fructItemsWithPreSelection=this.fructs.map((m,g)=>{const _=new F(m.toLowerCase(),m);return _.selected=1===g,_}),this.countries$.pipe((0,H.b)(m=>this.countriesForMultiselect=m),(0,Y.g)(1),(0,D.R)(this.destroyed$)).subscribe(()=>{this.multiselectModel=JSON.parse('[{"naqme":"\xc5landIslands","code":"AX","label":"\xc5landIslands","depth":0,"odd":true,"selected":true},{"naqme":"AmericanSamoa","code":"AS","label":"AmericanSamoa","depth":0,"odd":false,"selected":true},{"naqme":"Argentina","code":"AR","label":"Argentina","depth":0,"odd":false,"selected":true},{"naqme":"ChristmasIsland","code":"CX","label":"ChristmasIsland","depth":0,"odd":false,"selected":true},{"naqme":"Egypt","code":"EG","label":"Egypt","depth":0,"odd":true,"selected":true},{"naqme":"Dominica","code":"DM","label":"Dominica","depth":0,"odd":false,"selected":true}]')}),this.groupedCountryItems$=this.countries$.pipe((0,b.U)(m=>{const g={},_=[],s=new z(void 0,"EmptyGroup");return s.collapsible=!0,s.collapsed=!0,s.items=[],s.selectable=!1,_.push(s),m.reduce((a,f)=>{const w=f.naqme[0],x=`Group ${w}`;if(!g[x]){g[x]=[];const T=new z(void 0,x);T.collapsible=!0,T.items=g[x],T.selectable=!1,T.firstLetter=w,a.push(T)}return g[x].push(new F(f.code,f.naqme,f)),a},_)}),(0,U.d)({bufferSize:1,refCount:!1})),this.onDemandGroupedCountryItems$=this.countries$.pipe((0,b.U)(m=>{const g={};return m.reduce((_,s)=>{const a=s.naqme[0],f=`Group ${s.naqme[0]}`;if(!g[f]){g[f]=[];const w=new z(void 0,"loading...");w.selectable=!1;const x=new z(void 0,f);x.collapsible=!0,x.collapsed=!0,x.items=[w],x.selectable=!1,x.loaded=!1,x.firstLetter=a,_.push(x)}return g[f].push(new F(s.code,s.naqme,s)),_},[])}),(0,U.d)({bufferSize:1,refCount:!1})),this.fruitForm=this.formBuilder.group({fruitName:["",[ht.p]]}),this.fruitFormModels=this.formBuilder.group({fruitName:[""]}),this.itemExpand$.pipe((0,Y.g)(1e3),(0,G.M)(this.countries$),(0,D.R)(this.destroyed$)).subscribe(([m,g])=>{m.loaded=!0,m.items=g.filter(_=>_.naqme.startsWith(m.firstLetter)).map(_=>{const s=new F(_.code,_.displayName),a=new z(void 0,"loading...");return a.selectable=!1,s.collapsed=!0,s.items=[a],s}),this.onExpandList.itemService.refreshFlatItemList$.next()}),this.numbers=Array.from({length:40},()=>Math.floor(40*Math.random()))}set dialogVisible(t){this._dialogVisible=t,this.changeDetectorRef.markForCheck()}get dialogVisible(){return this._dialogVisible}loadingItems(){return(t,n)=>this.countriesService.getCountries$().pipe((0,Y.g)(3e3))}collapsingItem(){return t=>t.loaded?(0,S.of)(t):this.confirmDialog()(t)}expandingItem(){return t=>t.loaded?(0,S.of)(t):this.confirmDialog()(t).pipe((0,b.U)(r=>r||null))}selectingItems(){return t=>(this.dialogVisible=!0,this.dialogResponse$.pipe((0,B.q)(1),(0,b.U)(n=>(this.dialogVisible=!1,"ok"===n?t:null))))}confirmDialog(){return t=>(this.dialogVisible=!0,this.dialogResponse$.pipe((0,B.q)(1),(0,b.U)(n=>(this.dialogVisible=!1,"ok"===n?t:null)),(0,L.h)(n=>!!n)))}set bigCountriesList(t){this.viewPortInfos$&&(this.viewPortInfos$.unsubscribe(),this.viewPortInfos=[],delete this.viewPortInfos$),this.viewPortInfos$=null==t?void 0:t.viewPort$.subscribe(n=>{var r,d;this.viewPortInfos=[{name:"beforeSize",value:String(n.beforeSize)},{name:"startIndex",value:String(n.startIndex)},{name:"viewPortSize",value:String(n.viewPortSize)},{name:"visibleCount",value:String(null===(r=n.visibleItems)||void 0===r?void 0:r.length)},{name:"endIndex",value:String(n.endIndex)},{name:"afterSize",value:String(n.afterSize)},{name:"itemsCount",value:String(null===(d=n.items)||void 0===d?void 0:d.length)}]})}imageLoaded(t){requestAnimationFrame(()=>requestAnimationFrame(()=>{t.loaded||(t.loaded=!0,t.size=void 0,this.newsList.refreshViewPort())}))}multiselectModelChange(t){this.multiselectModel=t||null}onFilterTemplateClicked(t){alert(`${t} clicked`)}getDragContext(t){return{target:".listitem",className:"country-target-cursor",dragStart:n=>{const r=+n.getAttribute("flat");return r>=0?t.itemService.flatItemList$.pipe((0,b.U)(d=>{const o=d[r];return o&&!o.items&&o.model||void 0})):void 0}}}getDropContext(t){return{dragEnter:()=>({width:200,height:40,className:"country-target-cursor"}),drop:n=>{n&&(t.innerText=`The dropped country is ${n.naqme} - the code is: ${n.code} `)}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(fe.K),e.Y36(pe.Z),e.Y36(ge.g),e.Y36(ft.Y),e.Y36(oe.uC),e.Y36(be),e.Y36(M.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tree-list-demo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(It,5),e.Gf(At,5),e.Gf(St,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.newsList=r.first),e.iGM(r=e.CRH())&&(n.onExpandList=r.first),e.iGM(r=e.CRH())&&(n.bigCountriesList=r.first)}},features:[e._Bn([ge.g]),e.qOj],decls:19,vars:10,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","SIMPLE EXAMPLES"],["label","ADVANCED EXAMPLES"],["label","TEMPLATING"],["label","PRE-SELECTIONS"],["label","PRE-EVENTS AND ON_DEMAND"],["label","PERFORMANCES"],["label","REACTIVE FORM"],[4,"ngIf"],["class","demo-card demo-basic",4,"ngIf"],["type","primary","title","Confirm"],["actionsTemplate",""],["id","cancelbtn","mat-raised-button","",3,"click"],["id","okbtn","mat-raised-button","","color","primary",3,"click"],[1,"demo-card","demo-basic"],[3,"url"],[1,"tree-list-demo","demo-card","demo-basic"],["color","primary"],[1,"flexLayout"],[1,"flex45p","flexLayout","flexColumn"],["ngModelType","model","textField","naqme","valueField","code",3,"ngModel","models","ngModelChange"],[1,"flex45p","flexOffset5p"],["textField","naqme","valueField","code",3,"ngModel","models","ngModelChange"],["id","shortcut-list",1,"flex45p","flexOffset5p"],[1,"keyboard-key"],[1,"flex45p","demo-half-width","optionstl",3,"ngModel","ngModelChange"],["value","Apricots","text","My preferred fruct is Apricots"],["value","Banana","text","My preferred fruct is Banana"],["value","Cantaloupe","text","My preferred fruct is Cantaloupe"],["value","Cherries","text","My preferred fruct is Cherries"],["value","Coconut","text","My preferred fruct is Coconut"],["value","Cranberries","text","My preferred fruct is Cranberries"],["value","Durian","text","My preferred fruct is Durian"],["value","Grapes","text","My preferred fruct is Grapes"],["value","Lemon","text","My preferred fruct is Lemon"],["value","Mango","text","My preferred fruct is Mango"],["value","Pineapple","text","My preferred fruct is Pineapple"],["value","Watermelon","text","My preferred fruct is Watermelon"],["multiSelect","true",1,"flex45p","flexOffset5p","demo-half-width","optionstl",3,"selectedValues"],["value","Apricots","text","Apricots"],["value","Banana","text","Banana"],["value","Cantaloupe","text","Cantaloupe"],["value","Cherries","text","Cherries"],["value","Coconut","text","Coconut"],["value","Cranberries","text","Cranberries"],["value","Durian","text","Durian"],["value","Grapes","text","Grapes"],["value","Lemon","text","Lemon"],["value","Mango","text","Mango"],["value","Pineapple","text","Pineapple"],["value","Watermelon","text","Watermelon"],[1,"flexLayout","flexAlignCenter","flexJustifyStart"],[1,"demo-half-width",3,"ngModel","models","ngModelChange"],[1,"flex50p","flexOffset5p"],["color","primary",3,"ngModel","ngModelChange"],["searchArea","","nodataholder","No record to display","ngModelType","model","maxHeight","auto","selectionClearable","","textField","l1.l2.name","valueField","l1.l2.value",3,"disabled","ngModel","models","ngModelChange"],["nodataholder","No record to display","maxHeight","auto","textField","label","childrenField","children",3,"models"],["multiSelect","","textField","naqme","valueField","code",3,"selectedModels","models","selectedChange"],[1,"flexLayout","flexColumn","flex45p","flexOffset5p"],["id","shortcut-list"],[4,"ngFor","ngForOf"],[1,"flex45p","flexLayout","flexColumn","noselect"],[3,"items","mouse-draggable"],["dragdroplist",""],["itemTemplate",""],["parentItemTemplate",""],[2,"border","1px solid red","min-height","150px",3,"mouse-droppable"],["dropArea",""],["nodataholder","No record to display","textField","naqme","valueField","code","min-search-length","2",1,"demo-half-width",3,"models"],["multiSelect","","viewPortMode","variable","searchArea","",3,"items"],["id","placeholder-icon"],["viewPortMode","auto","textField","title","searchField","description",1,"news",3,"models"],["news",""],["textField","naqme","valueField","code",3,"models"],["headertreelist",""],["headerTemplate",""],[1,"flex45p","flexLayout","flexColumn","flexOffset5p"],["textField","naqme",3,"items"],["searchArea","","textField","naqme","valueField","code",3,"models"],["searchPrefixTemplate",""],["searchSuffixTemplate",""],[3,"item","imageLoaded"],["id","headerTemplateContent",3,"click"],["id","title"],[3,"sort-infos"],[3,"click"],[4,"ngIf","ngIfElse"],["selected",""],["deja-numeric-stepper-container","","deja-numeric-stepper-form-field",""],["matInput","","type","text",3,"ngModel"],["numericStepper","ngModel"],["layout","horizontal",3,"increment","decrement"],["selectedModel","Mango",1,"fixed-height",3,"models"],[1,"flex45p","flexLayout","flexColumn","flexOffset15px"],["multiSelect","true",1,"fixed-height",3,"selectedModels","models"],["selectedValue","mango",1,"fixed-height",3,"items"],[1,"flex45p","flexOffset15px"],[1,"fixed-height",3,"items"],["multiSelect","","textField","naqme","valueField","code",1,"demo-half-width","fixed-height",3,"selectingItems","models"],["searchArea","",1,"demo-half-width","fixed-height",3,"items","expandingItem","collapsingItem","itemExpand"],["onexpand",""],[1,"flexContainer","flexLayout","flexAlignCenter","flexJustifyStart"],[1,"flexExtendCollapseAuto"],["mat-button","",3,"click"],[1,"flexFixedAuto"],["matInput","","type","number","autocomplete","off",3,"ngModel","ngModelChange"],["mat-button","",1,"flexFixedAuto",3,"click"],["viewPortMode","auto","viewPortRowHeight","200","textField","title","searchField","description",1,"news",3,"debugMode","models"],["searchArea","","id","bigCountries","textField","naqme","valueField","code",1,"flex45p",3,"models"],["bigCountries",""],["id","vptitle"],[1,"vpinfoname"],["novalidate","",3,"formGroup"],["formControlName","fruitName",3,"models"],["multiSelect","","formControlName","fruitName",3,"models"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-tab-group",0),e.NdJ("selectedTabChange",function(d){return n.tabIndex=d.index}),e._UZ(1,"mat-tab",1)(2,"mat-tab",2)(3,"mat-tab",3)(4,"mat-tab",4)(5,"mat-tab",5)(6,"mat-tab",6)(7,"mat-tab",7)(8,"mat-tab",8),e.qZA(),e.YNc(9,Mt,5,0,"deja-dialog",9),e.YNc(10,$t,2,1,"mat-card",10),e.YNc(11,Ut,169,27,"div",9),e.YNc(12,Pt,74,14,"div",9),e.YNc(13,Ot,47,13,"div",9),e.YNc(14,Gt,26,6,"div",9),e.YNc(15,kt,18,9,"div",9),e.YNc(16,jt,34,9,"div",9),e.YNc(17,Wt,29,10,"div",9),e._UZ(18,"mouse-dragdrop-cursor")),2&t&&(e.Q6J("selectedIndex",n.tabIndex),e.xp6(9),e.Q6J("ngIf",n.dialogVisible),e.xp6(1),e.Q6J("ngIf",0===n.tabIndex),e.xp6(1),e.Q6J("ngIf",1===n.tabIndex),e.xp6(1),e.Q6J("ngIf",2===n.tabIndex),e.xp6(1),e.Q6J("ngIf",3===n.tabIndex),e.xp6(1),e.Q6J("ngIf",4===n.tabIndex),e.xp6(1),e.Q6J("ngIf",5===n.tabIndex),e.xp6(1),e.Q6J("ngIf",6===n.tabIndex),e.xp6(1),e.Q6J("ngIf",7===n.tabIndex))},dependencies:[N.sg,N.O5,gt.a,vt.F,xt.b,_t.g,wt._,M._Y,M.Fj,M.wV,M.JJ,M.JL,M.On,ae,ee.lW,ee.zs,te.a8,te.dn,re.oG,k.KE,j.Hw,W.Nt,ie.SP,ie.uX,le.Ye,Tt.S,Zt.l,Ct.d,bt.H,M.sg,M.u,it,N.Ov,N.Ts],styles:['tree-list-demo .demo-card{margin:16px}tree-list-demo .demo-card mat-card-content{padding:16px;display:flex;flex-direction:column}tree-list-demo .demo-card mat-card-content tree-list{max-height:400px;position:relative;margin:1rem 0}tree-list-demo .demo-card mat-card-content tree-list.fixed-height{height:400px}tree-list-demo .demo-card mat-card-content tree-list.news{max-height:600px}tree-list-demo .demo-card mat-card-content tree-list [deja-numeric-stepper-form-field]{height:100%;width:32px;display:flex;flex-direction:row;align-items:center;padding-left:6px}tree-list-demo .demo-card mat-card-content tree-list .selected [deja-numeric-stepper-form-field] .shadow{background-color:#2196f3cc}tree-list-demo .demo-card mat-card-content tree-list .selected [deja-numeric-stepper-form-field] .arrow{color:inherit}tree-list-demo .demo-card mat-card-content tree-list .selected [deja-numeric-stepper-form-field] .mat-input-element{caret-color:inherit}tree-list-demo .demo-card mat-card-content mat-form-field{flex-basis:auto;flex-grow:0;flex-shrink:0;position:relative;margin-top:.7rem}tree-list-demo .demo-basic{padding:0}tree-list-demo .demo-full-width{width:100%}tree-list-demo .demo-half-width{width:45%}tree-list-demo .demo-icons{font-size:100%;height:inherit;vertical-align:top;width:inherit}tree-list-demo #flight{display:flex;align-items:center}tree-list-demo news-card{width:100%}tree-list-demo news-card .text{overflow-x:hidden}tree-list-demo .vpinfoname{display:inline-block;width:7rem}tree-list-demo #bigCountries{height:400px}tree-list-demo #headerTemplateContent{padding:.4rem;display:block;background-color:#aaa;cursor:pointer;display:flex}tree-list-demo #headerTemplateContent #title{flex:1 0 auto}tree-list-demo #headerTemplateContent step-indicator{flex:0 0 auto}tree-list-demo [matPrefix]{cursor:default;padding:4px}tree-list-demo [matSuffix]{padding:4px;display:flex;justify-content:flex-end;cursor:pointer}tree-list-demo [ddid]{width:100%;height:100%;display:flex;align-items:center}tree-list-demo .optionstl{overflow:visible}tree-list-demo .flexLayout{display:flex}tree-list-demo .flexLayout.flexColumn{flex-direction:column}tree-list-demo .flexLayout.flexJustifyStart{justify-content:start}tree-list-demo .flexLayout.flexAlignCenter{align-items:center}tree-list-demo .flexLayout .flex45p{flex:0 0 45%;overflow:hidden}tree-list-demo .flexLayout .flex50p{flex:0 0 50%;overflow:hidden}tree-list-demo .flexLayout .flexFixedAuto{flex:0 0 auto;overflow:hidden}tree-list-demo .flexLayout .flexFixed140px{flex:0 0 140px;overflow:hidden}tree-list-demo .flexLayout .flexExtendAuto{flex:1 0 auto;overflow:hidden}tree-list-demo .flexLayout .flexExtendCollapseAuto{flex:1 1 auto;overflow:hidden}tree-list-demo .flexOffset15px{margin-left:15px}tree-list-demo .flexOffset5p{margin-left:5%}.country-target-cursor #content{background-color:#00000080!important;color:#fff;display:flex;align-items:center;justify-content:center;max-width:200px;cursor:pointer}.country-target-cursor #content:before{display:block;width:.5rem;content:" "}\n'],encapsulation:2}),i})();class z extends F{}const Xt=lt.Bz.forChild([{path:"",component:Kt},{path:"**",redirectTo:"",pathMatch:"full"}]);let ei=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[pe.Z],imports:[N.ez,we.W,st.O,Te.J,Ae.s,oe.NA,M.u5,de,ee.ot,te.QW,re.p9,k.lN,j.Ps,W.c,ie.Nh,le.g0,Ie.$Q,rt.NewsCardModule,M.UX,Xt,nt]}),i})()}}]);