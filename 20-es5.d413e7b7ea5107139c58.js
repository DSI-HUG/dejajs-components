!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Pkvd:function(t,a,l){"use strict";l.r(a),l.d(a,"DejaContentEditableDemoModule",(function(){return F}));var d,u,s=l("SVse"),f=l("s7LF"),b=l("PDjf"),m=l("pMoy"),p=l("M9ds"),h=l("l0rg"),y=l("8LU1"),v=l("Z5sx"),g=l("2Vo4"),j=l("xgIS"),w=l("Cfvw"),E=l("PqYM"),O=l("1G5W"),x=l("/uUt"),C=l("lJxs"),M=l("IzEk"),k=l("pLZG"),I=l("eIep"),S=l("8Y7J"),_=((u=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(s,t);var a,l,d,u=o(s);function s(t,i){var r;n(this,s),(r=u.call(this)).control=i,r._disabled=null,r._inEdition=!1,r._editMode=!1,r._mandatory=!1,r._multiline=!1,r.edit$=new g.a([!1,!1]),r.onTouchedCallback=function(){},r.onChangeCallback=function(e){},r.control&&(r.control.valueAccessor=c(r)),r.element=t.nativeElement,Object(j.a)(r.element,"mousedown").pipe(Object(O.a)(r.destroyed$)).subscribe((function(e){return r.inEdition||r.disabled?(e.cancelBubble=!0,!1):r.editMode?(r.edit$.next([!0,!0]),e.cancelBubble=!0,!1):void 0}));var o=Object(w.a)(r.edit$).pipe(Object(x.a)(),Object(C.a)((function(t){var n=e(t,2),i=n[0];return!1!==n[1]&&Object(E.a)(10).pipe(Object(M.a)(1),Object(O.a)(r.destroyed$)).subscribe((function(){r.selectAll(),r.focus()})),r._inEdition=i,i?r.element.setAttribute("contenteditable","true"):r.element.removeAttribute("contenteditable"),r.refreshView(),i}))),a=o.pipe(Object(k.a)((function(e){return!e}))),l=Object(j.a)(r.element.ownerDocument,"mousedown").pipe(Object(k.a)((function(e){return!r.isChildElement(e.target)})),Object(O.a)(a));o.pipe(Object(k.a)((function(e){return e})),Object(I.a)((function(){return l})),Object(O.a)(r.destroyed$)).subscribe((function(){var e=r.element.innerText.replace(/\n/g,"<br />").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");r.onTouchedCallback(),!e&&r.mandatory||(r.value=e),r.inEdition=!1}));var d=Object(j.a)(r.element,"keydown").pipe(Object(O.a)(a));return o.pipe(Object(k.a)((function(e){return e})),Object(I.a)((function(){return d})),Object(O.a)(r.destroyed$)).subscribe((function(e){if(e.cancelBubble=!0,e.stopPropagation(),e.code!==v.A.Enter||r.multiline)e.code===v.A.Escape&&(r.inEdition=!1);else{var t=r.element.innerText;!t&&r.mandatory||(r.value=t),r.inEdition=!1}return!1})),r}return a=s,(l=[{key:"writeValue",value:function(e){this.model=e,this.refreshView()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"ngOnInit",value:function(){this.model=this.element.innerHTML}},{key:"focus",value:function(){this.element.focus()}},{key:"selectAll",value:function(){var e=document.createRange();e.selectNodeContents(this.element);var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},{key:"edit",value:function(e){this.edit$.next([!this.disabled,e])}},{key:"isChildElement",value:function(e){for(var t=e;t&&t!==this.element;)t=t.parentElement;return t===this.element}},{key:"refreshView",value:function(){this.model&&(this.inEdition?this.element.innerText=this.model.replace(/<br\s*[/]?>/gi,"\n"):this.element.innerHTML=this.model.replace(/\n/g,"<br />"))}},{key:"mandatory",set:function(e){this._mandatory=Object(y.b)(e)},get:function(){return this._mandatory}},{key:"multiline",set:function(e){this._multiline=Object(y.b)(e)},get:function(){return this._multiline}},{key:"disabled",set:function(e){var t=Object(y.b)(e);this._disabled=t||null,this.disabled&&this.edit$.next([!1,!1])},get:function(){var e;return(null===(e=this.control)||void 0===e?void 0:e.disabled)||this._disabled}},{key:"editMode",set:function(e){this._editMode=Object(y.b)(e)},get:function(){return this._editMode}},{key:"inEdition",set:function(e){this.disabled||this.edit$.next([Object(y.b)(e),!1])},get:function(){return this._inEdition}},{key:"value",set:function(e){e!==this.model&&(this.writeValue(e),this.onChangeCallback(e))},get:function(){return this.model}}])&&i(a.prototype,l),d&&i(a,d),s}(v.s)).\u0275fac=function(e){return new(e||u)(S["\u0275\u0275directiveInject"](S.ElementRef),S["\u0275\u0275directiveInject"](f.NgControl,10))},u.\u0275dir=S["\u0275\u0275defineDirective"]({type:u,selectors:[["","deja-editable",""]],hostVars:1,hostBindings:function(e,t){2&e&&S["\u0275\u0275attribute"]("disabled",t._disabled)},inputs:{inEdition:"inEdition",mandatory:"mandatory",multiline:"multiline",disabled:"disabled",editMode:["deja-editable","editMode"]},features:[S["\u0275\u0275InheritDefinitionFeature"]]}),u),A=((d=function e(){n(this,e)}).\u0275mod=S["\u0275\u0275defineNgModule"]({type:d}),d.\u0275inj=S["\u0275\u0275defineInjector"]({factory:function(e){return new(e||d)},imports:[[s.c,f.FormsModule]]}),d),T=l("KYkd"),D=l("iInd"),P=l("iss+");function R(e,t){1&e&&(S["\u0275\u0275elementStart"](0,"mat-card",4),S["\u0275\u0275element"](1,"deja-markdown",5),S["\u0275\u0275elementEnd"]()),2&e&&(S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("url","https://raw.githubusercontent.com/DSI-HUG/dejajs-components/develop/projects/deja-js/component/content-editable/readme.md"))}function V(e,t){if(1&e){var n=S["\u0275\u0275getCurrentView"]();S["\u0275\u0275elementStart"](0,"mat-card",4),S["\u0275\u0275elementStart"](1,"mat-toolbar",6),S["\u0275\u0275text"](2,"Content Editable Demo"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](3,"mat-card-content"),S["\u0275\u0275elementStart"](4,"mat-checkbox",7),S["\u0275\u0275listener"]("ngModelChange",(function(e){return S["\u0275\u0275restoreView"](n),S["\u0275\u0275nextContext"]().designMode=e})),S["\u0275\u0275text"](5,"Design Mode\xa0"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](6,"mat-checkbox",7),S["\u0275\u0275listener"]("ngModelChange",(function(e){return S["\u0275\u0275restoreView"](n),S["\u0275\u0275nextContext"]().disabled=e})),S["\u0275\u0275text"](7,"Disabled"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](8,"mat-card-content",8),S["\u0275\u0275elementStart"](9,"div",9),S["\u0275\u0275text"](10," Lorem ipsum dolor sit amet, consectetur adipiscing elit. "),S["\u0275\u0275element"](11,"br"),S["\u0275\u0275text"](12," Mauris auctor sit amet odio et aliquet. Curabitur auctor eleifend mattis. "),S["\u0275\u0275element"](13,"br"),S["\u0275\u0275text"](14," Nullam sit amet quam tellus. Ut mattis tellus sed erat ultricies ornare. "),S["\u0275\u0275element"](15,"br"),S["\u0275\u0275text"](16," Nulla dictum nisi eu tortor lacinia porttitor. Donec eu arcu et enim cursus viverra. "),S["\u0275\u0275element"](17,"br"),S["\u0275\u0275text"](18," Praesent pulvinar dui nisi, a tincidunt arcu finibus sed. "),S["\u0275\u0275element"](19,"br"),S["\u0275\u0275elementStart"](20,"a",10),S["\u0275\u0275text"](21,"Google"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()}if(2&e){var i=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](4),S["\u0275\u0275property"]("ngModel",i.designMode),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("ngModel",i.disabled),S["\u0275\u0275advance"](3),S["\u0275\u0275property"]("deja-editable",i.designMode)("disabled",i.disabled)}}var $,N,L=D.f.forChild([{path:"",component:($=function e(){n(this,e),this.tabIndex=1,this.designMode=!1,this.disabled=!1},$.\u0275fac=function(e){return new(e||$)},$.\u0275cmp=S["\u0275\u0275defineComponent"]({type:$,selectors:[["deja-content-editable-demo"]],decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","API REFERENCE"],["label","EXAMPLES"],["class","demo-card demo-basic",4,"ngIf"],[1,"demo-card","demo-basic"],[3,"url"],["color","primary"],["color","primary",3,"ngModel","ngModelChange"],["id","contentEditableContainer"],["multiline","",3,"deja-editable","disabled"],["href","http://www.google.ch"]],template:function(e,t){1&e&&(S["\u0275\u0275elementStart"](0,"mat-tab-group",0),S["\u0275\u0275listener"]("selectedTabChange",(function(e){return t.tabIndex=e.index})),S["\u0275\u0275element"](1,"mat-tab",1),S["\u0275\u0275element"](2,"mat-tab",2),S["\u0275\u0275elementEnd"](),S["\u0275\u0275template"](3,R,2,1,"mat-card",3),S["\u0275\u0275template"](4,V,22,4,"mat-card",3)),2&e&&(S["\u0275\u0275property"]("selectedIndex",t.tabIndex),S["\u0275\u0275advance"](3),S["\u0275\u0275property"]("ngIf",0===t.tabIndex),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",1===t.tabIndex))},directives:[p.b,p.a,s.n,b.a,P.a,h.a,b.c,m.a,f.NgControlStatus,f.NgModel,_],encapsulation:2}),$)},{path:"**",redirectTo:"",pathMatch:"full"}]),F=((N=function e(){n(this,e)}).\u0275mod=S["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=S["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},providers:[],imports:[[s.c,f.FormsModule,b.d,m.b,p.c,h.b,A,T.a,L]]}),N)}}])}();