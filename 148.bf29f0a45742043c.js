"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[148],{1676:(L,D,s)=>{s.d(D,{V:()=>g});var u=s(5804),t=s(9947),n=s(2254),p=s(2937),M=s(7979),j=s(7613);function C(...v){const O=(0,j.jO)(v);return O?(0,M.z)(C(...v),(0,p.Z)(O)):(0,t.e)((x,m)=>{(0,u.l)([x,...(0,n.k)(v)])(m)})}function g(...v){return C(...v)}},5933:(L,D,s)=>{s.d(D,{b:()=>C});var u=s(9947),t=s(2254),n=s(5373),p=s(7613),M=s(7867);function C(...g){return function(...g){const v=(0,p.yG)(g),O=(0,p._6)(g,1/0);return g=(0,t.k)(g),(0,u.e)((x,m)=>{(0,n.J)(O)((0,M.D)([x,...g],v)).subscribe(m)})}(...g)}},2254:(L,D,s)=>{s.d(D,{k:()=>t});const{isArray:u}=Array;function t(n){return 1===n.length&&u(n[0])?n[0]:n}},4667:(L,D,s)=>{s.d(D,{LD:()=>J,sQ:()=>N});var u=s(6019),t=s(3668),n=s(9133),p=s(86),M=s(3660),j=s(1574),C=s(6263),g=s(1676),v=s(4753),O=s(4499),x=s(273),m=s(7384),A=s(5488),b=s(1092),E=s(9417),i=s(5933),d=s(9463),f=s(8660),y=s(461),W=s(5077),T=s(9468),K=s(348),B=s(6420);const V=["*"];function X(r,h){if(1&r&&t._UZ(0,"deja-color-fab",5),2&r){const a=h.index;t.Q6J("color",h.$implicit),t.uIk("index",a)}}function Y(r,h){if(1&r&&t._UZ(0,"deja-color-fab",6),2&r){const e=h.$implicit,a=h.index;t.Udp("transition-duration",100*a+"ms"),t.Q6J("color",e),t.uIk("index",a)}}function H(r,h){if(1&r){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().resetDefaultColor()}),t.TgZ(1,"mat-icon"),t._uU(2,"undo"),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();t.Udp("background-color",e._resetcolor.toHex()),t.xp6(1),t.Udp("color",e.getBestTextColor(e._resetcolor.toHex()))}}let Z=(()=>{class r extends j.yl{constructor(e){super(),this.element=e.nativeElement}set color(e){if(this._colorFab=e,e){const a=(c,P)=>{P?this.element.setAttribute(c,P.toString()):this.element.removeAttribute(c)};e.active$.pipe((0,C.R)(this.destroyed$)).subscribe(c=>a("active",c)),e.color$.pipe((0,g.V)(e.disabled$),(0,v.U)(([c,P])=>c&&P?c.grayScale:c),(0,C.R)(this.destroyed$)).subscribe(c=>this.element.style.backgroundColor=c?c.toHex():"")}}get tile(){return this._colorFab}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq))},r.\u0275cmp=t.Xpm({type:r,selectors:[["deja-color-fab"]],inputs:{color:"color"},features:[t.qOj],ngContentSelectors:V,decls:1,vars:0,template:function(e,a){1&e&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{border-radius:50%;cursor:pointer;transition:all linear .2s;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:space-around;margin:.45rem}[small][_nghost-%COMP%]{width:1.65rem;height:1.65rem;margin:.3rem}[active][_nghost-%COMP%]{transform:scale(1.4);transition:transform linear .2s!important}"]}),r})();class w{constructor(h,e=!1,a=!1){this._color=h,this._disabled=e,this._active=a,this.color$=new O.X(h),this.disabled$=new O.X(e),this.active$=new O.X(a)}set color(h){this.color$.next(this._color=h)}get color(){return this._color}set disabled(h){this.disabled$.next(this._disabled=h)}get disabled(){return this._disabled}set active(h){this.active$.next(this._active=h)}get active(){return this._active}}let J=(()=>{class r{constructor(e,a){this.control=a,this.colorhover=new t.vpe,this.destroyed$=new x.x,this._colors$=new O.X([]),this._resetcolor$=new O.X(null),this._colorFabs=[],this._subColorFabs=[],this._selectedBaseIndex=0,this._disabled=!1,this.selectedBaseIndex$=new O.X(0),this.selectedSubIndex$=new O.X(0),this.hilightedBaseIndex$=new x.x,this.hilightedSubIndex$=new x.x,this.onTouchedCallback=()=>{},this.onChangeCallback=o=>{};const c=e.nativeElement;this.control&&(this.control.valueAccessor=this),this._colorFabs$=this._colors$.pipe((0,v.U)(o=>o.map((l,_)=>new w(l,this._disabled,_===this._selectedBaseIndex))),(0,m.b)(o=>this._colorFabs=o)),this._colors$.pipe((0,g.V)(this._resetcolor$),(0,C.R)(this.destroyed$)).subscribe(([o,l])=>{if(!o||!o.length||!l)return void(this._resetcolor=void 0);let I;o.reduce(($,F)=>{const U=F;return U.subColors?$=[...$,...U.subColors]:$.push(F),$},[]).reduce(($,F)=>{const U=.3*Math.abs(F.r-l.r)+.4*Math.abs(F.g-l.g)+.25*Math.abs(F.b-l.b);return U<$?(I=F,U):$},765),this._resetcolor=I});const P=this.hilightedBaseIndex$.pipe((0,A.x)(),(0,b.D)(o=>(0,E.H)(void 0!==o?100:1e3)),(0,m.b)(o=>{var _,I;this.hilightedBaseIndex=o;const l=new CustomEvent("ColorEvent",{});l.color=o?null==(I=null==(_=this._colorFabs)?void 0:_[o])?void 0:I.color:this.value,this.colorhover.emit(l)}),(0,v.U)(o=>void 0!==o?o:this._selectedBaseIndex||0)),k=this.selectedBaseIndex$.pipe((0,m.b)(o=>this._selectedBaseIndex=o));this._subColorFabs$=P.pipe((0,i.b)(k),(0,A.x)(),(0,m.b)(o=>{this._colorFabs&&this._colorFabs.forEach((l,_)=>l.active=_===o)}),(0,d.b)(100),(0,m.b)(()=>c.setAttribute("sub-tr","")),(0,v.U)(o=>{var l;return(null==(l=this._colorFabs)?void 0:l[o])&&this._colorFabs[o].color.subColors}),(0,v.U)(o=>null==o?void 0:o.map((l,_)=>new w(l,this._disabled,_===this._selectedSubIndex))),(0,m.b)(o=>this._subColorFabs=o)),this._subColorFabs$.pipe((0,f.g)(100),(0,C.R)(this.destroyed$)).subscribe(()=>c.removeAttribute("sub-tr"));const S=this.hilightedSubIndex$.pipe((0,A.x)(),(0,b.D)(o=>(0,E.H)(void 0!==o?200:1100)),(0,m.b)(o=>{var _,I;this.hilightedSubIndex=o;const l=new CustomEvent("ColorEvent",{});l.color=void 0!==o?null==(I=null==(_=this._subColorFabs)?void 0:_[o])?void 0:I.color:this.value,this.colorhover.emit(l)}),(0,v.U)(o=>void 0!==o?o:this._selectedSubIndex||0)),R=this.selectedSubIndex$.pipe((0,A.x)(),(0,m.b)(o=>this._selectedSubIndex=o));S.pipe((0,i.b)(R),(0,y.h)(()=>!!this._subColorFabs),(0,C.R)(this.destroyed$)).subscribe(o=>this._subColorFabs.forEach((l,_)=>l.active=_===o)),(0,W.R)(c,"mousemove").pipe((0,y.h)(()=>!this._disabled),(0,C.R)(this.destroyed$)).subscribe(o=>{const l=o.target,_=l.attributes[r.INDEX_ATTRIBUTE];l.hasAttribute("basecolor")?(this.hilightedBaseIndex$.next(+_.value),this.hilightedSubIndex$.next(this.hilightedSubIndex)):l.hasAttribute("subcolor")?(this.hilightedBaseIndex$.next(this.hilightedBaseIndex),this.hilightedSubIndex$.next(+_.value)):(this.hilightedBaseIndex$.next(void 0),this.hilightedSubIndex$.next(void 0))}),(0,W.R)(c,"click").pipe((0,y.h)(()=>!this._disabled),(0,C.R)(this.destroyed$)).subscribe(o=>{const l=o.target;(l.hasAttribute("basecolor")||l.hasAttribute("subcolor"))&&(this.value=B.Il.parse(l.style.backgroundColor))})}get subColorFabs(){return this._subColorFabs}get subColorFabs$(){return this._subColorFabs$}get colorFabs$(){return this._colorFabs$}set resetcolor(e){""===e&&(e=new B.Il);const a=e&&("string"==typeof e?B.Il.parse(e):e);this._resetcolor$.next(a||null)}set disabled(e){const a=(0,K.Ig)(e);this._colorFabs&&this._colorFabs.forEach(c=>c.disabled=a),this._subColorFabs&&this._subColorFabs.forEach(c=>c.disabled=a),this._disabled=a||null}get disabled(){return this._disabled}getBestTextColor(e){return B.Il.fromHex(e).bestTextColor.toHex()}resetDefaultColor(){this.value=this._resetcolor}set colors(e){this._colors$.next(e||[]),this.selectedBaseIndex$.next(0)}set selectedColor(e){const a=c=>{(0,E.H)(1).pipe((0,T.q)(1),(0,C.R)(this.destroyed$)).subscribe(()=>this.selectedSubIndex$.next(c))};this._colorFabs&&(this._colorFabs.find((P,k)=>{var o;const S=P.color,R=null==(o=S.subColors)?void 0:o.findIndex(l=>B.Il.equals(l,e));return void 0!==R&&R>=0?(this.selectedBaseIndex$.next(k),a(R),!0):!!B.Il.equals(S,e)&&(this.selectedBaseIndex$.next(k),a(0),!0)})||(this.selectedBaseIndex$.next(0),a(0)))}set value(e){B.Il.equals(e,this._value)||(this.writeValue(e),this.onChangeCallback(e))}get value(){return this._value}writeValue(e){this._value=e,this.selectedColor=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.unsubscribe()}}return r.INDEX_ATTRIBUTE="index",r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(n.a5,10))},r.\u0275cmp=t.Xpm({type:r,selectors:[["deja-color-selector"]],inputs:{resetcolor:"resetcolor",disabled:"disabled",colors:"colors"},outputs:{colorhover:"colorhover"},decls:7,vars:7,consts:[["id","basecolors",1,"colors-wrapper"],["basecolor","","small","",3,"color",4,"ngFor","ngForOf"],["id","subcolors",1,"colors-wrapper"],["subcolor","",3,"transition-duration","color",4,"ngFor","ngForOf"],["id","reset",3,"background-color","click",4,"ngIf"],["basecolor","","small","",3,"color"],["subcolor","",3,"color"],["id","reset",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,X,1,2,"deja-color-fab",1),t.ALo(2,"async"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,Y,1,4,"deja-color-fab",3),t.ALo(5,"async"),t.qZA(),t.YNc(6,H,3,4,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,3,a.colorFabs$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(5,5,a.subColorFabs$)),t.xp6(2),t.Q6J("ngIf",!!a._resetcolor))},directives:[u.sg,u.O5,Z,M.Hw],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .colors-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap;margin:1rem .5rem}[_nghost-%COMP%]   .colors-wrapper[_ngcontent-%COMP%]   deja-color-fab[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]   .colors-wrapper[_ngcontent-%COMP%]   #subcolors[_ngcontent-%COMP%]   deja-color-fab[_ngcontent-%COMP%]{opacity:1}[sub-tr][_nghost-%COMP%]   #subcolors.colors-wrapper[_ngcontent-%COMP%]   deja-color-fab[_ngcontent-%COMP%]{opacity:0;transform:scale(0)}[_nghost-%COMP%]   #reset[_ngcontent-%COMP%]{padding:.5rem 0;cursor:pointer;text-align:center}"]}),r})(),N=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[u.ez,n.u5,p.ot,M.Ps]]}),r})()},1312:(L,D,s)=>{s.d(D,{j:()=>m,x:()=>A});var u=s(7219),t=s(6019),n=s(3668),p=s(1574),M=s(348),j=s(5406),C=s(6263),g=s(9417),v=s(9468);function O(b,E){1&b&&n.Hsn(0)}const x=["*"];let m=(()=>{class b extends p.yl{constructor(i,d,f,y){super(),this.changeDetectorRef=i,this.elementRef=d,this.overlayContainer=f,this.overlayBackdropClass="cdk-overlay-transparent-backdrop",this.visibleChange=new n.vpe,this.closed=new n.vpe,this.overlayOffsetX=0,this.overlayOffsetY=0,this._isVisible=!1,this._hasBackdrop=!0,this._width=null,this._widthForMobile="100%",this._positions=p.Gg.default,this._isMobile=!1,this.disableMediaService=!1,this.overlayContainer.getContainerElement().addEventListener("contextmenu",T=>(T.preventDefault(),!1)),y.isMobile$.pipe((0,j.o)(()=>!this.disableMediaService),(0,C.R)(this.destroyed$)).subscribe(T=>{this._isMobile=T,this.updateOriginOverlay(),this.changeDetectorRef.markForCheck()})}get isVisible(){return this._isVisible}set isVisible(i){const d=(0,M.Ig)(i);if(this._isVisible!==d){this._isVisible=d;const f=this.overlayContainer.getContainerElement();f.className=Array.from(f.classList).filter(y=>y.startsWith("cdk")).join(" "),f.classList.add("deja-overlay-container"),this.isVisible&&this.overlayContainerClass&&this.overlayContainerClass.split(" ").forEach(y=>{f.classList.add(y)}),this.changeDetectorRef.markForCheck(),this.visibleChange.emit(this._isVisible)}}set hasBackdrop(i){this._hasBackdrop=(0,M.Ig)(i)}get hasBackdrop(){return this._hasBackdrop}set ownerElement(i){this._ownerElement=i,this.updateOriginOverlay()}get positionPairs(){return this.positions}get positions(){return this.isMobile?this._positionsForMobile?this._positionsForMobile:p.Gg.parse("start top start top"):this._positions}set positions(i){this._positions="string"==typeof i?p.Gg.parse(i):i}set positionsForMobile(i){this._positionsForMobile="string"==typeof i?p.Gg.parse(i):i}get isMobile(){return this._isMobile}set isMobile(i){this._isMobile=(0,M.Ig)(i),this.updateOriginOverlay(),this.disableMediaService=!0}get width(){return this._width}set width(i){this._width=(0,M.su)(i)}get widthForMobile(){return this._widthForMobile}set widthForMobile(i){this._widthForMobile=i}get overlayWidth(){return this.isMobile?this._widthForMobile:this._width}updatePosition(){var i,d;null==(d=null==(i=this.overlay)?void 0:i.overlayRef)||d.updatePosition()}show(i,d){this.overlayOffsetX=void 0!==d?+i:0,this.overlayOffsetY=d||0,this.overlayOrigin=new u.xu(new n.SBq(this.isMobile&&document.body||(null==i?void 0:i.target)||this.ownerElement||this.elementRef.nativeElement)),this.isVisible=!0,this.changeDetectorRef.markForCheck(),(0,g.H)(1).pipe((0,v.q)(1),(0,C.R)(this.destroyed$)).subscribe(()=>this.updatePosition())}close(){this.isVisible=!1,this.closed.emit(!0),this.changeDetectorRef.markForCheck()}updateOriginOverlay(){this.overlayOrigin=new u.xu(new n.SBq(this.isMobile&&document.body||this._ownerElement||this.elementRef.nativeElement))}}return b.\u0275fac=function(i){return new(i||b)(n.Y36(n.sBO),n.Y36(n.SBq),n.Y36(u.Xj),n.Y36(p.yJ))},b.\u0275cmp=n.Xpm({type:b,selectors:[["deja-overlay"]],viewQuery:function(i,d){if(1&i&&n.Gf(u.pI,7),2&i){let f;n.iGM(f=n.CRH())&&(d.overlay=f.first)}},inputs:{overlayBackdropClass:"overlayBackdropClass",overlayContainerClass:"overlayContainerClass",overlayOffsetX:"overlayOffsetX",overlayOffsetY:"overlayOffsetY",isVisible:"isVisible",hasBackdrop:"hasBackdrop",ownerElement:"ownerElement",positions:"positions",positionsForMobile:"positionsForMobile",isMobile:"isMobile",width:"width",widthForMobile:"widthForMobile"},outputs:{visibleChange:"visibleChange",closed:"closed"},features:[n.qOj],ngContentSelectors:x,decls:2,vars:8,consts:[["cdk-connected-overlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen","cdkConnectedOverlayOffsetY","cdkConnectedOverlayOffsetX","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","detach"],["overlayCmp",""]],template:function(i,d){1&i&&(n.F$t(),n.YNc(0,O,1,0,"ng-template",0,1,n.W1O),n.NdJ("backdropClick",function(){return d.close()})("detach",function(){return d.close()})),2&i&&n.Q6J("cdkConnectedOverlayHasBackdrop",d.hasBackdrop)("cdkConnectedOverlayBackdropClass",d.overlayBackdropClass)("cdkConnectedOverlayOpen",!!d.isVisible)("cdkConnectedOverlayOffsetY",d.overlayOffsetY)("cdkConnectedOverlayOffsetX",d.overlayOffsetX)("cdkConnectedOverlayOrigin",d.overlayOrigin)("cdkConnectedOverlayPositions",d.positionPairs)("cdkConnectedOverlayWidth",d.overlayWidth)},directives:[u.pI],styles:["@media print{.deja-overlay-container{display:none}}\n"],encapsulation:2,changeDetection:0}),b})(),A=(()=>{class b{}return b.\u0275fac=function(i){return new(i||b)},b.\u0275mod=n.oAB({type:b}),b.\u0275inj=n.cJS({imports:[[t.ez,p.cO,u.U8]]}),b})()}}]);