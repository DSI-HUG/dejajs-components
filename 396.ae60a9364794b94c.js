"use strict";(self.webpackChunkdejajs_component=self.webpackChunkdejajs_component||[]).push([[396],{5576:(L,D,e)=>{e.d(D,{L:()=>v});class v{constructor(f,t){this.left=f||0,this.top=t||0}static equals(f,t){return f.left===t.left&&f.top===t.top}offset(f,t){return new v(this.left+f,this.top+t)}clone(){return new v(this.left,this.top)}constrain(f,t,i,r){return new v(Math.min(Math.max(f,this.left),t),Math.min(Math.max(i,this.top),r))}around(f,t,i,r){return Math.abs(this.left-f)<=i&&Math.abs(this.top-t)<=(r||i)}}},1850:(L,D,e)=>{e.d(D,{U:()=>m});var v=e(5576);class m{constructor(t,i,r,g){if("number"==typeof t)this.left=t||0,this.top=i||0,this.width=r||0,this.height=g||0;else{const o=t||{};this.left=o.left||0,this.top=o.top||0,this.width=void 0!==o.right?o.right-this.left:o.width||0,this.height=void 0!==o.bottom?o.bottom-this.top:o.height||0}}static equals(t,i){return t&&i&&t.left===i.left&&t.top===i.top&&t.width===i.width&&t.height===i.height}static union(t,i){return m.fromLTRB(Math.min(t.left,i.left),Math.min(t.top,i.top),Math.max(t.left+t.width,i.left+i.width),Math.max(t.top+t.height,i.top+i.height))}static overlapInfos(t,i){const r=Math.max(0,Math.min(t.right,i.right)-Math.max(t.left,i.left)),g=Math.max(0,Math.min(t.bottom,i.bottom)-Math.max(t.top,i.top));return{area:r*g,width:r,height:g,direction:r>g?"horizontal":"vertical"}}static fromLTRB(t,i,r,g){return new m(t,i,r-t,g-i)}static fromPoints(t,i){return m.fromLTRB(Math.min(t.left,i.left),Math.min(t.top,i.top),Math.max(t.left,i.left),Math.max(t.top,i.top))}set right(t){this.width=t-this.left}get right(){return this.left+this.width}set bottom(t){this.height=t-this.top}get bottom(){return this.top+this.height}get position(){return new v.L(this.left,this.top)}offset(t,i){return new m(this.left+t,this.top+i,this.width,this.height)}adjacent(t){return t.left<=this.right&&t.right>=this.left&&t.top<=this.bottom&&t.bottom>=this.top}contains(t){return t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom}containsPoint(t){return t.left>=this.left&&t.left<=this.right&&t.top>=this.top&&t.top<=this.bottom}intersectWith(t){return t.left<this.right&&t.right>this.left&&t.top<this.bottom&&t.bottom>this.top}isEmpty(){return!this.width||!this.height}clone(){return new m(this.left,this.top,this.width,this.height)}toClientRect(){return{left:this.left,top:this.top,bottom:this.bottom,right:this.right,width:this.width,height:this.height}}toRectStruct(){return this.toClientRect()}}},4396:(L,D,e)=>{e.d(D,{$Q:()=>g});var v=e(3660),m=e(3668);e(702),e(7442),e(2045),e(3599);let g=(()=>{class o{}return o.\u0275fac=function(E){return new(E||o)},o.\u0275mod=m.oAB({type:o}),o.\u0275inj=m.cJS({providers:[],imports:[[v.Ps]]}),o})()},2045:(L,D,e)=>{e.d(D,{S:()=>U});var v=e(4986),m=e(4499),f=e(461),t=e(7384),i=e(8660),r=e(6263),g=e(1676),o=e(3599),l=e(3668),E=e(3660);const T=["block"],x=["content"];let U=(()=>{class _ extends v.yl{constructor(s,M){super(),this.elementRef=s,this.dragDropService=M,this.cursor$=new m.X(null),this.cursor$.pipe((0,f.h)(n=>!n),(0,t.b)(n=>{this.currentCursor&&(this.contentElement&&(this.contentElement.style.opacity="0"),this.iconElement&&(this.iconElement.style.opacity="0")),this.currentCursor=n}),(0,i.g)(300),(0,r.R)(this.destroyed$)).subscribe(()=>{this.position=void 0}),this.cursor$.pipe((0,f.h)(n=>!!n),(0,t.b)(n=>{s.nativeElement.style.display="",this.contentElement&&(this.contentElement.style.opacity="0"),this.iconElement&&(this.iconElement.style.opacity="0"),this.currentCursor=n}),(0,f.h)(n=>!n.className||"hidden"!==n.className),(0,t.b)(n=>{n.html?(s.nativeElement.className=n.className,this.contentElement&&(this.contentElement.innerHTML=n.html,this.contentElement.style.width=`${n.width||48}px`,this.contentElement.style.height=`${n.height||48}px`)):this.iconElement&&(this.iconElement.style.opacity="1")}),(0,i.g)(1),(0,r.R)(this.destroyed$)).subscribe(n=>{n.html&&this.contentElement&&(this.contentElement.style.opacity="1")}),this.dragDropService.dragCursor$.pipe((0,g.V)(this.dragDropService.dropCursor$),(0,r.R)(this.destroyed$)).subscribe(([n,h])=>{var p,y,c,u;const a=(n||h)&&{className:(null==h?void 0:h.className)||(null==n?void 0:n.className),html:(null==h?void 0:h.html)||(null==n?void 0:n.html)||h&&(null==n?void 0:n.originalHtml),width:(null==h?void 0:h.width)||(null==n?void 0:n.width),height:(null==h?void 0:h.height)||(null==n?void 0:n.height),position:null==n?void 0:n.position,originalEvent:null==n?void 0:n.originalEvent};(null==a?void 0:a.html)!==(null===(p=this.currentCursor)||void 0===p?void 0:p.html)||(null==a?void 0:a.className)!==(null===(y=this.currentCursor)||void 0===y?void 0:y.className)||(null==a?void 0:a.width)!==(null===(c=this.currentCursor)||void 0===c?void 0:c.width)||(null==a?void 0:a.height)!==(null===(u=this.currentCursor)||void 0===u?void 0:u.height)?this.cursor$.next(a):this.position=null==a?void 0:a.position})}set position(s){s?(this.elementRef.nativeElement.style.left=`${s.left}px`,this.elementRef.nativeElement.style.top=`${s.top}px`,this.elementRef.nativeElement.style.display=""):this.elementRef.nativeElement.style.display="none"}get iconElement(){var s;return null===(s=this.icon)||void 0===s?void 0:s.nativeElement}get contentElement(){var s;return null===(s=this.content)||void 0===s?void 0:s.nativeElement}}return _.\u0275fac=function(s){return new(s||_)(l.Y36(l.SBq),l.Y36(o.T))},_.\u0275cmp=l.Xpm({type:_,selectors:[["mouse-dragdrop-cursor"]],viewQuery:function(s,M){if(1&s&&(l.Gf(T,7),l.Gf(x,7)),2&s){let n;l.iGM(n=l.CRH())&&(M.icon=n.first),l.iGM(n=l.CRH())&&(M.content=n.first)}},features:[l.qOj],decls:7,vars:0,consts:[["id","block"],["block",""],["id","content"],["content",""]],template:function(s,M){1&s&&(l.TgZ(0,"div",0,1),l.TgZ(2,"mat-icon",null,1),l._uU(4,"block"),l.qZA(),l.qZA(),l._UZ(5,"div",2,3))},directives:[E.Hw],styles:["mouse-dragdrop-cursor{position:fixed;width:0;height:0;overflow:visible;z-index:10000;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;align-items:center;justify-content:space-around}mouse-dragdrop-cursor #block{position:absolute;top:0;left:0;width:3rem;height:3rem;display:flex;align-items:center;justify-content:space-around;transform:translate(-50%,-50%);transition-property:opacity;transition-timing-function:linear;transition-duration:.3s;cursor:default}mouse-dragdrop-cursor #content{position:absolute;top:0;left:0;transform:translate(-50%,-50%);transition-property:opacity;transition-timing-function:linear;transition-duration:.3s;cursor:default}\n"],encapsulation:2}),_})()},3599:(L,D,e)=>{e.d(D,{T:()=>g});var v=e(4986),m=e(4499),f=e(7384),t=e(461),i=e(6263),r=e(3668);let g=(()=>{class o extends v.yl{constructor(){super(),this.dragCursor$=new m.X(null),this.dropCursor$=new m.X(null),this.dragging$=new m.X(!1),this._isDragging=!1,this.dragging$.pipe((0,f.b)(E=>this._isDragging=E),(0,t.h)(E=>!E),(0,i.R)(this.destroyed$)).subscribe(()=>this.context=void 0)}get isDragging(){return this._isDragging}}return o.\u0275fac=function(E){return new(E||o)},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},702:(L,D,e)=>{e.d(D,{l:()=>h});var v=e(4986),m=e(1850),f=e(5576),t=e(8410),i=e(5044),g=e(5077),o=e(461),l=e(3067),E=e(6263),T=e(2997),x=e(9468),U=e(4753),_=e(273),R=e(5933),s=e(7384),M=e(3599),n=e(3668);let h=(()=>{class p extends v.yl{constructor(c,u){super();const a=c.nativeElement,j=(0,g.R)(a,"mouseleave"),C=(0,g.R)(a,"mouseenter"),P=(0,g.R)(a.ownerDocument,"mouseup"),A=(0,g.R)(a,"mousedown"),Y=(0,g.R)(a.ownerDocument,"mousemove");C.pipe((0,o.h)(()=>!u.isDragging),(0,l.w)(()=>A.pipe((0,o.h)(B=>1===B.buttons),(0,E.R)(j),(0,l.w)(B=>{const H=d=>d.tagName===this.context.target.toUpperCase()||`#${d.id}`===this.context.target||d.hasAttribute(this.context.target.substring(1,this.context.target.length-1))||d.className.split(" ").some(O=>`.${O}`===this.context.target);let K=(0,T.of)(null);if(this.context){let d;if(this.context.target)for(d=B.target;d&&!H(d);)d=d.parentElement;else d=a;if(d&&this.context.dragStart){const O=this.context.dragStart(d);O&&(function(p){return!!p&&(p instanceof t.y||(0,i.m)(p.lift)&&(0,i.m)(p.subscribe))}(O)?K=O.pipe((0,x.q)(1),(0,U.U)(W=>(u.context=W,W&&d))):(u.context=O,K=(0,T.of)(d)))}}return K.pipe((0,o.h)(d=>!!d),(0,l.w)(d=>{u.dragging$.next(!0);const O=new _.x,N=C.pipe((0,o.h)($=>1!==$.buttons&&u.isDragging)),W=P.pipe((0,R.b)(N,O),(0,x.q)(1),(0,s.b)(()=>{u.dragCursor$.next(null),u.dragging$.next(!1)}));return Y.pipe((0,E.R)(W),(0,s.b)($=>{if(d&&1===$.buttons){const X=new m.U(a.getBoundingClientRect()),b=new f.L($.pageX,$.pageY),F=X.containsPoint(b)?d.innerHTML:void 0,I=5;let w=new m.U(B.pageX,B.pageY,2*I,2*I);w=w.offset(-I,-I),w.containsPoint(b)||u.dragCursor$.next({position:b,html:F,originalHtml:d.innerHTML,width:d.offsetWidth,height:d.offsetHeight,className:this.context.className,originalEvent:$})}else O.next();return!1}))}))}))),(0,E.R)(this.destroyed$)).subscribe()}set context(c){this._context=c}get context(){return this._context}}return p.\u0275fac=function(c){return new(c||p)(n.Y36(n.SBq),n.Y36(M.T))},p.\u0275dir=n.lG2({type:p,selectors:[["","mouse-draggable",""]],inputs:{context:["mouse-draggable","context"]},features:[n.qOj]}),p})()},7442:(L,D,e)=>{e.d(D,{d:()=>U});var v=e(4986),m=e(1850),f=e(5576),t=e(5488),i=e(461),r=e(3067),g=e(9468),o=e(7384),l=e(6263),E=e(2997),T=e(3599),x=e(3668);let U=(()=>{class _ extends v.yl{constructor(s,M){super();const n=s.nativeElement;let h;const p=M.dragging$.pipe((0,t.x)()),y=M.dragCursor$.pipe((0,i.h)(c=>!!c),(0,r.w)(c=>p.pipe((0,i.h)(u=>!u),(0,g.q)(1),(0,o.b)(()=>{var u;h&&(null===(u=this.context)||void 0===u?void 0:u.drop)&&this.context.drop(h,c),h=void 0,M.dropCursor$.next(null)}))));p.pipe((0,i.h)(c=>c),(0,r.w)(()=>M.dragCursor$.pipe((0,l.R)(y),(0,r.w)(c=>{var u;const a=new m.U(n.getBoundingClientRect());if(this.context&&c){const{pageX:j,pageY:C}=c.originalEvent;if(a.containsPoint(new f.L(j,C))){if(h){if(this.context.dragOver){const P=this.context.dragOver(h,c);if(P)return(0,E.of)(P)}}else if(h=M.context,this.context.dragEnter){const P=this.context.dragEnter(h,c);if(P){const A=P;return A.subscribe?A:(0,E.of)(P)}}}else h&&((null===(u=this.context)||void 0===u?void 0:u.dragLeave)&&this.context.dragLeave(h),h=void 0,M.dropCursor$.next(null))}return(0,E.of)(null)}))),(0,i.h)(c=>!!c),(0,l.R)(this.destroyed$)).subscribe(c=>M.dropCursor$.next(c))}set context(s){this._context=s}get context(){return this._context}}return _.\u0275fac=function(s){return new(s||_)(x.Y36(x.SBq),x.Y36(T.T))},_.\u0275dir=x.lG2({type:_,selectors:[["","mouse-droppable",""]],inputs:{context:["mouse-droppable","context"]},features:[x.qOj]}),_})()}}]);